<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>One Identity Lab Tracker</title>
<style>
* { margin:0; padding:0; box-sizing:border-box; }
body { font-family:'Segoe UI',system-ui,sans-serif; background:#f0f4f8; color:#1e293b; height:100vh; overflow:hidden; display:flex; }
.login-overlay { position:fixed; inset:0; background:linear-gradient(135deg,#1e3a5f 0%,#2563eb 50%,#1e40af 100%); display:flex; align-items:center; justify-content:center; z-index:9999; }
.login-overlay.hide { display:none; }
.login-box { background:#fff; border-radius:20px; padding:2.5rem 2rem; width:380px; box-shadow:0 20px 60px rgba(0,0,0,0.3); text-align:center; }
.login-logos { display:flex; align-items:center; justify-content:center; gap:1.5rem; margin-bottom:1.5rem; } .login-logos img { height:36px; object-fit:contain; }
.login-box h2 { font-size:1.2rem; font-weight:700; color:#1e293b; margin-bottom:0.3rem; }
.login-box .login-sub { font-size:0.8rem; color:#64748b; margin-bottom:1.5rem; }
.login-field { margin-bottom:1rem; text-align:left; }
.login-field label { display:block; font-size:0.75rem; font-weight:600; color:#475569; margin-bottom:0.3rem; }
.login-field input { width:100%; padding:0.6rem 0.8rem; border-radius:10px; border:1px solid #e2e8f0; font-size:0.88rem; outline:none; background:#f8fafc; transition:border-color 0.2s; } .login-field input:focus { border-color:#3b82f6; background:#fff; box-shadow:0 0 0 3px rgba(59,130,246,0.1); }
.login-btn { width:100%; padding:0.65rem; border-radius:10px; border:none; background:linear-gradient(90deg,#3b82f6,#2563eb); color:#fff; font-size:0.9rem; font-weight:600; cursor:pointer; transition:opacity 0.2s; margin-top:0.5rem; } .login-btn:hover { opacity:0.9; }
.login-err { color:#ef4444; font-size:0.75rem; margin-top:0.5rem; min-height:1.1rem; }
.login-step { display:none; } .login-step.vis { display:block; }
.login-lock { font-size:2.5rem; margin-bottom:0.5rem; }
.cp { flex:1; overflow-y:auto; padding:1.5rem; display:flex; flex-direction:column; align-items:center; }
.cp::-webkit-scrollbar { width:8px; } .cp::-webkit-scrollbar-track { background:#e2e8f0; } .cp::-webkit-scrollbar-thumb { background:#94a3b8; border-radius:4px; }
.ph { display:flex; flex-direction:column; align-items:center; justify-content:center; height:100%; color:#94a3b8; text-align:center; gap:1rem; }
.ph svg { width:64px; height:64px; opacity:0.4; } .ph p { font-size:1.1rem; color:#64748b; }
.pw { width:100%; max-width:850px; display:none; flex-direction:column; gap:0.5rem; } .pw.vis { display:flex; }
.nb { display:flex; align-items:center; justify-content:space-between; padding:0.6rem 1rem; background:#fff; border-radius:12px; border:1px solid #e2e8f0; margin-bottom:0.5rem; position:sticky; top:0; z-index:10; box-shadow:0 2px 8px rgba(0,0,0,0.06); gap:0.5rem; flex-wrap:wrap; }
.nl { display:flex; align-items:center; gap:0.5rem; flex:1; min-width:0; } .nt { font-weight:600; font-size:0.9rem; color:#1e293b; white-space:nowrap; overflow:hidden; text-overflow:ellipsis; } .nc { color:#2563eb; font-weight:600; font-size:0.8rem; }
.nr { display:flex; align-items:center; gap:0.4rem; } .ni { font-size:0.78rem; color:#94a3b8; }
.ba { display:flex; align-items:center; gap:0.3rem; padding:0.35rem 0.7rem; border-radius:8px; border:1px solid #e2e8f0; background:#fff; color:#64748b; cursor:pointer; font-size:0.76rem; font-weight:600; transition:all 0.2s; }
.ba svg { width:14px; height:14px; } .ba:hover { border-color:#3b82f6; color:#3b82f6; } .ba.on { color:#fff; }
.ba.bpt { border-color:#2563eb; color:#2563eb; } .ba.bpt:hover,.ba.bpt.on { background:#2563eb; color:#fff; border-color:#2563eb; }
.ba.bmk { } .ba.bmk:hover { border-color:#ef4444; color:#ef4444; } .ba.bmk.on { background:#ef4444; border-color:#ef4444; color:#fff; }
.ba.bsl { border-color:#8b5cf6; color:#8b5cf6; } .ba.bsl:hover,.ba.bsl.on { background:#8b5cf6; color:#fff; border-color:#8b5cf6; }
.ba.off { opacity:0.3; pointer-events:none; }
.tp { display:none; background:#fff; border:1px solid #e2e8f0; border-radius:12px; padding:1.25rem; margin-bottom:0.75rem; box-shadow:0 2px 8px rgba(0,0,0,0.06); position:relative; } .tp.vis { display:block; }
.xb { position:absolute; top:0.6rem; right:0.6rem; width:26px; height:26px; border-radius:6px; border:1px solid #e2e8f0; background:#f8fafc; color:#64748b; cursor:pointer; display:flex; align-items:center; justify-content:center; font-size:1rem; } .xb:hover { background:#fee2e2; color:#ef4444; }
.th { display:flex; align-items:center; gap:0.5rem; margin-bottom:0.75rem; padding-bottom:0.6rem; border-bottom:1px solid #e2e8f0; font-weight:600; font-size:0.9rem; }
.tb { white-space:pre-wrap; word-wrap:break-word; font-size:0.88rem; line-height:1.7; color:#334155; max-height:500px; overflow-y:auto; }
.sp { display:none; background:#fff; border:1px solid #e2e8f0; border-radius:12px; padding:1.25rem; margin-bottom:0.75rem; box-shadow:0 2px 8px rgba(0,0,0,0.06); position:relative; } .sp.vis { display:block; }
.sh { display:flex; align-items:center; gap:0.5rem; margin-bottom:0.75rem; padding-bottom:0.6rem; border-bottom:1px solid #e2e8f0; font-weight:600; font-size:0.9rem; color:#8b5cf6; }
.sb2 { width:100%; } .sb2 embed { width:100%; height:75vh; border-radius:8px; border:1px solid #e2e8f0; }
.piw { border-radius:10px; overflow:hidden; border:1px solid #e2e8f0; background:#fff; margin-bottom:0.5rem; box-shadow:0 1px 4px rgba(0,0,0,0.04); position:relative; } .piw img { width:100%; display:block; }
.mm .piw { cursor:crosshair; }
.ad { position:absolute; width:28px; height:28px; border-radius:50%; background:#ef4444; border:3px solid #fff; box-shadow:0 2px 8px rgba(0,0,0,0.3); transform:translate(-50%,-50%); cursor:pointer; z-index:5; display:flex; align-items:center; justify-content:center; font-size:0.65rem; font-weight:700; color:#fff; } .ad:hover { transform:translate(-50%,-50%) scale(1.2); }
.at { position:absolute; background:#1e293b; color:#fff; padding:0.5rem 0.75rem; border-radius:8px; font-size:0.8rem; max-width:250px; z-index:20; box-shadow:0 4px 12px rgba(0,0,0,0.3); transform:translate(-50%,-120%); pointer-events:none; }
.at::after { content:''; position:absolute; bottom:-6px; left:50%; transform:translateX(-50%); border-left:6px solid transparent; border-right:6px solid transparent; border-top:6px solid #1e293b; }
.sb { width:370px; min-width:370px; background:#fff; border-left:1px solid #e2e8f0; display:flex; flex-direction:column; overflow:hidden; }
.sbh { padding:1rem 1.25rem 0.75rem; text-align:center; border-bottom:1px solid #e2e8f0; }
.sbl { display:flex; align-items:center; justify-content:center; gap:1.5rem; margin-bottom:0.75rem; } .sbl img { height:32px; object-fit:contain; }
.sbh h1 { font-size:1rem; font-weight:700; color:#2563eb; margin-bottom:0.2rem; } .sbh p { color:#94a3b8; font-size:0.78rem; }
.uprof { display:flex; align-items:center; gap:0.5rem; padding:0.5rem 1.25rem; border-bottom:1px solid #e2e8f0; background:#f8fafc; }
.uprof-av { width:30px; height:30px; min-width:30px; border-radius:50%; background:linear-gradient(135deg,#3b82f6,#2563eb); display:flex; align-items:center; justify-content:center; color:#fff; font-weight:700; font-size:0.75rem; }
.uprof-info { flex:1; min-width:0; } .uprof-name { font-size:0.78rem; font-weight:600; color:#1e293b; } .uprof-role { font-size:0.65rem; color:#94a3b8; }
.uprof-out { padding:0.25rem 0.55rem; border-radius:6px; border:1px solid #e2e8f0; background:#fff; color:#64748b; cursor:pointer; font-size:0.68rem; display:flex; align-items:center; gap:0.25rem; transition:all 0.2s; } .uprof-out:hover { border-color:#ef4444; color:#ef4444; background:#fef2f2; } .uprof-out svg { width:12px; height:12px; }
.ps { padding:0.85rem 1.25rem; border-bottom:1px solid #e2e8f0; background:#f8fafc; }
.pr { display:flex; justify-content:space-between; align-items:center; margin-bottom:0.5rem; } .pr span { font-size:0.8rem; color:#64748b; } .pc { font-weight:700!important; color:#2563eb!important; font-size:0.95rem!important; }
.pbg { width:100%; height:8px; background:#e2e8f0; border-radius:999px; overflow:hidden; } .pf { height:100%; background:linear-gradient(90deg,#3b82f6,#2563eb); border-radius:999px; transition:width 0.5s; }
.pp { text-align:center; margin-top:0.35rem; font-size:0.72rem; color:#94a3b8; }
.ft { display:flex; gap:0.35rem; padding:0.65rem 1.25rem; border-bottom:1px solid #e2e8f0; }
.fb { flex:1; padding:0.35rem; border-radius:8px; border:1px solid #e2e8f0; background:transparent; color:#64748b; cursor:pointer; font-size:0.75rem; text-align:center; } .fb:hover { border-color:#3b82f6; color:#3b82f6; } .fb.on { background:#2563eb; color:#fff; border-color:#2563eb; font-weight:600; }
.ll { flex:1; overflow-y:auto; padding:0.5rem; } .ll::-webkit-scrollbar { width:4px; } .ll::-webkit-scrollbar-thumb { background:#cbd5e1; border-radius:2px; }
.lc { background:#f8fafc; border:1px solid #e2e8f0; border-radius:10px; padding:0.6rem 0.8rem; margin-bottom:0.35rem; display:flex; align-items:center; gap:0.6rem; cursor:pointer; transition:all 0.2s; user-select:none; }
.lc:hover { border-color:#cbd5e1; background:#f1f5f9; } .lc.act { border-color:#3b82f6; background:#eff6ff; } .lc.dn { border-color:#bbf7d0; background:#f0fdf4; } .lc.dn .lt { text-decoration:line-through; color:#94a3b8; } .lc.dn .lcd { opacity:0.4; }
.ls { width:28px; height:28px; min-width:28px; border-radius:50%; display:flex; align-items:center; justify-content:center; font-weight:700; font-size:0.72rem; background:#e2e8f0; color:#64748b; } .lc.dn .ls { background:#22c55e; color:#fff; }
.lk { width:22px; height:22px; min-width:22px; border-radius:6px; border:2px solid #cbd5e1; display:flex; align-items:center; justify-content:center; margin-left:auto; } .lc.dn .lk { background:#22c55e; border-color:#22c55e; } .lk svg { width:12px; height:12px; opacity:0; } .lc.dn .lk svg { opacity:1; }
.li { flex:1; min-width:0; } .lt { font-size:0.8rem; font-weight:500; color:#1e293b; white-space:nowrap; overflow:hidden; text-overflow:ellipsis; } .lcd { font-size:0.68rem; color:#2563eb; font-weight:600; margin-top:1px; } .lm { font-size:0.62rem; color:#94a3b8; margin-top:1px; }
.sft { padding:0.65rem 1.25rem; border-top:1px solid #e2e8f0; text-align:center; background:#f8fafc; }
.rb { padding:0.3rem 1rem; border-radius:6px; border:1px solid #fca5a5; background:transparent; color:#ef4444; cursor:pointer; font-size:0.72rem; } .rb:hover { background:#fef2f2; }
.srch { padding:0.5rem 1.25rem; border-bottom:1px solid #e2e8f0; position:relative; }
.srch input { width:100%; padding:0.45rem 0.7rem 0.45rem 2rem; border-radius:8px; border:1px solid #e2e8f0; font-size:0.8rem; outline:none; background:#f8fafc; transition:border-color 0.2s; } .srch input:focus { border-color:#3b82f6; background:#fff; }
.srch svg { position:absolute; left:1.6rem; top:50%; transform:translateY(-50%); width:14px; height:14px; color:#94a3b8; pointer-events:none; }
.sr { background:#fffbeb; border:1px solid #fde68a; border-radius:8px; padding:0.5rem 0.7rem; margin-bottom:0.3rem; font-size:0.75rem; color:#92400e; } .sr b { color:#d97706; } .sr .srt { font-weight:600; color:#1e293b; cursor:pointer; } .sr .srt:hover { text-decoration:underline; color:#2563eb; }
.sr-count { font-size:0.72rem; color:#64748b; padding:0.3rem 0; text-align:center; }
@media(max-width:768px){ body{flex-direction:column-reverse;} .sb{width:100%;min-width:100%;height:40vh;border-left:none;border-top:1px solid #e2e8f0;} .cp{height:60vh;padding:1rem;} }
</style>
</head>
<body>

<div class="login-overlay" id="loginOv">
  <div class="login-box">
    <div class="login-logos"><img src="logo-one.png" alt="One Identity"><img src="redbelt.png" alt="Redbelt"></div>
    <div class="login-step vis" id="step1">
      <div class="login-lock">&#128274;</div>
      <h2>One Identity Lab Tracker</h2>
      <p class="login-sub">Insira suas credenciais para acessar</p>
      <div class="login-field"><label>Usuario</label><input type="text" id="lUser" placeholder="Digite seu usuario" autocomplete="off"></div>
      <div class="login-field"><label>Senha</label><input type="password" id="lPass" placeholder="Digite sua senha"></div>
      <button class="login-btn" id="lBtn1">Entrar</button>
      <div class="login-err" id="lErr1"></div>
    </div>
    <div class="login-step" id="step2">
      <div class="login-lock">&#128273;</div>
      <h2>Verificacao de Acesso</h2>
      <p class="login-sub">Insira a chave de acesso (Access Key)</p>
      <div class="login-field"><label>Access Key</label><input type="password" id="lKey" placeholder="Digite a access key"></div>
      <button class="login-btn" id="lBtn2">Verificar</button>
      <div class="login-err" id="lErr2"></div>
    </div>
  </div>
</div>
<div class="cp" id="cp">
  <div class="ph" id="ph">
    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/><polyline points="14 2 14 8 20 8"/><line x1="16" y1="13" x2="8" y2="13"/><line x1="16" y1="17" x2="8" y2="17"/></svg>
    <p>Selecione uma Lab Exercise no menu ao lado</p>
  </div>
  <div class="pw" id="pw">
    <div class="nb">
      <div class="nl"><span class="nt" id="nt"></span><span class="nc" id="nc2"></span></div>
      <div class="nr">
        <span class="ni" id="ni"></span>
        <button class="ba bpt" id="bpt" title="Traduzir texto para Portugues"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M5 8l6 6"/><path d="M4 14l6-6 2-3"/><path d="M2 5h12"/><path d="M7 2h1"/><path d="M22 22l-5-10-5 10"/><path d="M14 18h6"/></svg><span>PT</span></button>
        <button class="ba bmk" id="bmk" title="Marcadores"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"/><circle cx="12" cy="10" r="3"/></svg><span>Marcar</span></button>
        <button class="ba bsl" id="bsl" title="Material de Apoio (Slides)"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="2" y="3" width="20" height="14" rx="2"/><line x1="8" y1="21" x2="16" y2="21"/><line x1="12" y1="17" x2="12" y2="21"/></svg><span>Slides</span></button>
      </div>
    </div>
    <div class="tp" id="tp"><button class="xb" id="xtb">&times;</button><div class="th">&#127463;&#127479; Texto Traduzido (Portugues)</div><div class="tb" id="tbd"></div></div>
    <div class="sp" id="sp"><button class="xb" id="xsb">&times;</button><div class="sh">&#128218; Material de Apoio (Slides)</div><div class="sb2" id="sbd"></div></div>
    <div id="pgc"></div>
  </div>
</div>
<div class="sb">
  <div class="sbh">
    <div class="sbl"><img src="logo-one.png" alt="One Identity"><img src="redbelt.png" alt="Redbelt"></div>
    <h1>One Identity Manager</h1><p>Lab Exercise Tracker</p>
  </div>
  <div class="uprof" id="uprof">
    <div class="uprof-av" id="uav">O</div>
    <div class="uprof-info"><div class="uprof-name" id="uname">onelab</div><div class="uprof-role">Lab Student</div></div>
    <button class="uprof-out" id="ubtn" title="Sair"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"/><polyline points="16 17 21 12 16 7"/><line x1="21" y1="12" x2="9" y2="12"/></svg>Sair</button>
  </div>
  <div class="ps">
    <div class="pr"><span>Progresso</span><span class="pc" id="pcn">0/18</span></div>
    <div class="pbg"><div class="pf" id="pfb" style="width:0%"></div></div>
    <div class="pp" id="ppt">0% concluido</div>
  </div>
  <div class="ft">
    <button class="fb on" data-f="all">Todas</button>
    <button class="fb" data-f="pending">Pendentes</button>
    <button class="fb" data-f="done">Concluidas</button>
  </div>
  <div class="srch"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="11" cy="11" r="8"/><line x1="21" y1="21" x2="16.65" y2="16.65"/></svg><input type="text" id="sinp" placeholder="Buscar termo em todas as labs..."></div>
  <div class="ll" id="ll"></div>
  <div class="sft"><button class="rb" id="rbtn">Resetar Progresso</button></div>
</div>

<script>
const LABS = [{"id": 1, "title": "Add Identity Manager Service", "code": "IM-INS-02", "pages": ["lab01_page008.png", "lab01_page009.png", "lab01_page010.png", "lab01_page011.png", "lab01_page012.png"], "text": "Lab Exercise: Add Identity Manager Service\n(IM-INS-02)\nExercise Overview\nIn this lab you install the Identity Manager Service for Active Directory. The lab includes instructions on how to configure the\nServer Service on the AD server and how to check the service availability.\nWhat you need to know\n• You should have the images open and running for this lab.\n• You need the installation resources stored on i: = \\\\IAMS10\\install. To take the right software version please ask your\ntrainer.\nUser credentials required for this lab\nAffected Machines IAMS01,IAMS02,IAMS03,IAMS04, IAMW01\nAD login account\nUsername IAM\\administrator\nPassword I.4Madmin\nIdentity Manager service account\nUsername iam\\svc_1im_service\nPassword I.4Madmin\nSQL Connection\nUsername svc_1IM_SQL\nPassword I.4Madmin\nIdentity Manager - system user\nUsername [your system user] or training\nPassword I.4Madmin\nEstimated Time To Complete This Lab: 20 minutes\nLab ExerciseN���:\nThe Identity Manager Service on the DB server was installed earlier, automatically, using the Installation Wizard. Thislab shows how to install (or add) an Identity Manager Service manually.\n\nLogin and create system user\n• Logon to the Admin Workstation (IAMW01) as IAM\\administrator\n• Run Launchpad from the Start menu.\n◦ Connection: IAMS02\\IAMDB\n◦ Authentication method: System user\n◦ User: Training\n([your system user] if database was manually installed)\n◦\n Password: I.4Madmin\n([your system user password] if database was manually installed)\n• \nStart Designer from Launchpad, click Manager system users from Configure tab (RUN button).\nIn Designer:\n• Select Getting started• Click on Create system user to create your Identity Manager account\n◦ Note your system user name.◦ Note your system user password.◦ Click [OK].\n• On the property form:\n◦ Password never expires: checked\n◦ Administrative user: checked\n• Click [Commit to database] and click [Save] to store changes\n• Close Designer. You are now able to login with your personalized System user.\nInstalling Identity Manager Service\n• In Launchpad select One Identity Manager Service for database from the Installation overview tab and click [Run].N���:\nSystem user and password maybe was predefined during initial installation (typically not part of a course). If this was notthe case, please use System user: Training, Password: I.4Madmin to sign in. We try to use Launchpad to start any otheradmin front-end in order to simplify the login process.Each Identity Manager - System User is like an account for Identity Manager but can act as well like a role to assignIdentity Manager entitlements. IAG experts working with Identity Manager typically gets their personalized System user.This account will now be created.\nN���:\nThere are more ways to create a system user. In this scenario we created a system user with super admin privileges(Administrative user). In difference to a standard system user, this account collects continuously nearly all permissions.This type of user is only for experts. In a productively used environment this type of system users should be closelymonitored for security reason.\n\n• In Identity Manager Server Installer\n◦ Click [Next]\n◦ If necessary, select a connection and login with your system user credentials (normally all was set automatically).◦ Click [Next]◦ Click [Add] Define Server Properties:\n▪ Server: IAMS03\n▪ Queue: \\IAMS03\n▪ Full server name: IAMS03.IAM.corp\n◦ Click [Next]◦ From the Machine roles tab\n▪ select:\n▪ Job Server,▪ Active Directory,\n▪ Microsoft Exchange\n▪ SCIM\n▪ Click [Next]\n◦ From the Server functions tab\n▪ Keep all the default selections▪ Click [Next]\n◦ In Service settings\n▪ select queuexN���:\nTwo ways to add an Identity Manager Job Service using Launchpad:\n• Installation overview / One Identity Manager Service for Database\n• Configure / Add or modify a job server\nIn case of adding a Job Service to an installation you can use both options. We prefer to use the first option in this lab,\nbecause the wizard getting started, can be used easily and straight forward.Please note:The first option allows to select an already in the database inserted Job service. BUT it is possible to add aNEW service as well!\nS T O P\n→ START with a click on [Add]! → (1) in the picture below.\n\n▪ Set Process request interval 30\n▪ Click [Next].\n◦ Answer the question to install the software now remotely on the server with [Yes].\n◦ Select the install source if needed\n▪ Browse for folder I:\\OI-Manager\\[Name of the current product and version] (\\\\IAMS10\\Install\\OI-Manager\n\\[Name of the current product version we use in this training])\n▪ Click [OK]▪ \nWait until a green checkmark to appear. Click [Next].\n◦ On Server access configure\n▪ Computer: IAMS03\n▪ User: IAM\\SVC_1IM_Service\n▪ Password: I.4Madmin\n▪ Click [Next].\n• \nClick [Next] and [Finish] to end the wizard.\n• Repeat the same steps (2-3.) to install a server service on IAMS04 (IAMS04.IAM.corp) . This time you need to configure\nflags for LDAP Directories, SharePoint  and SCIM. If there are questions, your trainer will like to answer them.\nChecking Identity Manager Service availability\n• From Launchpad start Manage/Check system status to start Jobqueue Info in order to monitor our system and check\nthe health of our installed Identity Manager Service.\n• In Jobqueue Info\n◦ Select tab Job Server\n◦ Click into the Job Server dialog and press F6 to reload the entries and F5 to refresh the status (optionally you can\nuse the context menu).\n◦ Right click on Server IAMS02 and select Show in browser from the context menu.\n• In the fresh opened internet browser select Log File and follow all messages down to the end. You should see some\ngreen lines indicating that jobs were successfully processed.\n• Step back to Jobqueue Info and repeat step 2.c and 3 for server IAMS03 and IAMS04.N���:\nIn a production environment we try not to stress the database with many requests from many services all the time.Because of this, 90 seconds is a proper default to re-query the database. In a development environment, waiting on jobexecution in front of a monitoring tool, 90 seconds can be a bit long. Because of this, and only for a developmentenvironment, we configure this value to 30 seconds (few server services only). Any values below 30 seconds might lead\nto handshake problems and increases the service reaction time.\nN���:\nDuring the installation, it is possible that a positive answer is required to grant the permission to login as a service forthe above specified user.\nN���:\nThe server icons for IAMS02, IAMS03 and IAMS04 should return as blue icons after a few seconds. This indicates theIdentity Manager server services are up and running.\nN���:\nThis time you may see an error talking about a dropped or missing HTML connection. This can be ignored.The encryption warning can also be ignored. In a training we will not work with encrypted connections or data.\n\nFollow the messages to the end. You should see the same green lines as before. This is because of a timing issue during the\ninstallation.\nLab Exercise Complete", "slidePdf": "IM-INS_Installation_And_Configuration.pdf"}, {"id": 2, "title": "Installation Web Applications", "code": "IM-INS-03", "pages": ["lab02_page013.png", "lab02_page014.png", "lab02_page015.png", "lab02_page016.png", "lab02_page017.png", "lab02_page018.png", "lab02_page019.png", "lab02_page020.png"], "text": "Lab Exercise: Installation Web Applications\n(IM-INS-03)\nExercise Overview\nIn this lab you will install several One Identity Web Applications on your IIS Server.\nWhat you need to know\n• You should have the images open and running for this lab.\n• You need the installation resources stored on i:=\\\\iams10\\install. Your trainer will tell you which setup set to take.\nUser credentials required for this lab\nAffected Machines IAMS03, IAMW01\nAD login account\nUsername IAM\\administrator\nPassword I.4Madmin\nSQL Connection\nUsername svc_1IM_SQL\nPassword I.4Madmin\nEstimated Time To Complete This Lab: 30 minutes\nLab Exercise\nApplication Server Installation\n• Switch to the App Server (IAMS03) and logon as IAM\\administrator.• Open Windows Explorer. Expand the following path I:=\\\\IAMS10\\install and find the Identity Manager installation\ndirectory (Note: There may be more than one installer directory. If in doubt which to select, ask your instructor).\n• Run autorun.exe.• Click several times onto the upcoming error message\n• Install Web based components in Installation.\n• In the Web Installer…\n◦ Click on Install application server◦ Click [Next]N���:\nThe Identity Manager Application Server is a REST based Web Application. You can install many of these Applicationsand run them as well in a Cluster if you like. In any basic training we install just one Application Server. This Applicationserver is used to enable the full text search capability of the Standard Web Portal.The installation of Web Applications happens locally on server IAMS03. There is no remote capability to install theseWeb applications until today (missing but necessary OS API calls for security reasons).\n\n◦ If no connection to IAMS02/IAMDB exists, click on Add new connection . If a connection to IAMS02/IAMDB exists,\nselect this connection and continue with d.\n▪ Select SQL Server from Connections\n▪ Click [Next].▪ Server: IAMS02\n▪ Leave Windows authentication UNCHECKED▪\n User: SVC_1IM_SQL\n▪ Password: I.4Madmin\n▪ Select Database: IAMDB\n▪ Click [Finish].\n◦\n Connect to the One IM Database (IAMDB)\n▪ Authentication method: System user\n▪ User: [Your user] or Training\n▪ Password: [Your password] or I.4Madmin\n◦ Click [Next] and configure Select setup target\n▪\n Application name: AppServer\n▪ IIS target path: Default Web Site\n▪ Enforced SSL: checked\n▪ Setup dedicated application pool: checked\n▪ Web authentication: Windows authentication (single sign-on)\n▪ Database authentication: SQL authentication\n◦ Click [Next]◦ Keep defaults on Assign machine roles◦ Use the already existing session token certificate\n▪ Session token certificate Use existing certificate▪ Select certificate: Subject: CN=iams03.iam.corp,…\n(take the first similar entry in the list)\n◦\n Click [Next]\n◦ Use Set update credentials defaults◦ Click [Next], [Next] and [FINISH]\n• On your Workstation IAMW01 start your Internet Browser\n◦ Enter URL: https://iams03.iam.corp/AppServer\n(Optional you can select Quick Links → Identity Manager → Application Server from the Environment\ndocumentation which ge\nts started with each installed Internet Browser)\n◦ In the login mask enter the following credentials if prompted:\n▪ User Name: iam\\administrator\n▪ Password: I.4Madmin\n◦ In the Portal login mask enter system user credentials:\n▪\n User: [Your account]\n▪ Password: [Your Password]N���:\nOnly if prompted specify SQL account to connect to the database svc_1im_sql, I.4Madmin.\n\nStandard Web Portal Installation\n• Switch to the App Server (IAMS03). If needed logon as IAM\\administrator.\n• Open Windows Explorer. Expand the following path I:=\\\\IAMS10\\install and find the Identity Manager installation\ndirectory.\n• Run autorun.exe.• Select Install of Web based components on tab Installation.\n• In the Web Installer…\n◦ Click on Install Web Portal◦ Click [Next]◦ Logon using your system user account (remember, it's not the first time doing this).◦ On Select setup target…\n▪ Application name: IdentityManager\n▪ IIS target path: Default Web Site\n▪ Check: Enforce SSL\n▪ Check: Setup dedicated application pool\n▪ \nWeb authentication: Anonymous\n▪ Database authentication: SQL authentication\n▪ Click [Next].\n◦\n On Select application server\n▪ Click Select application server▪ Enter URL: https://iams03.iam.corp/AppServer\nYou should see something green.\n▪ Specify server certificate: IAMS03.IAM.corp*…▪ Click [OK]▪\n Click [Next]N���:\nEnforce SSL needs a Default Web Site installed with HTTPS binding. We use the Anonymous authentication to beable to login with different dedicated users, which is standard for a development or test environment (a productionconfiguration would use typically Windows authentication and single sign-on).\n\n◦ On Select setup target\n▪ Accept configuration defaults.\n▪ Click the small icon next to Authentication for sub project is missing.\n▪ In the sub-form select VI_UserRegistration_Web▪ User: [your user]\n▪ Password: [your system user password]\n▪ Click [OK].\n▪ Click [Next], [Next] and [Finish] to close the wizard.\n• Switch to your workstation and use Launchpad: Manage/Check system status to open Jobqueue Info.\n◦ Select Job server status on right lower◦ Select tab Web servers\n◦ Right click into the list and select Refresh server list (optionally you can use F6 like before in \nJob server )\n◦ Right click the entry which represents the portal you installed and select Show in browser (if this is not available\nyou can as well use the marked icon on the tabs right upper side, '3' in the picture below).N���:\nYou might get asked about a URL for notifications. If such a question appears, select always the URL to your StandardWeb Portal (https://.../IdentityManager).\n\n◦ On the monitoring site of your Standard Web Portal, you see that all your assemblies are up to date. This is also a\ngood place to upgrade your Web Application (Identity Manager Service Pack or Upgrade).\n◦ Shorten the portal Https://*/monitor#* by deleting the end of the URL beginning with “//”. You will now get the real\nportal site.\nPassword Reset Web Installation\n• Switch to the App Server (IAMS03). Logon as IAM\\administrator if needed.\n• Open Windows Explorer. Expand the following path I:=\\\\IAMS10\\install and find the Identity Manager installation\ndirectory (Note: There may be more than one installer directory. If in doubt which to select, ask your instructor).\n• Run autorun.exe.• Select Install of Web based components on tab Installation.\n• In the Web Installer…\n◦ Click on Install Web Portal◦ Click [Next]◦ Logon using your system user account (remember, it's not the first time doing this).◦ On Select setup target…\n▪ Application name: PasswordReset\n▪ IIS target path: Default Web Site\n▪ Check: Enforce SSL\n▪ Check: Setup dedicated application pool\n▪ \nWeb authentication: Anonymous\n▪ Database authentication: SQL authenticationN���:\nCurrently we can’t log in, because we do not have any permitted identities in the system we can use, but you should seea One Identity Manager login mask.\nN���:\nThis installation looks very similar to the last installation. Please read instructions carefully, because there are small butimportant configuration differences.\n\n▪ Click [Next].\n◦ On Select application server\n▪ Click Select application server\n▪ Enter URL: https://iams03.iam.corp/AppServer\nYou should see something green.\n▪ Specify server certificate: IAMS03.IAM.corp*…\n▪ Click [OK]▪ Click [Next]\n◦ On Select setup target\n▪ \nWeb project: QER_PasswordWeb.\n▪\n Click [Next]\n◦ On Application token type in some text (for example:  PasswordWebToken )\n◦\n Click [Next]\n◦ You get prompted to configure a Base URL for email notifications. This is a URL in the footer of your email\ncommunication. This should always point to your Standard Web Portal. Take the default!\n◦ Click [Next], [Finish] to close the wizard.\n• Switch to your workstation and use Launchpad: Manage/Check system status to open Jobqueue Info.\n◦ Select Job server state  on right lower\n◦ Select tab Web services\n◦ Right click into the list and select Refresh server list◦ Right click the entry which represents the portal you installed and select Show in browser (if this is not available\nyou can as well use the marked icon on the tabs right upper side).\n◦ After you see the Monitor site of the selected portal and you ensured the assemblies are up to date, shorten the\nURL by deleting the end of the URL beginning with ''//''. You will now get the portal site.\nAPI Server InstallationN���:\nEnforce SSL needs a Default Web Site installed with HTTPS binding. We use the Anonymous authentication to be\nable to login with different dedicated users, which is standard for a development or test environment (a productionconfiguration would use Windows authentication).\nN���:\nThe application token is like a password to secure the installation. After you defined a token you should store the textsomewhere securely. Once you like to install another Password Reset Web instance you need this token again. Thetoken hash is stored in the Database and in the Application web.config. For security reasons you cannot get a tokencleartext from somewhere (beside your own secured notes).You can create a new token during each Installation of another Password Reset Web but you will disable all\nother Password Reset Webs using another token.\nYes of course it is as well possible to change the token in a web.config and the database (for example for a token resetor if you need to create a new one). Therefore, you will use the Identity Manager Web Portal command line tool:bin\\WebDesigner.ConfigFileEditorCMD.\nN���:\nIn the previous part of these labs we installed the App Server as a prerequisite for the Standard Web Portal, the Std.\n\n• Switch to the App Server (IAMS03). Logon as IAM\\administrator if needed.\n• Open Windows Explorer. Expand the following path I:=\\\\IAMS10\\install  and find the Identity Manager installation\ndirectory (Note: There may be more than one installer directory. If in doubt which to select, ask your instructor).\n• Run autorun.exe.• Select Install of Web based components on tab Installation.\n• In the Web Installer…\n◦ Click on Install API Server◦ Click [Next]◦ On Installation source keep the defaults and click [Next]◦ On Select setup target…\n▪ Application name: ApiServer\n▪ IIS target path: Default Web Site\n▪ Check: Enforce SSL\n▪ Check: Setup dedicated application pool\n▪ \nWeb authentication: Windows authentication\n▪ Database authentication: SQL authentication\n▪ Click [Next].\n◦\n On Select application server\n▪ Click Select application server\n▪ Enter URL: https://iams03.iam.corp/AppServer\nshould see something green.\n▪\n Specify server certificate: IAMS03.IAM.corp*…\n▪ Click [OK]▪\n Click [Next]\n◦ Use the already existing session token certificate\n▪ Session token certificate: Use existing certificate\n▪ Select certificate: Subject: CN=API Server,…\n◦ Click [Next]\n◦\n On Assign machine roles keep the defaults and click [Next]\n◦ Use Set update credentials defaults\n◦ Click [Next]◦ On Application token type in the same token, you used above (for example: PasswordWebToken)\n◦ \n Click [Next], [Next] and [FINISH]\n• Switch to your Workstation IAMW01.• In Launchpad start Designer (Configure / Change system settings)\n• In Designer\n◦ Select Edit configuration parameters from Getting Started\n◦ Expand QBM/HtmlDevelopment◦ Compiler: \nchecked\n◦ [Commit to database], [Save] and exit Designer.\n• In Launchpad start Database compiler (Change & Extend/Compile the database)\n◦ Click [Next]◦ Sign in with [Your user]◦ From the dropdown select Scripts including all dependencies◦ Use the bio break to discuss the reason to have a \nDatabase compiler  with your trainer. Don't worry we will discussWeb Portal and a Password Reset Portal. Beside the App Server this is a selection of Web Portals based on Web\nDesigner technology (a One Identity proprietary technology to develop fast Web Portals). Since version IdentityManager 8.1 we started to switch all portals to a new Angular based technology. Therefore, we need another specificREST based Web Service which is named the API Server. This step will install the API Server and all currently availableAPI Server based portal\nN���:\nNow the API Server is installed. To get the Api Server based Web Portals functional you need to compile the angularbased content stored in the database. Because this takes some time, the compilation option is initially deactivated. Let'sactivate and compile this content.\n\nthis later in the training again. This step needs some time.\n◦ After all is compiled, click [Next] and [Finish]\n• Switch to Launchpad: Manage/Check system status to open Jobqueue Info.\n◦ Select Job server state  on right lower\n◦ Select tab Web services\n◦ Right click into the list and select Refresh server list\n◦ Right click the entry which represents the API Server you installed and select Show in browser (if this is not\navailable you can as well use the marked icon on the tabs right upper side).\n◦ You can see a couple of Web Applications you can play around with if you like.\nLab Exercise Complete", "slidePdf": "IM-INS_Installation_And_Configuration.pdf"}, {"id": 3, "title": "Import of Authoritative Resources", "code": "", "pages": ["lab03_page021.png", "lab03_page022.png", "lab03_page023.png", "lab03_page024.png", "lab03_page025.png"], "text": "Lab Exercise: Import of Authoritative Resources\nExercise Overview\nIn this lab you import Authoritative Sources into Identity Manager\nWhat you need to know\n▪ You should have the images open and running for this lab.\n▪ Additional Lab content stored in the Lab folder T:\\courses\\IdentityManager\\labs\\IM-BSC-01 (T: = \\\\IAMS02\n\\Training):\nUser credentials required for this lab\nAffected Machines IAMW01\nAD login account\nUsername IAM\\administrator\nPassword I.4Madmin\nEstimated Time To Complete This Lab: 60 minutes\nLab Exercise\nData Import\n▪ From Launchpad, run Configure/Configure a data import.\n▪ When the Data Import Wizard starts.\n▪ Click [Next].N���:\nIn a typical IAM project we have two options to import data.\n▪ >We can use the Synchronization Editor\n(typically for recurring imports happens scheduled based and managed by IAG personal) or:\n▪ We can use the Data Importer\n(typically used for single shot imports to integrate a given set of data into the system, often used by\nproject developers or Identity Manager implementors).\nBoth import types do have its place in an Identity Manager installation. At this stage of the training and in thefollowing Lab we focus on the Data Importer because we currently need Costcenter, Locations andDepartments as fast as possible to be able to connect our main target systems. In later labs we will focus on\nthe Synchronization Editor and the Synchronization Engine in a single topic.\n→ In a real IGA project you need to decide which import type is the best option depending on the usecase, planned recurrence, operating personnel and implementation costs.\n\n▪ Click [Next] again to perform the database login.\nUsername and password should be preconfigured.\nIf not, sign in with your System User Account\n▪ Username: user name created during the installation of Identity Manager\n▪ Password: password used for user creation\n▪ Click [Next].▪\n Skip loading an import definition file by clicking [Next].\n▪ Select [Import CSV file].▪ Click [Next].▪ Select from the IM-BSC-01_DATA_Location.csv file from the LAB folder structure \nT:\\courses\n\\IdentityManager\\Labs\\IM-BSC-01\n▪ Click [Open].\n▪ The imported text appears in the window. File encoding will usually say utf-8 or Unicode.▪ Click [Next].▪ As you can see in the Example data preview, the first line contains not a record. Configure the Number\nof lines in Number of lines in header to 1.\n▪ Set Columns identified by Delimiter (typically keep the default).▪ Click [Next].▪ On the next page configure the Delimiter to “Semicolon” (typically keep the default).▪ Click [Next].▪ Step past the next window by clicking [Next]. This option is only used if you want to select a subset of\nthe import data.\n▪ In Match target tables and columns\n▪ Select Locality from the Target table drop down list▪ Click on the wizard icon on the right side of the window (\n).\n▪ Perform the manual corrections\n▪ Column Ident_locality is ok but must select “Use as Key column”. To do so click the drop down from\nIdent_locality and select the suitable checkbox.\n▪ Step to the column mapped to UID_DialogCountry and drop down the mapping box.\n▪ Expand the UID_DialogCountry  database field (expand means to click on the small plus in front of the entry)\n▪ Select Iso3166_2 target column (this is the column matching to your strings)\n▪ The remaining fields should all be mapped correctly. Set column Treelevel to not assigned, this\ndata is not needed to create your location structure.\n▪ Now take a second look at the columns to ensure all your changes registered correctly.\n▪ Click [Next].\n▪ Ignore this time Specify hierarchy because the location structure is flat.\n▪ Click [Next].▪ Leave Insert new data record and Update existing data records checked.N���:\nAn auto-mapping is performed using the header information.These mappings must still be reviewed manually.Auto-mapping makes it easier for you to map all the CSV columns to the database columns. Understand that\nthis only works if the CSV column names are similar or equal to DB column names because, even within\nIdentity Manager, there is no artificial intelligence implemented.\nN���:\nA 'uid_' field means that a database UID is expected as data. As you easily can see the data contains onlyshort text strings outlining country codes. You need to remap the automatically set column. Your selection willdetermine a column in a related table (therefore, you need to expand the previous mapped field) containingthese codes. Data Importer will use this selection to identify the matching record (database UID).To know the right column, you need to know your database model or at least to look into your database to\nidentify the right column by comparing your import data values with column value examples. In this lab we let\nyou know which is the right column 'DialogCountry.Iso3166_2 '.\n\n▪ Click [Next].\n▪ Skip Connection variables by clicking [Next].▪ Saving the import definition.\n▪ Un-check Save import definition file▪ Ensure the Import data option is checked.\n▪ Ensure the Create import script option is checked.\nName the script: CCC_Import_Locations\n▪ Leave \nAdd script to tag  empty.\n▪ Click [Next].\n▪ A message box appears, asking you if you want to compile the database. Click [No].\n▪ The data import progress page appears, and the data import starts.\n▪ When completed, click [Next], then click on the tiny blue link Start another import to continue with costcenter\nand department information.\n▪ Your Data Importer should show the form Loading an import definition file. If this is not the case remember\nwhat you have learned to start the Data Importer and sign in und step through until this page appears.\n▪ Use the three dots to select from the IM-BSC-01 lab folder an\nImport definition file: IM-BSC-01__DEF_DataImporter_CostCenter.xml\n▪ Step through, using [NEXT] until you get asked for a data source.▪\n Select: IM-BSC-01__DATA_Costcenter.csv\n▪ Step through, using [NEXT] and note that each setting is now preconfigured. Stop at Specify hierarchy.\n▪\n On the Specify hierarchy  form\n▪ Check Sort by hierarchy (should be already selected)\n▪ Key column: FullPath\n(default, already set)\n▪\n Parent key column: UID_ParentProfitCenter → FullpathW������:\nSometimes you are only working with a subset of the records that exist in the target system. If the “Delete\nrecords that no longer exist” option is selected, you must also use “The Condition for target objects” field toproperly identify the records to be deleted. This is to prevent records from accidental deletion.Use case example: The data subset may include all employees from the sales department. You do not want\nall the users from the engineering department (and all other departments) to be deleted. You only want the\nusers who are gone from sales to be deleted from the target system.\nN���:\nChecking Save the import definition file will save the import configuration. This is often helpful becausewhen running the same kind of import again, you need to enter the configuration steps again. In our examplethe information already exists in your share so you can uncheck the functionality.\nN���:\nIn our previous import we stepped through the complete manually import process. This was to outline thistechnology. Now we will use predefined imports just to quickly get data we need. First, we will perform acostcenter import followed by the department import.\nN���:\nIn our example costcenter and department structure is a hierarchical tree structure. Because of this we wantto import this structure from the beginning as a hierarchical structure. One thing to know: If you activate thisfeature any values stored in the Key column or Parent key column must be unique (clean data source).Otherwise, you will get an error message.If you don't use this feature you need to run the import two times to create all entries with a first run and a tree\nstructure with a second run. Truly better to use the feature!\n\n(default, already set)\n▪ Click [Next] until you need to compile the database.\n▪ Answer the Do you want to compile database? Question with No.\n▪ Click [Next] and Start another import.▪ This time we will import the department structure.\n▪ On form Loading an import definition file select from the lab folder\n▪ Import definition file: \nIM-BSC-01_DEF_DataImporter_Department.xml\n▪ Click [Next] until it is time to select the import file.\n▪ Import file: IM-BSC-01__DATA_Department.csv\n▪ Click [Open]\n▪\n Click [Next] until you see the Do you want to compile the database? message\n▪ This time (last import) click [Yes] to compile the database.\n▪ Click [Next] to perform the import.\n▪ Click [Next] and [Finish] to close the Data Importer.\n▪ 11. In Launchpad open Manage/Display and maintain content data to open Manager for checking import\nresults.\n▪ To expand the whole tree of Organizations expand the Departments/Hierarchical view.\n▪ In Organizations and expand Cost center/Hierarchical view\n▪ In Organizations select Locations and expand Hierarchical view.\n▪ Now let's look into the import definition files we used.\n▪ Open DEF_DataImporter_Department.xml in Notepad++ and step through the contentN���:\nTime for another bio break or cup of coffee. The compilation with Angular based Web Portals included, takesa while.\nN���:\nYou should see a hierarchical tree of departments.\nN���:\nYou should see a three level structure of department codes, controlling areas and cost centers. This is usualfor a lot of companies.\nN���:\nThere should be a flat list of locations available.\nN���:\nNotice the defined ScriptName, the global configuration in section LineProvider and FieldStrategy, thedefined mappings in the columns section and the hierarchical information starting with Definition=FK(….Definition files are used to store an import configuration for reuse later.For example: on an update.\n\nLab Exercise Complete", "slidePdf": ""}, {"id": 4, "title": "Add Permission and Application Role", "code": "IM-SEC-01", "pages": ["lab04_page026.png", "lab04_page027.png", "lab04_page028.png"], "text": "Lab Exercise: Add Permission and Application Role\n(IM-SEC-01)\nExercise Overview\nIn this lab you create system permissions and add them to an Identity Manager application role. This is done as a\nprerequisite for the customization labs.\nWhat you need to know\n▪ You should have the images open and running for this lab.\nUser credentials required for this lab\nAffected Machines IAMS01,IAMS02,IAMW01\nAD login account\nUsername IAM\\administrator\nPassword I.4Madmin\nIdentity Manager - system user\nUsername [your system user] or training\nPassword I.4Madmin\nEstimated Time To Complete This Lab: 10 minutes\nLab Exercise\nCreate a permission group\n▪ Open Launchpad and start the tool to configure Identity Manager (Designer). Wait for the full interface to be\nloaded. (Wait for the Getting Started page to appear)\n▪ Select Permissions from the Main MenuN���:\nIn many parts of Identity Manager customization and configuration options you need to assign permissions tonew objects to make them visible or usable to specific identities or identity groups.Out of the box existing permission groups or Application roles can't be used for this, because as predefinedand upgradeable standard objects they can’t be modified. Because of this it is necessary to create a set ofcustom permission objects, from now on can be used to manage access to extensions and addons we will\ndevelop in this system and this training.\n\n▪ Select Permissions groups from the Permissions  navigation pane.\n▪ Right-click in the list pane and click on New in the popup selection. You will get a grid displayed below which\nallows to enter some values. Configure as follows:\n▪ Permissions group: CCC_Dialog_And_Schema_Extensions\n▪ Only use for role-based authentication: True\n▪ Commit to database and save all changes to the report change label.\n▪\n In Designer select Base Data and expand the section General in the Treeview.\n▪ Select Configuration Parameter and expand QBM/HtmlDevelopment\n▪ Turn off (uncheck) parameter Compiler.\nRemember we did the opposite with this Configuration parameter before, to compile the Web Projects\nexplicitly.\n▪ From the Database menu Compile database using scripts including all dependencies configuration.\nYou will see this time the compiler will do its job much faster as during the last two times. Don't wonder there\nare web projects getting compiled. These are the Web Designer technology-based web projects are gettingalways be compiled.\nCreate an Identity Manager Application role\n▪ Use Launchpad to open the main data administration tool.\n▪ Select One Identity Manager Administration from the Main Menu.▪ Right click Custom in the navigation pane and select New from the context menu.\n▪ Application role: Dialog and Schema extensions\n▪ Permissions group: CCC_Dialog_And_Schema_Extensions\n▪ Click [Save]\n▪\n Select the new object. Maybe you need to switch the treeview\n▪ Select Create dynamic role from the Tasks  list\n▪ Object class: Person\n▪ Click Edit SQL icon (\n )\n▪ Condition: 1=1\n▪ Click [Save].\nLab Exercise\n CompleteN���:\nNew permission groups could have scripts associated with them. Therefore, we must recompile the database.Because of this it is helpful to temporarily deactivate the compilation of Angular Web Portals which cost a lotof time.\nN���:\nTo make the new permissions groups accessible, they must now be associated with an application role. Thereare no out-of-the-box application roles for this, so we must create one.\nN���:\nYou now have a permission group in Identity Manager with the necessary additional permissions and anapplication role that allows assignment of the permission role to identities. Please keep in mind that, in aproduction environment, life is not that easy, and you typically deal with more, sometimes nested, permissiongroups and more application roles. If there is an error message indicating, you cannot save because of amissing flag: IsRoleBasedOnly please return to Designer and set the flag as described in step 4b in the\nsection above.\nN���:\nThis will assign all employees to this role. Employees are currently not available in this system. The conditionallows to assign them automatically to the role once they exist.\n\n", "slidePdf": "IM-SEC_Basic_Framework_Security.pdf"}, {"id": 5, "title": "Connecting Basic Target Systems", "code": "IM-CBS-01", "pages": ["lab05_page029.png", "lab05_page030.png", "lab05_page031.png", "lab05_page032.png", "lab05_page033.png", "lab05_page034.png", "lab05_page035.png", "lab05_page036.png", "lab05_page037.png", "lab05_page038.png", "lab05_page039.png"], "text": "Lab Exercise: Connecting Basic Target Systems\n(IM-CBS-01)\nExercise Overview\nIn this lab you connect several standard target systems.\nWhat you need to know\n▪ You should have the images open and running for this lab.\n▪ Additional Lab content stored in the Lab folder T:\\courses\\IdentityManager\nUser credentials required for this lab\nAffected Machines IAMS01,IAMS02,IAMW01\nAD login account\nUsername IAM\\administrator\nPassword I.4Madmin\nAD synchronization account\nUsername iam\\svc_1im_ad\nPassword I.4Madmin\nMS Exchange synchronization account\nUsername iam\\svc_1im_ex\nPassword I.4Madmin\nLDAP synchronization account\nUsername svc_LDAP_1im\nPassword I.4Madmin\nSQL Connection\nUsername svc_1IM_SQLN���:\nTo check your LDAP objects you can use the pre-installed Softerra LDAP Browser on your AdminWorkstation.\n\nPassword I.4Madmin\nEstimated Time To Complete This Lab: 45 minutes\nLab Exercise\nPrerequisites\n▪ From the Launchpad open Configure/Change System Settings a Designer will be started.\n(In cases where your Designer did not show up Configuration parameters, from the Getting started page\nselect Edit configuration parameters.)\n▪ Expand tree: TargetSystem\\ADS\n▪ PersonAutoFullsync checked\n▪ PersonAutoFullsync Search and Create\n▪ PersonAutoDefault checked\n▪ PersonAutoDefault No▪ Exchange2000 checked\n▪ PersonUpdate \nunchecked\n▪ Expand tree: TargetSystem\\LDAP\n▪ PersonAutoDefault checked▪ PersonAutoDefault No▪ PersonAutoFullSync checked\n▪ PersonAutoFullSync Search\n▪ To activate MS Exchange synchronization later, we also must set a default mail domain.\nExpand the \nconfiguration tree to QER\\Person\n▪ DefaultMailDomain checked▪ DefaultMailDomain IAM.corp\n▪ It is also helpful to check the parameters to enable the Identity Manager software auto-update\nfunctionality\n. This helps prevent error messages on missing DLL's if you forget to select the installation\noption Select modules from database.\nExpand configuration tree Common\n▪ Autoupdate checkedN���:In an earlier lab we have connected authoritative sources to Identity Manager using the Data Importer. This ismore for IGA project development or single shot imports.In this lab we use the Synchronization Editor to configure a Standard connector. Typically, a connector is usedfor a well known Target System such as Microsoft Active Directory. These includes as well generic data\nsources like LDAP, CSV, ADO.NET or a generic API connect like PowerShell connect.\nA connector is typically the fastest way to connect a target system if it is natively supported. In difference tothis, if you build a connector from scratch, this could very fast become very expensive (depending on thetarget data model and complexity).To build a connector from scratch will be done in another lab.Before we can start, we should doublecheck some \nalready set  prerequisites just to become aware of.\n\n▪ Autoupdate 1\n▪ Autoupdate/AllowOutOfTimeApps 0\n▪ Autoupdate/ServiceUpdateType Auto\n▪ Click [Commit to database] and [Save].\n▪ Close Designer.\nConnect to Microsoft Active Directory\n▪ From Launchpad start Installation overview/Target system type Active Directory (Data Synchronization\nsection)\n▪ In this training we focus on native Identity Manager!\nBecause of this:N���:\nPersonAutoFullSync describes the behavior of how the system should handle a not existing identity (Person)object if, during reconciliation, an account in the Identity Manager database is created. In this configuration:An existing identity object is assigned or it gets created, if there is no such object in the database.Please understand, in most IGA projects, HR (identity) data is imported from authoritative sources (SAP HR,\nPeoplesoft, etc.). During the initial synchronization, AD users are assigned to the existing Person objects\n(search). In our training scenario, we use the ability to create identities (Person objects) based on AD useraccounts (create).This is the second part of SearchAndCreate.PersonAutoDefault This parameter describes the system behavior \nif in Identity Manager  an account gets\ncreated (difference to the parameter above: It was for reconciliation). Here our configuration leads to “do\nnothing” which means no identities gets created or assigned to the new account objects.\nBoth configuration parameter, PersonAutoFullSync and PersonAutoDefault, exists for many target\nsystems and have to be configured separately.\nExchange2000 is the parameter that indicates that MS Exchange can be connected. Sorry, half of the name\n(“2000”) is a bit misleading but never changed because of downward compatibility.\nPersonUpdate controls the data flow between identities (person objects) and Active Directory account\nobjects. Typically, Identity Manager controls an Active Directory. This means modifications of person object\nproperties leads to modifications of AD account properties. In scenarios where no authoritative HR system is\nconnected, this behavior can be inverted by checking this configuration parameter.\nUse the description of a configuration parameter or the Identity Manager manual to learn about its effect. This\nconfiguration exists only for target system Active Directory.\nDefaultMailDomain allows us to build the default email address for any person object. This is independent in\nhow many systems an identity has mailboxes. All could be assigned to a person but only one address can be\nthe default address.\nAutoUpdate enables the feature where Identity Manager service and front-end binaries are automatically\nupdated from the database. This prevents working with old software (on a system update or hotfix) and\nmissing DLL's if, during an installation, the select current installed modules from database option is not\nused. We highly recommend activating this for every installation.\nIMPORTANT: In this section, there were few actions to perform. However, these are essential principles of\nIdentity Manager which you should remember. These (and all other) notes in the lab exercises could provide\nanswers to the questions in the online certification assessment.\nN���:\nThe front-end starting in the background is Synchronization Editor. Launchpad directly starts a wizard fromthe Synchronization Editor to create an Active Directory synchronization project. From a principle there aretwo different ways to connect to Active Directory:\n▪ Using the Identity Manager native AD connector\n▪ Using Active Roles (separate product) to connect to Active Directory.\nWhich option to choose is depending on your needs and your licensed One Identity software. Both connection\ntypes do have pros and cons and which way to go should always be decided on your technical requirements.A general IGA project suggestion could help:“Depending on your needs, keep your system as simple as possible.”\n\n▪ Select Active Directory Connector\n▪ Click [Next]\n▪ We do not require a remote server connection.\n▪ Leave Connect using remote connection server unchecked.▪ Click [Next].\n▪ Select an Active Directory Domain from the list box. Happy you, it should be pre-selected.\n▪ Domain: \nIAM.corp\n▪ Click [Next].\n▪ In the Credentials form, an Active Directory account to access Active Directory during the\nsynchronization process must be specified. This is the admin account the Synchronization Engine will\nuse to interact with the target system.\n▪ User: SVC_1IM_AD\n▪ Password: I.4Madmin\n▪ Domain: IAM.corp\n▪ Click [Test] and continue after the green light. In all other cases, correct your input above and try\nagain.\n▪ Click [Next].\n▪ Configure connection options (THIS IS IMPORTANT, don't skip):\n▪ Secure checked\n▪ Server bind checked\n▪ Domain Controller IAMS01.iam.corp\n▪ Port 389\n▪ Click [Test] and continue after the green light. In all other cases correct your input above and try\nagain.\n▪\n Click [Next].\n▪ Review the default configuration.\n▪ Click [Finish].\nNow an Active Directory Synchronization projects gets auto configured. This is based on a template for\nconnecting Active Directory we selected at the begin.\n▪ If needed configure the database connection. If you get not prompted just skip this step and its subs\n(default).Typically only the password must be set.\n▪ Server: IAMS02\n▪ Windows authentication: un-checked\n▪ User: SVC_1IM_SQL\n▪ Password: I.4Madmin\n▪ Database: IAMDB\n▪ Click [Next].\n▪\n The schema is loaded from Active Directory and Identity Manager. Please be patient until the wizard\nreturns and click [Next]\n▪ Configure a target system access restriction (keep default, select Read/write access to target system.\nProvisioning available ).N���:\nIn a few circumstances you may not be permitted to access Active Directory using your workstation. In thesecases, using a remote connection server may be an option. This is a generic question and typically moreuseful if you try connecting SAP, Notes or SharePoint etc. (target systems, needs additional installed softwareto become connected). This means that for this CONFIGURATION a locally installed Synchronization Editor\nuses a remote server service to connect to the selected target system instead of using the local machine.\nN���:\nConnector features allow to opt-in additional features.Currently for AD you can get back previous deleted objects from an AD recycle bin (must be supported byyour AD configuration). You may be allowed to handle RAS or TS properties. Keep the default.\n\n▪ Click [Next]\n▪ Now configure the responsible Identity Manager Job-server to access the configured Active Directory domain.\nSelect this server from the drop-down box.\n▪ Synchronization server: IAMS03\n▪ Click [Next].\n▪\n Please notice the tiny checkbox Activate and save the new synchronization project automatically at the\nend of the wizard. It let you know that the synchronization project is automatically saved and activated.\nWithout this option checked, it is necessary to do this manually before the Synchronization Project can be\nused (additionally steps to perform). Leave the configuration checked and Click [Finish].\n▪ Answer the database is not encrypted warning with [Yes].\n▪ Excellent, you connected Active Directory. Please continue to get some data in, during your first\nsynchronization.\nRun and monitor an initial AD reconciliation\n▪ From Launchpad start Manage/Check system status. This will open JobQueueInfo.▪ Check that the Identity Manager system is in idle mode.\n▪ Click into form Job queue and press [F5] until there are no more jobs in Job queue▪ Select DBQueue from the right lower tabs and ensure the field is empty.\n▪ \nSwitch back to Synchronization Editor\n▪ Select Start up configurations from the already open Active Directory synchronization project we just\ncreated.\n▪ Press [SIMULATE…] to get an idea what will happen during the initial reconciliation.\n▪ Answer the loosing performance warning message with [Yes]▪ Have a look at the steps passed through during the simulation, good to know that they exist.\n▪ Watch the report that is created. There are several data creation actions planned for the Identity\nManager Database. This is exactly what we expect for an initial reconciliation.\n▪ Close the report.▪ Click on [Run] to perform the synchronization\n▪ Answer the question to start the synchronization on Identity Manager service with [Yes]▪ Click [OK] to confirm the synchronization is started.\n▪ Switch back to \nJobQueueInfo .\n▪ Right click Job queue in tab Job queue and select Monitor Job queue.\n▪ Select the Job Server Status tab from the right lower part of the window.\n▪ Right click server IAMS03 and select Show in Browser from the context menu.N���:\nThe responsible (and only) Active Directory Domain Controller in our lab environment is IAMS01.IAM.CORP.It is not common to install an Identity Manager Job-service on a target system host. Instead, we will useserver IAMS03 as the server to remotely connect to IAMS01 (Synchronization server).Technically, it is possible to install an Identity Manager Job-service on a Windows Domain Controller. In such\na scenario the Domain Controller becomes a Job-server as well.\nIn this lab exercise you can't choose this option because there is not an Identity Manager service installed onIAMS01 yet.\nN���:\nYou can watch the FullProjection job processing for a while.\n\n▪ In the browser front-end (which is getting started with a delay) select Executing instance for queue\n\\IAMS03 from the Home page\n▪ Select the slot containing the keyword …FullProjection… . You can now see more detailed information\nabout the process and refresh this view (press [F5]) from time to time to get an update. Once the Slot is\nempty, proceed.\n▪ Switch to JobQueueInfo and follow all synchronization post processes (Job queue is empty as well, this can\ntake a while).\n▪ Use Launchpad to start Identity Manager Manager (Manage/Display and maintain content data).\n▪ In Manager  we will check what was reconciled and which data was created\n▪ Select Main tab: Active Directory\n(bottom left of the screen)\n(Depending on your screen resolution you might need to select it from the more button \n )\n▪ Expand: Hierarchical view/IAM.corp\n▪ Select: Groups:\n(Be careful meant is Groups in parallel to Hierarchical view)\n▪ Select: User Accounts\n▪ Expand: Mailboxes\n▪ Select Employees from the Main tabs\n▪ Select Employees in the Navigation tree\n▪ Select a single person object\nConnect ExchangeN���:\nYou should see a proper container structure\nN���:\nA little over 5000 groups should be available. This could lead to a filter box, Press [Show all].\nN���:\nA little over 1000 accounts should be available\nN���:\nIt looks like there is no information stored underneath mailboxes which is easy to explain, because we don’thave connected Microsoft Exchange yet.\nN���:\nThere are a little over 1000 identity objects created\nN���:\nThe overview will show you a person object surrounded with other assigned objects\nN���:\nFirst we must ensure the Identity Manager system has identified an Exchange server.\n\n▪ In the Manager, select Active Directory from the main tabs.\n▪ In the Basic configuration data section select Server .\n▪ Select (double-click on) IAMS03 from the list of servers.\n▪ Select Assign server functions from the Tasks list.\n▪ Our last check is the mandatory Exchange permissions which must be configured for a Microsoft Exchange\nsynchronization user (described in the Identity Manager manual).\nThese permissions are already set, but we will double check everything to get aware of these parameters.\n▪ Expand Navigation tree down to Hierarchical view / IAM.corp / Service Accounts and select User\naccounts.\n▪ In the list of accounts double click Service Account 1IM for Exch\n▪ The account must be a member of:\n▪ Organization Management\n▪ Public Folder Management\n▪ . Recipient ManagementN���:\nAs you can see Microsoft Exchange connector is assigned to the server IAMS03. This was made duringthe remote installation of the Identity Manager Service by adding Server roles to the machine.This step was showing you how to watch and assign server functions.To view assigned functions only, you don't need this.\nUse the [← Back] button to return to the overview.\n\n▪ Last step is to ensure that you can run PowerShell scripts on your system. This is typically not needed in this\ntraining environment (it's already set) but please doublecheck.\n▪ Start PowerShell as admin\n▪ Enter: Get-ExecutionPolicy\n▪ From Launchpad start Installation overview/Target system type Microsoft Exchange.\n(If Synchronization E\nditor was already open, this happens in the background and there is no action to see on\nthe screen. In this case, please switch to Synchronization Editor)\n▪ In Create synchronization project select Microsoft Exchange 2013 Connector and click [Next].\n▪ We don't need a remote connection server. Please click [Next].\n▪ On Select Microsoft Exchange server\n▪ Server: IAMS01.IAM.corp\n▪ ClickDNS query  until the light returns green. If it does not turn green, check your input and retry the\nquery.\n▪ . Click [Next]\n▪ Enter connection credentials\n▪ Username: svc_1im_ex@iam.corp▪ Password: I.4Madmin\n▪ Click [Next]\n▪\n We want to manage the Entire organization, please accept the default and click [Finish].\n▪ Click on [Next].▪ Select Read/write access to target system. Provisioning available and click [Next].▪ Select IAMS03 as Synchronization server and click [Next].N���:\nYou need the ability to run PowerShell commands to connect to the MS Exchange server.The system should return with Unrestricted or with RemoteSigned. If this is not the case, use the commandSet-ExecutionPolicy RemoteSigned to deactivate any script restriction from your PowerShell console. Thesame is necessary on a server used as a remote connection server for MS Exchange (for a MS Exchangeserver with an installed Identity Manager service, this is not necessary). You can sign onto the server and use\nthe command above or type the following commands in your already open PowerShell console on the wks.\nNew-PSSession -ComputerName IAMS03     Enter-PSSession 1     Get-ExecutionPolicy     # IF system returns \nN���:\nPlease remember we configured this server role before, installing the Identity Manager Service on server\n\n▪ Click [Finish] to store and activate the synchronization project.\n▪ Read the information to handle linked mailboxes and click [OK].▪ Confirm saving the synchronization project to an unencrypted database. Click [Yes].\n▪ In Synchronization Editor, select Start up configuration from the already open, MS Exchange\nsynchronization project we just created.\n▪ Start the initial synchronization just as you learned for Active Directory earlier.▪ Monitor progress in JobQueueInfo.▪ Once Job queue is empty again, switch to (or open) Manager.\n▪ Select \nActive Directory  main menu.\n▪ Right click into the Navigation tree and select Refresh view .\n▪ Expand Exchange system Administration.\n▪ Switch back into JobQueueInfo\n▪ Select from Job server status the IAMS03 entry with a right click.\n▪ Select Show in Browser from the context menu.\n▪ In Browser step to Log File\n▪ Move to the logs end and find the green message which confirms that the MS Exchange synchronization\nended successfully.\n▪ Close all admin front ends.\nConnect OpenDJ LDAP system\n▪ From Launchpad start Installation overview/Target system type LDAP\n▪ There are many LDAP templates available. Select LDAP Connector (Version 2)\n▪ We don't need a remote connection server. Please click [Next].▪ On Create system connection…\n▪ Server/Port: IAMS04.IAM.corp : 389\n(The port should show the default)\n▪\n Authentication method: Basic\n▪ Username: cn=svc_LDAP_1im▪ Password: I.4Madmin\n▪ Encryption: \nNone\n▪ Protocol version: 3\n▪ Click [Next]\n▪ There are two ways to Select the schema source. You can load them from a LDAP server (default) or\nfrom a file (typically if the default option doesn't work).\n▪ Select Load schema from LDAP server  from Source drop-down list.\n▪ Click the refresh button on left (\n )\n▪ Look at Schema parser errors . If there are no errors, you can proceed. If there are some, you may\nneed to start with a schema file.\n▪ Click [Next]\n▪ Now you should select configuration preset.IAMS03.\nN���:\nYou should now see more folders than before, including:IAM/Organization Configuration/Adress list/All Groups,…/All Rooms,IAM/Recipient configuration/Mailboxes/Discovery, etc.\n\n▪ Select: Use preset\n▪ Selection: OpenDJ\n▪ Click [Next].\n▪\n After the schema is set, you may need to add LDAP schema extensions.\n▪ Expand LDAP schema extensions\n▪ Select Return operational attributes\n▪ Click [Next].\n▪ Enter Search base  (a search base is typically also preselected by loading a proper schema. If not just\nselect an entry from the drop-down)\n▪ Base DN: dc=iamldap,dc=corp\n▪ Click [Next]\n▪\n For further testing and editing it might be helpful to save the connection locally on this machine.\n▪ Check: Save connection locally\n▪ Click [Finish]▪ Click [Next]\n▪ Select a project template. Therefore, read the description of available templates first to get an idea\nwhere they are configured for.\n▪ Select OpenDJ synchronization▪ Click [Next]\n▪ Select Read/write access to target system. Provisioning available and click [Next].▪ As Synchronization server select IAMS04▪ Click [Next].▪ Click [Finish] and [Yes] to store and activate the synchronization project.\n▪ In Synchronization Editor, select Start up configuration from the already open, LDAP synchronization\nproject we just created.\n▪ Start the initial synchronization just as you learned before.\n▪ Monitor progress in JobQueueInfo.▪ Once the job queue is empty again, switch to (or open) Manager.\n▪ Select LDAP main menu▪ Expand hierarchical view you should see many containers with LDAP user assigned.N���:\nYou can select between two general options. You can define the mapping and matching on your own (longand time consuming and you need to be a LDAP and Identity Manager pro) or you can use one of thepredefined templates for\n▪ Microsoft ADLDS,\n▪ Oracle DSEE,\n▪ Novell eDirectory,▪ OpenDJ\nand may be others. A default gets typically created depending on the schema that was loaded previously (this\nmeans very often you can just proceed with defaults like in this training).\nN���:\nAs you can see some schema extensions was already loaded together with reading the schema. Pleaserecognize also the ‘PLUS’ and ‘Trash bin’ buttons which allow to define such extensions manually ifnecessary.\nN���:\nThe according Identity Manager server service was installed before. This service was as well configured withthe right server functions and roles to process with LDAP and SharePoint. In situations where availableservices getting used with new connected target systems or functions you must ensure that all features androles are configured (\nDesigner → Basic Data → Installation → Job server  tabs Server functions and\nMachine roles).\n\nLab Exercise Complete", "slidePdf": "IM-CBS_Connecting_Basic_Target_Systems.pdf"}, {"id": 6, "title": "Password Policy Configuration and ERP-Resource Assignment", "code": "IM-CBS-02", "pages": ["lab06_page040.png", "lab06_page041.png", "lab06_page042.png", "lab06_page043.png", "lab06_page044.png", "lab06_page045.png", "lab06_page046.png", "lab06_page047.png"], "text": "Lab Exercise: Password Policy Configuration and ERP-\nResource Assignment\n(IM-CBS-02)\nExercise Overview\nIn this lab you will assign department, cost center and locations to identities. In a second step you will explore\nPassword Policies and configure them to be used during this training.In this lab you will assign department, costcenter and locations to identities. In a second step you will explore Password Policies and configure them to beused during this training.\nWhat you need to know\n▪ You should have the images open and running for this lab.\n▪ Additional Lab content stored in the Lab folder T:\\courses\\IdentityManager (\\\\IAMS10\\Training\\courses\n\\IdentityManager):\nUser credentials required for this lab\nAffected Machines IAMW01\nAD login account\nUsername IAM\\administrator\nPassword I.4Madmin\nIdentity Manager - system user\nUsername [your system user] or training\nPassword I.4Madmin\nEstimated Time To Complete This Lab: 10 minutes\nLab Exercise\nAssign ERP ResourcesN���:\nThe way to configure Password Policies is exact the way you will use in a real-life scenario. The configurationwe will set, fits better to a Developer- or Test Environment which a Training Environment always should be.\n\n▪ Start Data-Importer for example using Launchpad.\n▪ Click [Next]▪ From the according lab folder\n(IM-CBS-02) open Import definition file: \nIM-CBS-02__Import_Def_Person2ERP_Assignment .xml.\n▪ Click [Next]\n▪ Select Import CSV file▪ Click [Next]▪ From the according lab folder\n(IM-CBS-02) open Import file: \nIM-CBS-02_Person2ERP_Assignment.xml\n▪ Notice the preset configuration and click [Next].▪ File structure: Notice the preset configuration and click [Next].▪ Defining the line structure: Notice the preset configuration and click [Next].▪ Line condition: Notice the preset configuration and click [Next].▪ Match target tables and columns: Notice the preset configuration and click [Next].\n▪ Specify hierarchy: Notice the preset configuration and click [Next].\n▪ Handling options for data sets: Notice the preset configuration and click [Next].▪ Connection variables: Notice the preset configuration and click [Next].▪ Saving the import definition\n▪ Save import definition file: unchecked▪ Import data: checked\n▪ Create import script: unchecked\n▪ Click [Next]▪\n Notice the result and click [Next]\n▪ Click [Finish]\n▪ Open Manager and select some identities (person objects). Now they should show a department, cost center\nand location assignment for nearly each identity.N���:\nIn a previous lab we connected some target systems to Identity Manager, and we imported Department, Costcenter and Locations (Enterprise Resource Planning Data = ERP-data). All of this is important data butempowers and IAG system by being connected. In the following step we will assign imported ERP-data toemployees. To speed this up we use another csv data import with an according definition file.\nN���:\nYou should not see any errors. If there are some, they might result out of the data situation. Discuss this withyour trainer.\n\nExplore and understand Password Policies\n▪ Open Manager and sign in with your system user account. You might use the already open Launchpad to\nsimplify things.\n▪ Select target system Active Directory and expand filter Basic configuration data.\n▪ Select filter node Password policies. In the list on right you should see several Password policies now.▪ Select \nActive Directory Password policy  to get the overview displayed.\n▪ Select Change main data from the Tasks list.N���:\nPassword Policies can be configured in Designer and Manager. In difference to the Manager which shows\nPassword Policies always as sub-node of a Target System administration section, Designer shows allPassword Policies in one place and at one location (target system independent). From a Password Policyconfiguration perspective, there is no difference between both tools.\n\n▪ Select Assign objects from the Tasks list.\n▪ In the form opening on right select the entry underneath Apply to.\nIf there is no entry in the list click [Add] to get a new one.\n▪ Click the right arrow icon next to Apply to\n▪ Table: ADSDomain\n▪ Apply to: IAM.corp\n▪ Click [OK]N���:\nAs you can see there are some fields write protected. This indicates that this is an out of the box object couldnot be modified like always. Nevertheless, there are some fields NOT write protected. In case of Passwordpolicies, you can change the configuration of a standard policy, but you can't change names, description or\nthe owner. If you like to do this, you must create a custom password policy and assign it instead of the\nstandard policy to an object.\n\n▪ \n▪ Select password column: ADSAccount-UserPassword\n▪ Click [Save]\nSet Password policies\n▪ Open Designer  (you might use Launchpad) and sign in with your system user account.\n▪ Select Base Data and expand Security Settings\n▪ Select Password policies▪ Ensure that one Password policy is selected\n▪ To assign policies to objects, select from menu View, Select table relations.\n▪ Check/ensure: QBMObjectHasPwdPolicy\n▪ Click [OK]\n▪\n Select tab Password policy assignments that appeared on the bottom of the Designer if necessary.\n▪ In the List Editor  select Active Directory password policy and switch to tab Active Directory passwordN���:\nThis is the place where the policy gets assigned to one, or more password fields in the database, the policyshould be valid for. In the example above, you can see it is valid for a data field\nADSAccount.UserPassword, which is the password of an Active Directory Account database object\n(remember we are talking about a database entry, representing a target system object).\nN���:\nAs you easily can see, it seems to be, you do not have the same capabilities as before. To assign the policyto objects is currently missing. This is a special feature of Designer where sometimes additional assignmentcapabilities gets hided to simplify things. Typically, you like to change the policy properties once the policy isassigned to an object.Depending on the Identity Manager version you may see a \nPassword policy assignment  tab on right lower.\nIn this case perform action 5. Just to get aware of this feature.\nN���:\nAs you can see, here you can assign a policy directly to an as password field marked data column of anIdentity Manager table. Now you know two ways to configure Password policies. It is your choice which oneyou like to prefer. In this lab we make life simple as possible and continue in Designer.\n\npolicy  on bottom of the Designer . Next step is to configure settings fitting to our Demo/Training environment.\n▪ Initial Password: I.4Madmin\n▪ Min length: 4\n▪ Max length: 0\n▪ Max. failed logins: 0\n▪ Max days valid: 0\n▪ Password history: 0\n▪ Min. password strength: 0\n▪ Name properties denied: uncheck\n▪ Switch to tab Character classes\n▪\n Min. number of letters: 1\n▪ Min. number of lowercase: 1\n▪ Min. number of uppercase: 1\n▪ Min. number of digits: 1\n▪ Min. number of special characters: 1\n▪ Max. identical characters in total: 0\n▪ Max. identical characters in success: 0\n▪ Permitted special characters: keep the default▪ Denied special characters: empty\n▪ Please redo steps all subs of the previous main step you did before, for the following Password policies. This\nis necessary to conn\nect the other target systems.\n▪ Password policy for central password employees\n▪ One Identity Manager password policy\n▪ LDAP password policy\n▪ Use tab Assignments\n  to assign the LDAP password policy to the connected LDAP realm (  LDAP password\npolicy only!)\n▪ Password column: LDAPAccount - UserPassword\n▪ Apply to: iamLDAP\n▪ Klick on the tiny gray button▪ Table - select LDPDomain Object - klick on iamldap to select the entry▪ Klick on [OK]\n▪ Password Policy: LDAP password policy\nN���:\nA huge number of properties to double check. In a real-life scenario your configuration should fit to the targetsystem policy. Additionally, to know, ‘value 0’ is sometimes used to turn a policy off like for Min. passwordstrength or Min. password length.\n\n▪ Don't forget to [Commit to database].\nSet Person. DialogUserPassWord\n▪ Open Manager for example using Launchpad and sign in with your system user account.\n▪ Select filter Employees/Employees . You should see about 1068 employees in your list.\n▪ Perform the following actions in three equal sized blocks. An accurate block size is not important, but we\nrecommend using similar sized blocks for an optimal performance. You can use [Shift] + [right click] to size\nyour blocks like usual. With a determined group of objects:\n▪ Right click the marked block and select Tasks/Change main data\n▪ Switch to tab Miscellaneous\n▪ Enter in field System User Password - NOT in field Central password.\n▪ System user Password: I.4Madmin\n▪ Confirmation (below): I.4Madmin▪ Click [Save]\n▪\n Repeat this for the rest of all objects (two more groups of selected objects (=blocks))N���:\nTo fully handle an initial password you must write a template (this will be shown later in this training) to getthis password written into an object. If an initial password (in a password policy) is empty the system tries togenerate a random password. This only works if there is a mechanism which allows to send this randompassword out to someone. Unfortunately, after an initial installation, we do not have these addresses or email\nsending enabled. We can also not deliver a static initial password. Because of this in a real-world scenario, a\ncustom template must be used to configure the customer specific functionality. In this training, to simplifythings for our more static training environment, we will just set these Person.DialogUser passwords oncebeing valid for the whole training session.Nevertheless, don't forget to set the initial password for each Password policy.\nN���:\nThis allows you in the ongoing training to sign in to our Web portals using a person role-based authentication.\n\nLab Exercise Complete", "slidePdf": "IM-CBS_Connecting_Basic_Target_Systems.pdf"}, {"id": 7, "title": "New Hire Provisioning in Active Directory", "code": "IM-CBS-03", "pages": ["lab07_page048.png", "lab07_page049.png", "lab07_page050.png", "lab07_page051.png", "lab07_page052.png", "lab07_page053.png", "lab07_page054.png", "lab07_page055.png", "lab07_page056.png", "lab07_page057.png", "lab07_page058.png", "lab07_page059.png"], "text": "Lab Exercise: New Hire Provisioning in Active Directory\n(IM-CBS-03)\nExercise Overview\nIn this lab you configure Identity Manager for AD and Exchange provisioning and automate the system to create an\naccount and mailbox for a new employee.\nWhat you need to know\n▪ You should have the images open and running for this lab.\n▪ Additional Lab content stored in the Lab folder (T:\\courses\\IdentityManager (\\\\IAMS10\\Training\\courses\n\\IdentityManager):\nUser credentials required for this lab\nAffected Machines IAMW01\nAD login account\nUsername IAM\\administrator\nPassword I.4Madmin\nEstimated Time To Complete This Lab: 45 minutes\nLab Exercise\nConfigure Data Flow Prerequisites\n▪ One configuration which seldom fits out-of-the-box, is how to build account names. Requirements differ from\ncustomer to customer and from project to project. Following a modern IGA approach an Identity and Access\nGovernance software (including Identity Manager) needs to drive connected target systems. For newlycreated accounts we must build a script to construct the account names. First, let’s understand the out-of-the-box functionality:N���:Each Identity Management Project requires some customization. At this time, we won't bother you withdetailed knowledge of VB.Net or SQL scripting. Because of this, we provide the code to apply as pre-configured snippets. Please be aware that Identity Manager is a powerful solution framework with much out-of-the-box functionality, but you still need SQL and VB.NET knowledge for each project. In the following labexercise, we explain the prerequisites to be checked and configured and show why this knowledge is\nrequired.\n\n▪ From Launchpad open Configure/Change system settings\n▪ In Designer select One Identity Manager Schema from the main menu and expand Templates. This\nmay initially take a while. Don't worry, Designer is loading many scripts.\n▪ Expand Default Templates/Person and select the node: Centralaccount. If centralaccount is not in\nthis list have a look into Custom templates.\n▪ Select Show column definition from the Tasks list and in Column properties switch to the tab: Value\ncalculation\n▪ Have a look at the code (to ease reading, click at the tiny rectangle icon in the right lower edge of the\nvalue box).\nYou should see that the Value is built by calling the scripts: VI_AE_BuildCentralaccount  or\nVI_AE_BuildCentralAccountGlobalUnique .\n▪ Close the Script editor pop-up form if needed.\n▪ We are interested in understanding these scripts:\n▪ Select Script Library from the main menu.\n▪ Expand Scripts and select entry VI_AE_BuildCentralAccount\n▪ Select Edit VI_AE_BuildCentralAccount from the Task list▪ View the section displayed below:\n▪ Now let's check the existing Person.Centralaccount entries in our database.\n▪ Open Object Browser from the Start menu and login with your system user credentials.▪ From top menu SQL select New SQL window.▪ From top menu SQL select Load and open file \nIM-CBS-03__Analysis-Accountnames.sql  from the IM-\nCBS-03 Lab folder.\n▪ Select the statement between “go” and “go” and click the play button or press (F5)\n▪ Ignore all service accounts and analyze how the centralaccount is build out of firstname and\nlastname.N���:\nDepending on the environment you are using, the described changes are already made. Easy to figure thisout by:\n▪ The property centralaccount is located underneath of Custom templates/Person\n▪ Instead of the scripts \nVI_AE_BuildCentralAccount  and VI_AE_BuildCentralAccountGlobalUnique\nyou will see similar named scripts starting with CCC_AE_.\nIn this case, please follow the next lines carefully. The explanations are more important as the steps to\nperform. Skip lines where there is something to do. Double check if everything was configured correctly.\n   If Firstname.Length > 0 And Lastname.Length > 0 Then     accnt = Firstname & Lastname.Substring(0,\nN���:As you can see, the account name (accnt) is built out of the firstname + first left character of the Lastname.\nN���:You should see \ncentralaccount  is formed with firstname combined with the first 3 characters of the\nlastname. To ensure a unique value, we add a number at the end if an account name already exists. Also,remember that in Active Directory SAMAccount names should not be longer as 20 characters and we havethe opportunity to add a prefix in front of the account name to specify, for example, an admin account(A_[account name]) if necessary. This is only a rough concept but let’s implement this now in the scripts we\nfound above. In a real situation, you would discuss this with your customer and write a small proof-of-concept\n\n▪ For the lab implementation we will use predefined scripts, as mentioned.\n▪ Switch back into Designer and select Script Library from the main menu\n▪ Select Create a new script  from the Task list\n▪ Open script file IM-CBS-03__Script_CCC_AE_BuildCentralAccount.vb  with a text editor and copy the\nscript content (starting with #If Not SCRIPTDEBUGGER Then…)\n▪ Paste the code into the large empty window in Designer.\n▪ Name your script (use the real script name e.g. CCC_AE_Build…)\n▪ Close the script window.\n▪ Repeat steps a. to e. for script file:\nIM-CBS-03__Script_CCC_AE_BuildCentralAccountGlobalUnique.vb  (name the record\nCCC_AE_BuildCentralAccountGlobalUnique )\n▪ Remember, the scripts were called from a small template we viewed at the beginning of this lab. We must\nchange this template to call our new scripts instead of the originals.\n▪ In Designer select One Identity Manager Schema from the main menu and expand Templates. Again,\ndon't worry if this takes a while. Designer  is loading scripts.\n▪ Expand Default Templates/Person and select node Centralaccount.\n▪ Select Show column definition from the Task list and in Column properties, switch to the tab: Value\ncalculation\n▪ Replace the old script names using our new script names (it should be enough to replace “VI_” by\n“CCC_” for both scripts VI_AE_BuildCentralAccount  and VI_AE_BuildCentralAccountGlobalUnique\n). After you have finished your work, the template should look like this:\n▪ Use [Commit to database] on the upper left to store the two new scripts and modified template.▪ From the Database\n menu at the top of the application window, run Compile Database… and compile the\ndatabase including all dependencies.\n▪ To double check this, we will use Manager and create a new identity (person object).\n▪ If Manager is already open, close it.▪ From Launchpad start Manage/Display and maintain content data.▪ Select Employees from the Main Menu in Manager.\n▪ Click on the Employees root node.\n▪ Click the blue paper with the plus in the Employees pane toolbar.\n▪ Enter the following data:\n▪ First name: your first name\n▪ Last name: your last name\n▪ Click the Organizational tab\n▪\n Primary Department: Accounting & Finance\\Accounting\\Australia\n▪ Primary cost center: 20\\20100\\20100060first.\n … Value = CCC_AE_BuildCentralAccountGlobalUnique( GetValue(\"UID_Person\").String, $Lastname$, $Firstn\nN���:\nNow the system will generate similar account names to what we imported from Active Directory earlier.\nN���:\nIf you already created an identity having your name during this training, be creative and find another nameinstead.\nN���:\nBoth should be a leaf node. Remember this, you will need the information later.\n\n▪ Click the Address  tab\n▪ Configure a Primary location of your choice but starting with AU.\n▪ Click [Save]\n▪ Now step to the Miscellaneous tab and view the calculated value of Central user account. It should\nmeet to our naming conditions. Remember this value also.\n▪ At present we have accounts and identities (person objects) and they are linked together. From a data safety\nperspective this configuration cannot lead to any administrative data manipulation in the target system\n(maximum safety configuration).\n▪ In Manager  select Employees from the main menu section and select just one employee record. You\ncan choose any record you like, except the one you just created as part of this lab exercise.\n▪ In the overview pane, on the right side, you should see the Employee object in the middle and below,\nthe associated Active Directory user account object. If this is not the case, select another employeeobject.\n▪ Click on the AD account object name. Now you see the Active Directory user account object in the\nmiddle.\n▪ Click on the AD account name again. A page with several input fields opens. We call this the Main Data\npage of the Active Directory user account object.\nCreate and manage Account definitions\n▪ To manage the accounts linked to an identity in Identity Manager, we must create an account definition and\ndefine an automation level for these accounts.First step gets your Manager front-end up and running if it isn't already.N���:The identity you have created is similar to a record inserted by an HR system import, for example. Often, theHR system delivers no more information than first name, last name, cost center, department and location.Now we must implement a configuration structure to get missing information, such as AD container, Homeserver, Profile server, Mailbox Store, etc.\nN���:Please notice the fields: Employee, Account definition and Manage level. There is an employee linked to\nthis account, but there is no account definition assigned and because of this, there is no level of automationassignment either. This means the account is completely managed by the target system and anymodification of the person object (identity) will not reach or impact the account object. A situation that is verynice for an initial synchronization, ensuring that nothing adverse happens (other than the data creation in\nIdentity Manager) but this configuration is not fitting to Identity Management behavior (remember IGA should\ndrive a target system).Last, but not least, please notice the flag Groups can be inherited near the bottom of the form. It isunchecked, which means IT Shop orders or role-based assignments will not take any effect on this account.Any group assignment to the employee will not lead to a permission change in Active Directory (again in caseof IGA against all rules but secure in case of an initial installation - Imported data will not be automaticallycorrected in a second, automated step).\nN���:There are two ways to hit the target:\n▪ \nWe can just create an account definition on the Active Directory domain level. This will automatically\nassign the account definition and its associated automation level to any new account created during areconciliation run from Active Directory.\n▪ The second way is to create an account definition and assign it manually to the Active Directory account\nobject. In this case, any new, reconciled account will only be created as a linked account and you mustrepeat the assignment for any new account (inserted by reconciliation) again as it was seen before. It isup to the customer to decide which behavior to configure. Our first scenario is more authoritative, but\nonly optimal if the employee data quality is clean. Our second scenario is more secure, but needs\nmanual actions to get a new account created in Active Directory ready for IGA. There is no problem to\n\n▪ To create an account definition, in Manager select Active Directory from the main menu.\n▪ Expand Basic configuration data / Account definitions and select Account definitions.\n▪ Hit on the create new object icon just above the list box\n▪ Configure a new account definition.\n▪ Account definition: Std. user account Domain IAM▪ User account table: ADSAccount\n▪ Target system: IAM.corp\n▪ Manage level (initial): Full managed\n▪ Groups can be inherited: Yes\n▪ Click [Save].\n▪\n Please remember, Active Directory is not the only connected target system. Please create an account\ndefinition for your connected OpenDJ LDAP system. You can use the information from the main step\nabove to do this. It's the same way as to create the account definition for Active Directory. Change the\ndescribed steps and values above. This time it is the REALM: iamldap and you need to take an ldapaccount\ntable to store the values in. If something becomes unclear discuss steps with your class.\n▪ Before we can assign the account definition to new account/identity objects we must configure some standard\nparameters necessary for further management. These parameters are known as IT Operating Data.\n▪ In Manager , select the newly created account definition for Active Directory accounts.\n▪ Click Edit IT operating data mapping from the Tasks list.\n▪ Click [Add] to create a new IT Data configuration if not exists\n▪ Column: ADSAccount - IsGroupAccount▪ Always use default value: \nchecked\n▪ Default Value: 1change the initial selection later in the project.\nN���:\nThe User account table together with the Target system specifies whether to create or manage ActiveDirectory accounts for the domain IAM. The Manage level (initial) defines that any change on a relatedidentity object will affect the AD account object, depending on the out-of-the-box implemented data flow rules\n(templates).\nBy the way, you initially only find the Managed level (initial)  Full Managed and Unmanaged in Identity\nManager. Full Managed means that all predefined attributes are affected and Unmanaged means that onlymandatory predefined attributes are affected. Please don't make the mistake of taking the word Unmanagedliterally. An automation level is managing your account. Only linked accounts are and keeps untouched byidentity changes.If you need a more detailed behavior between Full Managed and Unmanaged you can create as many\ncustom levels of automation as you like.\n\n▪ Click [Add] to create another IT Data configuration\n▪ Column: ADSAccount - UID_AdsContainer\n▪ Source: Primary Department\n▪ Default value: IAM.corp/Users\n▪ Always use default value: unchecked\n▪ Notify when applying default: checked\n▪ Click [Add] to create another IT Data configuration\n▪\n Column: ADSAccount - UID_Homeserver\n▪ Source: Primary Location\n▪ Default value: IAMS01\n▪ Always use default value: unchecked\n▪ Notify when applying default: checked\n▪ Please configure the same for ADSAccount - Uid_Profileserver. This time the Default value to\nconfigure is \nIAMS03.\n▪ Now press [Save] and confirm the message.\n▪ Now we will repeat parts of this for our LDAP target system\n▪ In Manager , select the newly created account definition for LDAP.\n▪ Click Edit IT operating data mapping from the Tasks list.\n▪ Click [Add] to create a new IT Data configuration if not exists\n▪ Column: LDAPAccount - IsGroupAccount\n▪ Always use default value: checked\n▪ Default Value: 1\n▪ Click [Add] to create another IT Data configuration\n▪\n Column: LDAPAccount - UID_LDAPContainer\n▪ Source: Primary Department\n▪ Default value: OtherAccounts (iamldap.corp/OtherAccounts)\n▪ Always use default value: unchecked\n▪ Notify when applying default: checked\n▪ Click [Save]\n▪\n In our next steps we want to configure server IAMS01 as home- and profile server. You will remember from\nthe earlier steps in the lab exercises that IAMS01 was added by the AD synchronization wizard and is\navailable in the list of servers to be selected. It's time to confirm and assign the appropriate server roles now.\n▪ In Designer, switch to the main menu Base Data and select Installation/Job server from the\nNavigation tree.\n▪ Select the Job Server: IAMS01. Click on the Job server 'IAMS01' tab (bottom of the window) and\nconfigured as follows:\n▪ Server: IAMS01\n▪ Full server name: IAMS01.iam.corp▪\n Executing server: IAMS03\n▪ Queue: \\IAMS01\n▪ Click on the Server Functions tab and view the Add assignments section at the bottom of the front-end\nand ensure th\ne following are assigned:\n▪ Home server\n▪ Profile server\n▪ Domain controller▪ Microsoft Exchange serverN���:\nWe configured a fixed value to ensure that any permission ordered through IT Shop or provisioned through arole will now take effect for accounts with this assigned account definition.\nN���:\nWe configured an AD container where the account lives, to be chosen depending on the departmentassignment. Also, we ensured that the default container, users, at the domain level is used if the employee isnot assigned to a department (default).\n\n▪ Click [Commit to database]\n▪ Close Designer\nManage IT Operating Data values\n▪ In an earlier step we defined IT Operating Data to manage missing properties based on fixed values. Switch\nback to Manager.\n▪ In Manager  select Organizations from the main menu and expand Departments tree down to Accounting\n& Finance\\Accounting\\Australia.\n▪ Select task Edit IT operating data\n▪ Click [Add].\n▪ Click on the blue arrow beside Effects on\n▪ Table: TSBAccountDef\n▪ Effects on: Std. user account domain IAM\n▪ Click [Ok].\n▪\n Column: ADSAccount - UID_ADSContainer\n▪ Value: IAM.corp/Company/Accounting\n▪ Click [Save] and commit the message.\n▪\n Next step is to configure IAMS01 as Home and Profile Server\n▪ Select Locations:Hierarchical view/ AU - Bayswater VIC - 5 - 7 Waldheim Rd, and select Edit IT\noperating data.\n▪ Click [Add].▪ Click on the blue arrow beside Effects on\n▪ Table: TSBAccountDef\n▪ Effects on: Std. user account domain IAM\n▪ Click [Ok]\n▪\n Column: ADSAccount - UID_Homeserver\n▪ Value: IAMS01\n▪ Configure the same for ADSAccount - UID_Profileserver but configure IAMS03 as profile server value.▪\n Click [Save].\n◦ In order to generate the csv file, we must check the configuration of our SQL Management Studio first. It should\nalready be configured but it is helpful to check this in our lab exercise. Open Microsoft SQL Server Management\nStudio from START.\n▪ Connect to Server IAMS02\n▪ In menu Tools select Options…▪ Ensure the following configuration is set: Query Results → SQL Server → Results to Grid shows the option\nInclude column headers when copying or saving results is checked. If this is not checked, check the\noption and restart SQL Server Management Studio.\nN���:Now we have IT operating data configured for just one department and one location. To do the same for all otherdepartments and locations, we will use an import. In a real world scenario, you would take the template records wecreated and use copy, paste and calculations in a spread sheet to build a csv file for import. In our trainingenvironment, with the previously imported department and location structure, and for this specific use case, we canuse a SQL script to generate our csv. This is necessary because each environment includes some different UID's.\nThis does not allow us to use a pre-created csv file.\nPlease note as well: In a real-world scenario, you must create and permission the necessary home and profileshares on each server you want to configure (or ensure they already exists and are accessible for your IdentityManager Service account).\n\n◦ Now we want to create the csv file. Open and run sql file IM-CBS-03_Script_Generate_IT-Data.sql  in SQL\nServer Management Studio into a Data grid (Ctrl+D, Ctrl+E). Ensure you are running the script against the Identity\nManager database. It should generate a long result list.\n◦ Right-click into the data grid and perform Save Result As… and store the grid into a comma separated csv file\nnamed of your choice.\n◦ Open Data Importer (suggest using Launchpad again).\n▪ Select Import definition file: IM-CBS-03__Import_Def_IT_Operation_Data_2_Organization.xml\n▪ Select Import file you created and named before and complete the import.▪ Configure Save import definition file unchecked▪ Perform the import as you learned this before.\n◦ Use Manager to check a few department and location records, to see the assigned IT Operating Data. Now we are\nprepared to start using our account definitions.\nAssign account definition to employees\n◦ In Manager, select Active Directory  from the main menu and expand User accounts/Linked but not\nconfigured.\n▪ Click on IAM, the only domain that exists at present. (In a production environment there could be more than\none domain in the tree.)N���:\nRunning the query into a data grid is mandatory to get the result saved as a comma separated (csv) file. Theoption we set above generates the header. If this is not accurately done, you will have a csv file which cannot beimported as described below.Please understand, to create this file is a little bit voodoo and not part of the training.\nPlease don't spend time in understanding the SQL script.\nVoodoo like this is sometimes used by senior experts to initial fill data into an Identity Manager installation. Theused SQL is always depending on the existing data situation and customer specific implementation/generationrules. In this case we used SQL to generate a CSV file, considering objects you created in labs before and we areusing the API by using data importer to create more entries. This combination makes the change very stable andsecure in difference to using SQL only.\nN���:\nAfter performing many imports we assume that you can repeat this at any time using an import definition file. Thedescription above only highlights important configuration steps.During the import you may see up to 3 error messages. These messages appear to inform you, that it is notpossible to insert the three records you already created manually, earlier in the lab exercise. These messages areOK and can be ignored.\nN���:\nUp to now, we have Active Directory accounts and identities in the Identity Manager database. They are only linkedtogether which means that there is between accounts and identities (person objects) no data flow enabled. In thisstep we like to bring these accounts under control of a proper Identity Management.In previous versions of Identity Manager, we assigned the account resource to the person object and that was theonly account configured and set under control of the account definition. Issues arose if a person was configured\nwith two and more different accounts from one target system (domain).\nIn Identity Manager there is a specific dialog we use to assign an account definition to people.\n\n▪ Select Assign account definition to linked accounts from the Task list\n▪ Use the only account definition: Standard User Account domain IAM (the name may differ to this,\ndepending on your configuration before. Take your created Account definition for the Active Directory\ndomain). A list of user accounts should then appear below the selection.\n▪ Check the tiny box to the left of the first account (it should be AbdallahKas; The idea is to test this with one\nobject to get an idea of related processes).\n▪ Click [Save].\n▪ Open Jobqueue Info  for monitoring.\n▪ Use Jobqueue Info to follow the processes in Jobqueue and DB Queue.\n◦ Open a Skytap connection to your client IAMW01.\n◦ Sign in and open Windows Explorer.\n◦ Find the folder C:\\Program Files\\One Identity\\One Identity Manager and start JobServiceConfigurator.exe\n▪ Open the file \\\\iams03\\c$\\program files\\One Identity\\One Identity Manager\\JobService.cfgN���:\nThe next steps show you to implement another Queue to your Identity Manager Job Service. We do this to allow tohandle home directories. This is a typical task working with Identity Manager and adding functionality. LATER ON(and once you ensured the whole process works perfectly) you will configure the other AD accounts to become\nfully managed identities. Because of this you should not forget step 1a. to 1g., you will need this knowledge again.\nAfter the process of assigning the account definition, followed by a process to create an account, based on theassigned account definition, the last step is a process to create a home and a profile directory. You will probablysee that these processes are sitting in the Job queue with nothing happening. The process steps are in Executionstate, but the Start time is in the past and they didn't start. Please also see the Executing Server \\IAMS01.Remember, we did not install the Identity Manager Service on this server. We have two options now:\n◦ We can install another Identity Manager Service on IAMS01.\n◦ We can install another queue on an existing Job Server.\nThe first option was already seen in Lab IM-INS-02. Now let's follow the second option and improve the Identity\nManager service configuration on IAMS03, by adding another queue.\n\n▪ Select Job destination and click [Insert]\n▪ Select JobServiceDestination and click [Ok]\n▪ Select the new entry JobServiceDestination and search for the Queue property▪ Replace \\%Computername% by typing \\IAMS01\n▪ Replace Process request interval (seconds) configured to 90 by 30.\n▪\n Save the configuration now using menu File/Save\n▪ Open a Skytap connection to your server IAMS03. Open SCM now (e.g. from RUN start services.msc).▪ Find One Identity Manager Service  and restart the service.\n◦ Switch back to your Workstation and follow the process execution in Jobqueue Info.◦ \nIf everything looks good now and Job queue is empty again we shall assign the same account definition to all other\naccounts except service and system accounts. Switch back to Manager.\n◦ Now please remember everything you did in step 1. According to this use form Assign account definition to\nlinked accounts to assign an account definition to all other accounts.\n▪ Select all accounts per the note below.\n▪ Step page by page down the list and search for account names looking longer as the others or not stored in\nIAM.corp/Company/….\n▪ De-select some HealthMailbox… accounts (two in all)\n▪ De-select some Service Account… accounts (eight in all)▪ . Click [Save]\n▪ Sit back and relax, your system now starts some heavy work. You can follow using Jobqueue Info.N���:\nPlease ensure that the mouse cursor leaves the last field after editing the value. (click on a different field)You should see now two different Job destinations (named queuex and JobServiceDestination). One Queueproperty (in queuex) is configured to \\%Computername and will take care of all job queue jobs showing the\\IAMS03 queue information. This is because %Comutername% represents the system environment variable\ncomputername and is set to the name of the server which is IAMS03. The second queue will take care on jobs for\\IAMS01. We have now configured an Identity Manager Service with two different queues. We must ensure thatthe service account used to start the Identity Manager Service is permitted to do all file operations remotely onserver IAMS01. This is already configured by the Technical ENablement team. They also created the shares toaccess home and profile directories.\nN���:\nWe only want to select accounts that are not service or system accounts. In our lab environment, they are theaccounts residing below the Company OU (look at the path of each object, the OU is included). You may use[Ctrl]+[A]  to select all accounts, then [Ctrl]+[double click] to deselect the service accounts. There should be ten\nservice accounts to deselect - a group of two, a group of seven and a single account. Then click on a singleselected check box to select all check boxes.\nN���:\nAwesome! We have now configured the appropriate account definition for each Active Directory account. Thisassigns the account definition and sets the automation level to Full Managed for each account. We are now readyfor IGA. Take the Manager and to double check if accounts are switched to Full Managed now (remember theremight be a delay).\nIf it was necessary to configure the account definition on the domain level (note above) and the Job queue isempty again, it is time to select the domain again and to remove the account definition from the domain master\n\nAdding MS Exchange mailbox account definition\n◦ In Manager select Active Directory  from the main menu and expand the Basic configuration data section in the\nnavigation pane.\n▪ Select Account definitions\n▪ Hit on the Create new object icon just above the list box.▪ Configure the new account definition (if it's not already done)\n▪ Account definition: Std. mailbox Domain IAM▪ User account table: EX0MailBox\n▪ Target system: IAM.corp\n▪ Required account definition: Std. user account Domain IAM\n▪ Level of automation: Full managed\n▪ Click [Save]\n◦\n Select Edit IT operating data mapping from the Tasks list.\n▪ Click [Add] to add a mapping.\n▪ Column: EX0MailBox - UID_Ex0MailBoxDatabase\n▪ Default Value: Mailbox Database 0089241127\n(Select it from the list, it is the only existing entry)\n▪\n Always use default value: checked\n▪ Click [Save] and commit the message.\n◦\n Now let's assign the mailbox account definition to the domain. Select your Active Directory domain, using the\nDomains filter in the Navigation pane.\n◦ Select Change main data from the Tasks list and select the Exchange  tab.\n▪ Mailbox definition (initial): Std. mailbox domain IAM\n(or the name of the definition you created in an earlier lab)\n◦\n Click [Save]\nTest the auto-provisioning for new hires\n◦ Select Employees from main menu.◦ Click the Create a new object icon in the employees Result list tool bar.◦ Enter the following data:\n▪ First name: “enter a first name”\n▪ Last name: “enter a last name”\n▪ Click the Organizational tab.\n▪\n Select a value for primary department from the drop-down tree (should be a leaf node for lab simplicity).\nRemember this name, you will need it later.\n▪ Select a value for primary cost center from the drop-down tree (again this should be a leaf node). Remember\nthis name, you will also need it later.\n▪ Click the Address tab.\n▪ Configure a primary location of your choice.▪ Click [Save].\n◦ To get an AD account and a mailbox you need account definitions. Select your new employee and assign thedata.\nN���:\nNow we want to create an account definition to create mailboxes in the future. At present, there are only a fewaccounts equipped with mailboxes. We don't want to actually change this because we want to save space in thetraining environment. Instead, we will allow newly created employees to have the option to get a mailbox. Thismeans we will create an account definition, but we will not assign it to all existing person objects like we did before\nfor the AD account definition.\nN���:\nThe Required account definition must be set because you need an AD account first before you can start tocreate a mailbox and Identity Manager must know about this requirement.\n\nfollowing account definitions.\n▪ Std. mailbox domain IAM\n▪ Std. user account domain IAM▪ Click [Save].\n◦ Start Jobqueue Info and observe the processes as they complete.\nLab Exercise Complete", "slidePdf": "IM-CBS_Connecting_Basic_Target_Systems.pdf"}, {"id": 8, "title": "Working with Roles", "code": "IM-ROL-01", "pages": ["lab08_page060.png", "lab08_page061.png", "lab08_page062.png", "lab08_page063.png", "lab08_page064.png", "lab08_page065.png", "lab08_page066.png", "lab08_page067.png", "lab08_page068.png", "lab08_page069.png"], "text": "Lab Exercise: Working with Roles\n(IM-ROL-01)\nExercise Overview\nIn this lab you create and manage role structures and view the advantage of roles for assigning permissions. We cover\nhow to use an existing role structure as well as how to develop a new one.\nWhat you need to know\n◦ You should have the images open and running for this lab.\nUser credentials required for this lab\nAffected Machines IAMS04, IAMW01\nAD login account\nUsername IAM\\administrator\nPassword I.4Madmin\nLDAP synchronization account\nUsername svc_LDAP_1im\nPassword I.4Madmin\nEstimated Time To Complete This Lab: 90 minutes\nLab Exercise\nCreate and use a role structureN���:\nNotes (gray boxes) are important in all labs. Please read them carefully some of them are as well considered inassessment tests. In this lab these boxes are essential to understand why you perform steps. The main purpose isto show you how roles are working and can be used to manage permissions (in this case for a simple, virtualdocument management system).You can use Softerra LDAP Browser installed on your Admin Workstation to check your LDAP objects.\nN���:\nThis lab and some others are used in different environments. To get not confused by working with more peopletogether in one environment following the same lab description it is necessary to brand objects with a short prefixto identify the owned objects later. This prefix is named [Prefix] and gets typically created out of the first characterof the students first name and last name. Please ensure that every student uses a different prefix. In a real-world\n\n◦ In Manager, open Business Roles from the main menu.\n◦ In the Navigation pane expand the node, Basic configuration data and select Role classes .\n◦ Right click into white space of the Result list tab and select New from the context menu.◦ Enter the following for the new role class:\n▪ Role class: [Prefix]_Doc Access Management▪ Click [Save].\n◦\n In some white space in the Navigation pane right-click and select Refresh view from the context menu (only if you\ncannot see the created role-class. This is required because there is no auto-refresh in this front-end view).\n◦ Click on [Prefix]_Doc Access Management in the Navigation tree.◦ Select Configure role assignments from the Tasks list◦ Check Assignments permitted (left column) and Direct assignments permitted (right column) for the following rows:\n▪ LDAP groups\n▪ Employees\n▪ Resources▪ Account Definitions▪ Click [Save]scenario this is nowhere seen, because typically you don't have 5 or more people fulfilling simultaneously the\nsame job. remember and note your Prefix.\nN���:\nIn Identity Manager you can build up as many role trees as you like. Each role tree needs a root element, namedrole class. This role class is used to determine assignable resources and the resource inheritance within this roletree. If you mess up the inheritance, it is not possible to change this after the role class is saved for the first time.To change, this you must delete the role class and recreate it. Because of this, it makes sense to plan role classes\nproperly before you start creating the object.\nN���:\nAuto-refresh lowers the performance of the database because a large volume of data traffic is generated by thefeature. Therefore auto-refresh is seldom seen in Identity Manager utilities.\nN���:\nTo make objects assignable to the role structure you must configure this feature for each object class you like tohandle. This is to limit the number of calculations DBQueueProcessor must perform to check the assignments byinheritance. We start with an empty selection on a new role class, which means nothing can be assigned to theroles.Remember these steps if you miss a specific object class to assign to a role.\nA role structure needs to be planned before you start an implementation. If this is your first experience with roles in\nIdentity Manager, it is helpful to talk about how to simplify or speed up processes. Your Trainer is the right personto ask how objects in Identity Manager can be created easily. Just to give you an idea - the review of this lab withreading and implementing like here described took 30 minutes in total but don't stress yourself, this means onlyyou might need a bit more exercise experience.For this exercise:→ There is a \nvirtual Documentation system  (does not exist in reality). → This system gets managed by several\nLDAP permission groups (exist in an OpenDJ LDAP structure on IAMS04, connected to Identity Manager). Look\ninto Manager: LDAP / Hierarchical view  and you will see:\n◦ The LDAP container structure looks like the department structure\n◦ The LDAP container names look like the department.shortname\n◦ Each LDAP container contains three LDAP groups\n▪ Admin_*\n▪ Editor_*\n▪ Reader_*\nIn this example we like to implement a role structure which considers some roles for the United States (only US\n\n◦ To create this role structure, right click on Hierarchical view  of the new created Role class and select New as you\nhave already learned.\n▪ Name the new role: [Prefix] United States of America\n▪ Click [Save]\n◦\n Create another new role underneath (it could be helpful to expand the parent element in the tree, see the child and\nright click the child to get a correct pre-configured new role).\n▪ Name it: [Prefix] AuF.\n▪ Click [Save]departments or parents). This structure should look like:\n◦ United States of America\n▪ AuF\n▪ AuF_Act\n▪ AuF_Act_US\n▪ AuF_Adm\n▪ AuF_Adm_US\n▪ PRD\n▪ PRD_Csn\n▪ PRD_Csn_US\nAdditionally we make some assumptions:\n▪ The plain department container will manage “Reader” permissions.\n▪ For “Editor” and “Admin” privileges we like to implement additionally container.▪ Admin should get all roles assigned to get all permissions available▪ Our Documentation Tool only knows positive permissions (no deny permissions)▪ Top down inheritance should help us as much as possible.\n▪ In parent role structures only people located in US should be considered.\n▪ Everybody in this company at least must have reading permissions to a node and his parents.▪ Roles representing Editor / Admin privileges only should be marked.\nPlease discuss the role structure with your trainer and your class mates.\nThis should lead to the following final role structure\n\n◦ Expand Hierarchical view in Navigation pane.\n◦ Below each of the two roles you just created, create new sub-roles\n▪ Name: [Prefix] Auf_Act.\n▪ Click [Save]▪\n Name: [Prefix] Auf_Adm\n▪ Click [Save]\n◦\n Please follow the picture above and create the rest of the role structure. Please remember as well, this picture\ndoesn't show the right captions, you must add a prefix to each of your role names, this will help you in some\ncourses to separate your roles from your colleagues. Two more hints:\n▪ Copy and paste can help to create roles having the same name.\n▪ Refresh tree-view and asterisk [*] on the num-pad can help to refresh and expands a sub-tree.\n▪ A nice order can help to speed work up\n▪ First create all non !* roles▪ Create all !Editor roles in non !* roles▪ Create all !Admin roles in !Editor roles\n◦ Select the top node of your role structure ([Prefix] United States of America).\n▪ Select Assign account definitions from the Tasks list▪ Assign the LDAP account definition to the role▪ Click [Save]\n◦ Now we can start assigning permissions. Select the first second level node in \nHierarchical view  (should be AuF)\nand select Assign LDAP groups from the Tasks menu.\n▪ Select the according reader group and click [Save] to store the modification\n▪ Business role: AuF\n▪ LDAP-group: iamldap / AuF / Reader_AuF\n▪ Click [Save]\n▪\n Business role: AuF_Act\n▪ LDAP-group: iamldap / AuF / AuF_Act / Reader_AuF_Act\n▪ Click [Save]\n▪\n Repeat these steps accordingly until each container named like a department has its Reader_* group\nassigned.\n▪ Now let's assign LDAP groups to marked containers (!Editor, !Admin). This works accordingly to what we did\nbefore.\n▪ Business role: AuF / !Editor\n▪ LDAP-group: iamldap / AuF / !Editor_AuF\n▪ Click [Save]▪\n Business role: AuF / / !Editor / !Admin\n▪ LDAP-group: iamldap / AuF / !Admin_AuF\n▪ Click [Save]\n▪\n Repeat these steps accordingly for all other marked roles.N���:\nPermissions for these roles will be assigned through LDAP groups. These groups already exist. In the next stepyou will assign LDAP groups to this role structure.Additionally these LDAP groups should be assigned to the according LDAP accounts of identities managed inthese roles. This could mean that an identity without LDAP account should get one once he is assigned to one ofthe roles. Therefor an Account definition object must be as well assigned by this role structure.\nN���:\nYou might get the experience, that with all these technical names it is a bit complicated to select the rightpermissions. Additionally, it looks like, that creating a role structure and adding resources can be a bit painful if youtry to do this initially.Because of this, it might be easier to do this script based. You will find a couple of automation-features in IdentityManager making this possible. A proper naming might help as well. Therefore, exists on roles / departments / cost\ncenter / locations always properties for names and short names which could contain more technical AND user-\nfriendly naming information.To get the whole role structure a bit more looking friendly you can run the SQL script: IM-ROL-01_Role-\n\n◦ Select the United States of America / AuF / AuF_Act / AuF_Act_US role in the Navigation  pane.\n▪ Click on Create dynamic role  from the Tasks list.\n▪ Object class: Person\n▪ Select Use the where clause wizard icon (2) that appears. Depending on the context where you navigate\nthrough sometimes you like to see the condition window instead of a wizard. In these cases, the db icon (1)\ncan help you out.\n▪ In the popup window click on At least one entry exists.\n▪ Expand Reference to other objects▪ \nfrom the list select: Primary Department\n▪ Click on At least one entry exists▪\n Expand Value comparison\n▪ From the list select: Short name▪ Click on the quotation marks behind is equal to▪\n Enter role name: AuF_Act_US\n▪ Click [Next] and watch people being considered▪\n Click [Next] to see the generated SQL\n▪ Click [Finished] followed by [Save]\n◦ Select the parent role AuF_Act\n▪ Click on Create dynamic role from the Tasks list.\n▪ Object class: Person\n▪ Select Use the where clause wizard icon that appears.▪\n In the popup window click on At least one entry exists.\n▪ Expand Reference to other objects▪ From the list select: Primary Department▪ Click on At least one entry existsFriendlyNames.sql  from the according lab folder (just open the script in SQL Server Management Studio\n(SSMS) after you selected the DB IAMDB, change the only variable by adding the name of your role class and\nexecute the script using [F5]). Refresh the tree view in Manager. Now the display might help you to understandthe intention of the script. You need once more to refresh the Hierarchical view of your role structure in Manager.One more note to consider:\nPlaying around with SQL in Identity Manager is dangerous, because we don't take care of the Identity\nManager object API. Something like this is only an option, if just a hand full of columns should be filled AND thedata change should not have any effect on a connected target system. Better to be a super-hero with IdentityManager before you try to use something other else with an Identity Manager database as select … . Pleaseunderstand, self-made inconsistencies can become very soon, very painful. In any case a proper databasebackup should exist before you try to do something like this with your production data.Now it's time to assign identities to this role structure. Therefore, we need some more assumptions:\n◦ Reader should be assigned automated\n◦ In each role only US employees should be considered◦ \nEditors and Admins should be assigned manually\nN���:\nThe SQL generated, might be a bit more complex or different to the SQL you have in mind. This is to get a betterperformance during execution.The condition we created for this role considers only members of department AuF_Act_US. There is no furthercondition part necessary, because we know that department AuF_Act_US can only contain people from US. Forparent roles we must consider this in a condition as well.\n\n▪ Expand Value comparison\n▪ From the list select: Short name\n▪ Click on the quotation marks behind is equal to▪\n Enter role name: AuF_Act\n▪ Additionally, we need to prove people to live/work in US. Click the last Add expression. You should not click\nthe previous one, because we don’t want to specify another condition to determine the department we like to\ndetermine the location assigned to an employee to be done in the first level of this condition (in parallel to the\ndepartment definition).\n▪ Expand Reference to other objects\n▪ From the list select: Primary Location .\n▪\n Click on At least one entry exists\n▪ Expand Value comparison\n▪ From the list select: Location\n(NOT the one with the key icon, this represents the UID we need the property containing a name)\n▪\n Click on is equal to at the end of the line and select starts with.\n▪ Click on the quotation marks behind starts with▪ Enter: US\n▪ Click [Next] and watch people being considered▪\n Click [Next] to see the generated SQL\n▪ Click [Finished] followed by [Save]▪ Copy the condition into your copy buffer ([Ctrl]+[c]).\n◦ Select parent role AuF\n▪ Click on Create dynamic role  from the Tasks list.\n▪ Object class: Person\n▪ Paste the last created and copied where clause into field condition.▪\n The only value should differ in this condition is departmentname. In the inserted string search for AuF_Act\nand replace it by AuF.\n▪ Click Test condition from the Tasks list and after getting some results, click [Save] to store the condition.\n◦ Repeat steps above, as you like, to create similar results for Auf_Adm_US, Auf_Adm, PRD, PRD_CSN,\nPRD_CSN_US.\n◦ In a last step assign one or two people from Parent roles manually to a !Editor and !Admin role. The entry Assign\nemployees in the Tasks list is needed to do this. It is not necessary to do this for each of these roles but please\nonly consider configured roles in the next steps.\nTest and understand resulting assignments\n◦ Open Softerra LDAP Browser to check your LDAP objects hosted on IAMS04. This tool is installed on your admin\nworkstation. There should be a connection pre-defined but you can use the following account to connect.\n▪ Login: cn=svc_LDAP_1im\n▪ Password: I.4Madmin\n◦ Expand the tree and select an account and a group object to get a feeling for these objects.\n▪\n In Manager select an !Admin role you have configured with employees before. For example use United\nStates of America / \nAuF / Auf_Act / AuF_Act_US / !Editor / !Admin.\n▪\n Double-Check the group assignment in LDAP Browser on IAMS04N���:Why to step through all the steps as before, if we can copy and paste and modify the string a bit.Please follow the steps carefully. You need to select the Object class first before you can paste and save the SQL!\nN���:We expect to get a maximum set of permissions (LDAP-group assignments) for this role:\n◦ \nReader group for AuF  by inheritance\n◦ \nReader group for AuF_Act  by inheritance\n◦ \nReader group for AuF_Act_US  by inheritance\n◦ \nEditor group for AuF_Act_US  by inheritance\n◦ \n!Admin group for AuF_Act_US  directly assigned\n\n◦ Before we can identify why these other LDAP groups are assigned, we must have a closer look at the assignment.\nIn Manager for your selected role (in this example it is  United States of America / AuF / Auf_Act / AuF_Act_US /\n!Editor / !Admin ) open Assign LDAP groups.\nIn this case user HELYNMAU must have all four groups assigned. A short look into Manager (selecting the LDAP\naccount) shows the following Distinguishedname: cn=Shahid Fani, ou=SuM_Rsa_US, ou=SuM_Rsa, ou=SuM,\ndc=iamldap,dc=corp .\nThis path leads t\no the following picture in LDAP (you must switch on View/Attribute view  in this LDAP Browser to\nget the \npicture)\nAs you can easily see there are the expected and some other groups assigned. Time to figure out where theseassignments came from.\nN���:\n◦ There are two types of assignments, a white check in a blue circle and a blue check in a white circle. The\nwhite check assignments are caused by assignments happened in parent roles and are inherited to this role.\nThe white check assignments are assigned manually right here in this place. This means in addition only theblue check assignment can be revoked in this place.\n◦ This gets as well indicated by the white check in a blue square icon in the second column which indicates all\nso marked lines are checked by inheritance (indirect assigned).\n\n◦ In Manager find the employee who is assigned to our role (in this example: Mauldien, Helyn).\n◦ Once you see the person overview of this user find and click Show entitlements origin in the Tasks list (the entry\nis in the Report  section of the list) → (1), (2).\n▪ Look for entries where object type is LDAP groups (3).\n▪ Find a LDAP group which is not part of the expected group list above (3). In this case it is for example\niamldap.corp/SuM/Reader_SuM .\n▪ Double-click this entry and explore the detail pain (4)\nSome role tree specialties\n◦ In Manager select again one of your configured !Admin roles. In this example it is again: United States of AmericaIn detail: Resources can be assigned manually and by inheritance. Second important information is to which\nobject they are assigned to:In our scenario an identity (person / employee) is assigned to a role (manually or automated (dynamic role) but asa direct assignment. The same is true for LDAP groups assigned to this role (as well a direct assignment). Thisleads by resource inheritance to LDAP-Account memberships in these LDAP groups (indirect assignment),\nbecause the identity is member of these roles. This means in this case, the LDAP account gets LDAP groups\nindirectly assigned via a role.Now let's explore why this LDAP account do have more as the expected LDAP groups assigned. Yes, this could becaused by a manual assignment, but this is more seldom in an Identity Management System. In IAG we try toavoid entitlement assignments by direct assignments (because they don't reflect an assignment reason).\nN���:\nAs you can see:\n◦ We started at a person object (identity).◦ We selected the entitlement assigned to this identity we like to analyze.◦ In the last line of the block you see the selected group which is (directly) assigned to the LDAP account or\nvice versa.\n◦ The lines above show the other component of the assignment which is the LDAP-account. Here you can see\ntwo reasons to got this account assigned:\n→ By a (direct) assigned Account definition\n→ By being a member of the role structure HRA_Doc_Access_Management (remember we assigned theaccount definition to the root leaf of the tree which is the role United States of America.This means that you need to revoke both reasons before there is no reason to have this LDAP account (or afterlosing it to deactivate this LDAP account).Please notice Entitlement origin is an important part in an IAG system to answer an important question:Why is this identity permitted?During the ongoing training it could be of interest, to look from time to time into this view (for example if you workwith IT Shop). You might find some other ways, how business resources can be assigned to identities.\n\n/ AuF / Auf_Act / AuF_Act_US / !Editor / !Admin\n◦ Select Change main data from the Tasks list.\n▪\n First have a look at the properties on four tabs of this object\n▪ Secondly please notice the flags exist for a role\n▪ Open Jobqueue Info  and sign in with your system user.\n▪ On tab Job queue right click filter job queue and select Monitor job queue. Your system will now auto-\nrefresh the job queue. Please notice this can cost performance especially in circumstances where many\njobs are listed in the job queue.\n▪ Switch back to Manager and set flag Block inheritance.\n▪ Press [Save]▪ Switch back to Job queue Info and see what results in the Job queue.\n◦ In a very last step have a look at the role overview of your configured role.N���:\n◦ Block inheritance: Is a configuration allows to block all inherited business resources from parents or to\nparents depending on the inheritance direction (top down / bottom up). This is what we will test in a second.\n* do not inherit allows us two more facts to understand:\n▪ 1. Beside of business resources like account definitions, resources, entitlements we can assign\nEmployees, workdesks (hardware sets) and devices (hardware) as business resource user to a role.\n▪ 2. The flags mentioned allow to stop resource inheritance for a specific resource user and only for a role\nthe flag is configured for.\n◦ Dynamic roles not allowed: Exclude a role from getting configured by a dynamic role (people and/or\nworkdesks and/or devices gets automatically assigned).\nN���:\nYou should see a couple of jobs passing through. This is for a node at the end of a tree. Maybe you could get anidea what could happen, if there are many more people in more than one role underneath the role where blockinheritance is set.→ True, you easily can get a provisioning storm in your system. This is the reason why you should always becareful in moving role sub-trees or blocking the inheritance. Use these features only if necessary and monitor very\nclosely your job queue during such operations.\n\nLab Exercise CompleteN���:\nAs expected all inherited LDAP groups are gone, only the direct assigned group is left. Take time to discuss thisfeature with your class:\n◦ Can you find use cases for this?\n◦ Can you find another role structure to solve this scenario without using this flag?\n→ If yes, you should use this structure, because block inheritance is a performance expensive feature!", "slidePdf": "IM-ROL_Roles.pdf"}, {"id": 9, "title": "IT Shop Configuration and Administration", "code": "IM-BIT-01", "pages": ["lab09_page070.png", "lab09_page071.png", "lab09_page072.png", "lab09_page073.png", "lab09_page074.png", "lab09_page075.png", "lab09_page076.png", "lab09_page077.png", "lab09_page078.png", "lab09_page079.png", "lab09_page080.png", "lab09_page081.png", "lab09_page082.png", "lab09_page083.png", "lab09_page084.png", "lab09_page085.png", "lab09_page086.png", "lab09_page087.png", "lab09_page088.png", "lab09_page089.png", "lab09_page090.png", "lab09_page091.png"], "text": "Lab Exercise: IM-BIT-01 IT Shop Configuration and\nAdministration\nExercise Overview\nIn this lab you create an IT Shop structure and work with typical business processes exploring request and approval\nconfigurations. This includes the development of two simple approval processes.\nWhat You Need To Know\n◦ You must have the images open and running for this lab.\n◦ Additional Lab content stored in the Lab folder (T:\\Courses\\IdentityManager\\Labs):\nUser credentials required for this lab\nAffected Machines IAMW01\nAD login account\nUsername IAM\\administrator\nPassword I.4Madmin\nIdentity Manager - system user\nUsername [your system user] or training\nPassword I.4Madmin\nEstimated Time To Complete This Lab: 60 minutes\nLab Exercise\nPrerequisites for INSTALLATION courses\nN���:\nThese prerequisites can be skipped if you are working in a course without installation (in this case, continue withtask: Create a Shop Structure below).Please remember, in an installation course we start with an empty database. This means there are no businessobjects we can use for the next few labs. Because of this, we typically need to create some or can import somedata.\nIn this example we use a third way to get some data into our system (we saw DB Importer, Synchronization Editor).\nThis way is typically used to copy system configuration from one database to another. The mechanism is calledDatabase transport. It can be used to transport a few dedicated business data objects, typically together with some\n\n◦ >Start Transporter (from Launchpad start Change & Extend/Transport custom modifications)\n▪ >Select Import a transport file\n▪ >Click [Next] and [Next]▪ >From lab folder IM-BIT-01 select file: IM-BIT-01_Roles-Business-Data.zip and finish the transport. It is\npossible that you get an error message:\n◦ Open your command shell ([WIN]+[r]  → cmd → [Return].\n▪ Navigate to your Identity Manager installation directory\ncd /d \"c:\\Program Files\\One Identity\\One Identity Manager\"\n▪ Start Database transporter with switch /force\nTransporter.exe /force\n▪ Select Import a transport file\n▪ Click [Next] and [Next]▪ From lab folder IM-BIT-01 select file: IM-BIT-01_Roles-Business-Data.zip and finish the transport.\n◦ Repeat all steps to insert transport file: IM-BIT-01_IT-Shop-Data.zip. Now we do have a first IT-Shop imported and\na small role structure.\n◦ Next step is to add job title ( Person.Personaltitle) to our imported identities (person objects). From lab folder IM-\nBIT\n-01 open SQL file: IM-BIT-01_Personaltitle.sql in SQL Studio (SSMS, double-click should work).\n▪ Select the right database: IAMDB\n▪ Run the file [F5]system configuration.\nN���:\nIf you don’t get the error message, please continue with step 3. If you see this or a similar error message thisindicates that your transport was created with a previous Identity Manager version. In this case it is up to you todecide if your transport should be imported or not. In our example it is possible. The following steps are very oftenseen in IGA projects if you start with one version and later upgrade to another. This is the reason why we areshowing this here.\n\n◦ Now we need some responsible System manager in Identity Manager. In Manager select One Identity Manager\nAdministration.\n▪ Expand node Identity & Access Governance/Auditors and add 3 random people (Assign employees).\n▪ Expand node Target systems and assign a random person (of your choice) to each role of\n▪ Application Role: Active Directory\n▪ Application Role: LDAP\n▪ Application Role: Exchange\n▪ Now we must ensure the dynamic role membership re-calculation gets triggered. Switch back to Business\nroles and expand the Basic Configuration data section.\n▪ Select Schedules\n▪ Select Dynamic roles check from the Schedules list▪ Select Start immediately from the Tasks list\n▪ Now let's configure our imported IT-Shop structure by assigning imported Approval policies. Typically, the IT-\nShop transport will do this but let's double-check. Select IT Shop from Manager main menu.\n▪ Expand: IT-Shop/IAM.Corp Main\n▪ Select shelf: Shelf Line Manager\n▪ Select \nAssign approval policies  from the Tasks list\n▪ Ensure approval policy Recipient's Manager is assigned▪ Repeat these steps for shelfs (you will find according approval policies):\n▪ Shelf: Line Manager / Target System Manager▪ Shelf: Line Manager with preventive compliance\nConfigure email sender address\n◦ Open Designer and login with your system user account. You can also use Lauchpad: Configure/Change system\nsettings.\n◦ In Designer you need to double check Configuration parameters.\n▪ Expand QER\\ITShop\\DefaultSenderAddress.▪ \nValue NOREPLY@iam.corpN���:\nWe connected MS Exchange as email system. Because of this Identity Manager tries to send out emails.Therefore, a sender address is needed. Unfortunately, this needs to be configured differently for some features. ITShop does have its own sender address. Let's configure this to avoid FROZEN jobs in the Jobqueue later.Depending on your training and regarding to your training environment this might be preconfigured or not.\n\n▪ Click [Commit to database] and [Save].\nCreate a Shop Structure\n◦ Start Launchpad and select Display and maintain content data.\n◦ In Manager, select IT Shop from the main menu and expand the first level of the tree. You should see two shops\n(IAM.Corp → IT Shop configured in this environment, Identity & Access Lifecycle → default IT Shop).\nWe like to create a third one now.\n◦ Select the IT Shop node in the navigation pane.\n◦ Click the icon showing a paper and a plus (Create a new object) in the IT Shop structures pane tool bar\n▪ Name the IT Shop node: [Prefix] Shop\n▪ For the IT Shop information field select: Shop\n▪ Click [Save]\n◦\n Refresh the Navigation pane (you should remember how to do this).\n◦ Select the [Prefix] Shop node.\n◦ Right click the [Prefix] Shop node and select new.\n▪ Name the next IT Shop node: [Prefix] Employee\n▪ For the IT Shop information field, select: Customer\n▪ Click [Save]\n◦\n Right click the [Prefix] Shop node and select new again.\n▪ Name the IT Shop node: [Prefix] Line Manager\n▪ For the IT Shop information field, select: Shelf\n▪ Click [Save]\n◦\n Create another shelf\n▪ Name it: [Prefix] Line Manager / Department Manager.\n▪ For the IT Shop information field, select: Shelf\n▪ Click [Save]\n◦\n Expand [Prefix] Shop in the Navigation pane and view your IT Shop structure.\n◦ Select the Customers node.\n◦ Select Create Dynamic Role.\n▪ Select the database icon underneath of Description.\n▪ Click into the Condition field and enter the following: 1=1.\n◦\n Click [Save].N���:\nIn SQL you are not able to write 'true' as a condition. Because of this we must implement a condition which is theequivalent to true in SQL syntax which is 1=1. With this condition, each person in the Identity Manager databasecan now access our IT Shop.\n\nCreate Catalog Structure\n• Expand the Basic configuration data node in the IT Shop Navigation pane.\n• Right click on Service categories and select new from the context menu (be careful we mean Service categories\nunderneath of Basic configuration data not the node Service Catalog above).\n◦ Service category: [Prefix] Function Roles\n◦ Select the picture tab and add a picture from your Lab folder (set of keys)\n• \nClick [Save]\nMake roles ready for IT ShopN���:\nThe IT Shop structure in Identity Manager is for administrative purposes. To organize items in IT Shop to get displayedin the Identity Manager Standard Web Portal, we need to create a catalog structure.In the following steps you need some icons. The instructor will tell you where to find (Training Environment: T:\\IAMS10\n\\T\nraining\\courses\\IdentityManager\\Labs in the folder according to the lab). Here you can find some but feel free to\ndownload some small icons from Int\nernet if you like instead.\nN���:\nIf you take a look into Business roles you will find a role-tree Functions which is part of the configuration of thisenvironment. However, each of them shows a Trainee sub-role which we now want to make request-able in IT Shop. Tomeet this requirement, we must first re-configure these roles.In difference to permissions or resources, roles cannot be directly added to IT Shop. To handle this the system exposesa task Create assignment resource... which automates all steps. The whole process looks like this:\n\n• Select Business Roles from the Main Menu.\n• Expand Functions → Hierarchical view → down to the bottom (expand each sub node. You can use [*] from the num-\npad).\n• Right click Hierarchical view and select New.\n◦ Business Role: [Prefix] Project Controller\n◦ Click [Save]\n• \nRefresh view in Navigation (right click into the box)\n• Right click the new entry and select New again.\n◦ Business Role: [Prefix] Trainees\n◦ Click [Save]\n• \nSelect the [Prefix] Trainees role of the [Prefix] Project Controller.\n• Select Create assignment resource from the Tasks list.\n◦ Click [Next]◦ Name the Resource: \n[Prefix] Project Controller Trainee\n◦ Click [Next]\n◦ Name the Service item: [Prefix] Project Controller Trainee\n◦ Select, Select an existing service category\n◦ Select Service category: [Prefix] Function Roles\n◦ Click [Next]◦ Click [Exit]\n• From the main menu select IT Shop.• Expand IT Shop => [Prefix] Shop.• Select [Prefix] Line Manager / Department Manager shelf.• Click \nAssign resources  from the Tasks list and select tab Assignment resources.\n• Assign (Double-click) resource: [Prefix] Project Controller Trainee\n(If you can't see the entry, ensure you selected tab 'Assignment resources' AND you expanded entry 'Functions').\n• \nClick [Save].\nSimple Group Assignment\n• Select Active Directory (ADS icon) from the main menu.• Expand Groups in the Navigation pane.• Right click Global Groups and select \nNewN���:\nNow, we do have a role which can be assigned to our IT Shop structure in one of the next steps.\nN���:\nNow we will see the typical assignment of single resources (AD user accounts, groups & mailboxes). This processalways looks like:\n\n◦ Name: [Prefix]_Proxy_Internet_Access\n◦ Container: IAM.corp/Users\n◦ IT Shop: checked\n• Click the blue plus icon right beside Service item\n◦ Service Item: [Prefix] Internet access for employees\n◦ Click [OK]\n• \nClick [Save]\n• To assign the group to your IT Shop structure, switch to the IT Shop menu and expand the IT Shop tree you created\nbefore.\n◦ Select the shelf: [Prefix] Line Manager\n◦ From the Tasks list select Assign Active Directory Groups\n◦ Assign AD group [Prefix]_Proxy_Internet_Access◦ Click [Save]\n• In the IT Shop Navigation pane expand the Service catalog structure.\n◦ Create a new service catalog container in the first level and name it (this is something you already did in the past).\n▪ Name it: \n[Prefix] Basic Employee Permissions\n▪ Take picture: Paragraphs\n▪ Click [Save]\n◦\n Now use Assign Service Item from the Tasks list and assign the Service Item [Prefix] Internet access for\nemployees.\nCreate Approval Policies\n• From the Main Menu, select IT Shop.• Expand Basic configuration data.• Right click Approval Policies and select New from the context menu.\n◦ Approval policy: [Prefix] Line Manager Approval\n◦ Click the icon right beside the field \nApproval workflow .\n◦ In the workflow editor double click on the new workflow rectangle and rename it: [Prefix] Line Manager Approval .\n◦ Click [Ok].◦ Add a new approval level.◦ Single step: [Prefix] Line Manager\n◦ Approval procedure: \nCM-Recipient's Manager\n◦ Click [Ok], [Ok]◦ Click [Save].\n• Repeat these steps for [Prefix] Line Manager / Department Manager Approval.N���:\nWith IT Shop checked the Service item field is now mandatory. If you try to save the record before the field Serviceitem is filled, you receive an error message.The Only use in IT Shop check-box is to prevent assignment through the Manager or Identity Manger tools. The requestand assignment may only be performed through the IT Shop (web portal). Leave this flag un-checked!\nN���:\nNow the group is request-able iPn IT Shop but it is necessary to place the according Service Item somewhere into theService catalog to ensure the item gets visible in the Standard Web Portal.\nN���:\nIn a Web Browser you should see a new catalog icon in your Standard Web Portal containing one item. This means theitem is now requestable but before we can run a request we need an approval policy.\nN���:\nYou need to define two approval levels in the approval workflow.\n\n• Assign the approval policy to the appropriate IT Shop shelves.\n◦ Select the correct IT Shop shelf you created before\n◦ Assign the according Approval Policy◦ Remember two shelfs to configure\nCheck request ability and order a resource\n• Open Standard Web Portal in your Browser and login with an employee.\n◦ Browser / Quick Links / Standard Web Portal\n◦ Login for example as Harriall, I.4Madmin\n• Select Start new request\n◦ You should see two more categories with colored icons\n◦ Each category should contain at least one item. If you can't see the picture below, double-check your IT Shop/shelf\nassignments.\n• Select category: [Prefix] Function Roles.\n• Select item: [Prefix] Project Controller Trainee\n• Click [Add to cart] right bottom side• \nIn the gray box on right configure for your entry\n◦ Valid from: configure today\n◦ Valid until: configure tomorrow\n◦ Click the blue save icon underneath and submit.→ You need CM and DM approval steps\n→ To connect the first with the second level expand the green check and connect the line that appears with the secondlevel.\nN���:\nYou should be able to complete this on your own based on what you have learned in earlier steps. Now is time to checkour configuration...\nN���:\n\n• From the menu select Request/My Requests and click Start a new request.\n• Select [Prefix] Basic Employee Permissions• Select line [Prefix] Basic Employee Permissions• Click [Add to cart] right bottom side. Note the two items in your cart.• Click [Submit] on bottom right.• Select View the request history\n• Check one of the entries and select the workflow tab. As you can see for both the next decision maker to approve is\nTimtschenko, Alphen. Don't worry, this could be another manager (memorize the account name).\n• Sign out your requestor and sign in the decision maker (person icon on right upper)\n◦ Select Pending requests.\n◦ Check the two check marks in column Decision (for both entries, they need to become green)◦ Click [Next]◦ Click [Save]\n• From the menu select Request / My actions• Select Approval history\n◦ As you can see One item is assigned one item is canceled. If you don't see the status wait for some seconds and\npress [F5] to refresh.\n◦ Select the aborted item.◦ Look at the workflow. You can see that there was no decision maker the system was able to determine. This\nmeans in our two-step workflow (Line Manager / Department Manager) no department manager was configured.\nCheck this using Manager and you will figure out this is the truth.\nLab Exercise CompleteAs you can see we added a resource having a validity period assigned to give you access just for one day.\nN���:\nIn circumstances where Allmann, Harri  was not your requestor, it could be you see one assigned item and one pending\nitem where you can see the next approver. Don't worry about it. You should take with you that a shopping cart can\ncontain many items and they can have different workflows assigned.To fix the problem with the aborted item exists several options:\n• Configure a department manager for the according users department.\n• Configure members for the Chief Approver Team (an Application roll, members can approve everything).\n• Configure fallback approvers in your approval workflow.\n• …\nTake this example to talk with your class about the different capabilities in Identity Manager to handle missing or\nunwilling or misconfigured approvers.\n\nLab-Exercise IM-BCA-01: Preventive and detective\nCompliance\nExercise Overview\n In this lab you create and validate a compliance rule and manage your compliance framework.  This includes preventive and\ndetective compliance checks. \nWhat You Need To Know:\n• You must have the images open and running for this lab.\n• This lab is based on the results of the lab: ROL-1 Working with Roles.\nUser credentials required for this lab:\nAffected Machines IAMW01\nAD login account\nUsername IAM\\administrator\nPassword I.4Madmin\nEstimated Time To Complete This Lab:   45 minutes\nLab Exercise\nConfigure email sender address\n• Open Designer and login with your system user account. You can also useLauchpad: Configure/Change system\nsettings .\n• In Designer you need to double checkConfiguration parameters\n◦ ExpandQER\\ComplianceCheck\\EmailNotification\\DefaultSenderAddress.◦ Value: mailto:NOREPLY@iam.corp\n◦ ExpandQER\\Policy\\EmailNotification\\DefaultSenderAddress .\n◦\n Value: mailto:NOREPLY@iam.corp\n◦ If values were configured, click [Commit to database] and [Save].\nCreate new roles for exception approvers and to deal with rulesN���:\nWe connected MS Exchange as email system. Because of this Identity Manager tries to send out emails. Therefore, asender address is needed. Unfortunately, this needs to be configured differently for some features. Compliance doeshave its own sender address. Let’s configure this to avoid FROZEN jobs in the Jobqueue later. Depending on yourtraining and regarding to your training environment this need to be preconfigured or not.\n\n• Start Launchpad and select Display and maintain content data.\n• Select Identity Audit from main menu.\n• Expand Basic configuration data• Expand Exception approvers on the Navigation pane and create a new role.\n◦ Application role: [Prefix] Compliance and Security Officers\nAs you can se \ne there is a role we later can use if we need exceptional approvers for compliance rules.\n◦ Assign and note a role member of your choice.\nPlease note t\nhe centralaccount of your Exceptional Approver .\n• Select Business Roles from the main menu and expand Functions/Hierarchical view structure.\n• Add a single role underneath Administrators and Auditors and assign employees (there could be already a similar\nnamed role, just ignore it):\n◦ Each role name: [Prefix] Trainees\n◦ Assign employees as you like, ensure that only one employee is member of both roles. Ensure that all these role\nmembers are NOT member of your Compliance and Security Officers role you created before.\n▪ Please note 1  employee, role one only (* we suggest to note the employees central account)\n▪ Please note 2  employee, role one only *)\n▪ Please note 3  employee, both roles *)▪ Please note 4  employee, role two only *)\nCreate Compliance Rules\n• In Manager switch back to Identity Audit.• In the Navigation pane, right click Rules and select New from the context menu\n◦ Name the rule: [Prefix] SoD: Admin trainees must not be Auditor trainees\n◦ Exception approval allowed: \nchecked\n◦ Exception approver: [Prefix] Compliance and Security Officers\n◦ In section Condition\n▪ Click on the drop down arrow after At least one entitlement\nand select: at least one role or organization assignment.\n▪ Click on the drop down arrow after of type…\nand select: Business Roles\n▪ Click on the next drop down arrow in the line below after … and select: Properties / Full name.▪ Type in: Functions: Administrators\\[Prefix] TraineesN���:\nNow we will create/double-check two roles to deal with. These roles will not be needed in a real-world scenario(because there are some) but we must ensure that every student gets its own set of roles do deal with in anenvironment you share with your colleagues.\nst\nndrd\nth\nN���:\nYou may right-click the affected role in the result list and copy the full name (display name: Full name, field name:Org.FullPath) information out of the Properties tab to insert it as described above. This works better than rewriting thename manually. To open an additional form without losing the changes in the rule, hold down the \"ALT\" key during theclick action in the Navigation pane.\nTo double-check the condition, use the \"I\" icon nearest to the inserted fullname value (same line on left). It needs to\nreturn just one entry (the Trainee role).\nYou might lose the focus of your rule. In this case you need to find the newly created rule again but it is not in the list of\nfilter Rules. This is, because during editing it is a working copy. To find your rule again, expand Rules and select filterWorking copies of rules.\n\n◦ Click on the first blue plus (located below If the combination of all… ).\n◦ Repeat the steps above for    Functions: Auditors\\[Prefix] Trainees◦ Click [Save]\n• Select Enable working copy from the tasks list.• Click [yes] when prompted and confirm.\nTest the compliance rule\n• From the main menu select Identity Audit and expand Basic configuration data\n◦ Select Schedules .\n◦ Select Compliance rule check  from the Schedules list\n◦ Select Change main data.◦ Notice the schedule is configured to run once per day.◦ For our lab purposes, select this entry again (double click to get the overview) and click Start immediately from\nTasks list.\n• Wait for the DB Queue Processor to complete the jobs (Jobqueue Info).\n• View the rule overview for our compliance rule.\n◦ Notice the rule violations now appear.N���:\nRemember, the user who is member in both [Prefix] Trainees roles is to be used for the detective compliance check.You can use one of the other assigned users of role one for preventive compliance check by assigning the user to roletwo.\nIn this example we have assigned user [3rd Employee, both roles] both roles. This now creates a compliance violationwe get with a detective check. Detective checks happens schedule based, let’s speed this up.\n\nConfigure Preventative Compliance Check\n• In a first step we need to add our two newly created roles to the IT Shop to make them requestable. In Manager select\nBusiness roles and expand Hierarchical view / Functions  down to your first created business role. Select the first role\nFunctions: Administrators / [Prefix] Trainees\n◦ Select from the Tasks  list Create assignment resource\n◦ Click [Next]\n◦ Assignment Resource: [Prefix] Basic administrator permissions for trainees\n◦ Click [Next]◦ Service Item: [Prefix] Basic administrator permissions for trainees\n◦ Service Category: [Prefix] Function Roles\n◦ Click [Next]◦\n Click [Exit]\n• Repeat the previous steps for the second role. This is only necessary if this second role doesn’t have an Assignment\nresource assigned.\nTo create an assignment resource, use the following values:\n◦ Assignment Resource: [Prefix] Basic auditor permissions for trainees\n◦ Service Item: [Prefix] Basic auditor permissions for trainees\n◦ Service Category: [Prefix] Function Roles\n• Now the resources must be placed in IT Shop. Select IT Shop from the main menu.\n◦\n Expand IAM.Corp/IAM.CORP Main/Shelf: Line Manager underneath the IT Shop filter.\n◦ Select shelf Line Manager with preventive compliance\n◦ Select Assign Resources from the Tasks list.◦ On the assignment form select tab Assignment resource\n◦ Assign the two [Prefix] Basic …permissions… resources\n◦ Click [Save]]N���:\nIf you need to edit the rule you must do it in the working copy. It is also not enough to click on [Save] to activate thechanges. After saving, click on Enable working copy in the task list to activate it.\nThe screen shot above need to show another rule violation. Please have in mind it is depending on your data and\nshould be different for each student in this class.\nN���:\nPreventative Compliance checks are better than detective checks as they prevent compliance violations before theyoccur when using the web portal.Nevertheless, both checks are needed because you can bypass Identity Manager by using native administrative toolslike \"ADSI Edit\" or \"Active Directory Users and Computers\". In this case a preventive check (you can find only in IdentityManager) can’t prevent a violation. This is one of the reasons to have detective compliance checks available.\nPreventive checks get implemented as part of an approval policy.\n\nTest the preventative compliance check\n• Logon to the web portal using one of the identities for preventive compliance checks (see above). Don’t forget to\nremember in which Trainees role this person is located. In the following you should assign the opposite role to get your\nviolation.\n◦ Select Start a new request\n◦ Select your [Prefix] Function Roles (in category Function Roles )\n◦ Check the box in front of the not assigned role.◦ Click [Add to cart] in this line located on right.◦ On the right lower side of your Shopping cart, you will find on left of the [Edit] and [Submit] button a drop-down\nfield [Actions].\nClick [Actions]\n◦ Select Check shopping cart\n◦ Please note the message Compliance rule violation detected.◦ Click [OK]\n• Click on [Submit] on right lower. You see the same message again, followed by The request was successfully\nsubmitted . See the note above.\n• Select View the request history to show who must approve the request next (Details tab Workflow\nNote the approver centralaccount.\n• Sign out the requestor and sign in as the approver.\n◦ You should be easily able to find the request. Please approve it by selecting the check on right and save the\nrequest.\n◦ Wait some seconds and select Request / My actions from the site menu.◦ Select Approval History .\n• Select tab Workflow in the gray box on right. If you can’t see a similar picture like displayed below, wait a bit and press\nF5 until it is displayed.N���:\nThis is not the preventive Compliance check we are looking for. This is an upfront compliance test to signal the user thatthis shopping cart may lead to compliance issues.It is still possible to submit this request. If the Line Manager approves the request, it will require a further exceptionapproval from one of the compliance officers (CISO). Only if the exception approval is granted, this request will be finallygranted.\nA bit confusing is the system reaction if you directly click on [Submit] without using [Actions] first. In this case you will\nget the same error message, but the system will directly submit the compliance violation without giving a user a chanceto correct the shopping cart. This is the default process, because users typically don’t care about compliance issuesthey just request for resources and let decision makers making decisions.\n\nAs you can see in this example, the approver did his job, the preventive compliance check denied but because we\nconfigured on the violated rule the exceptional approval option, now the members of role [Prefix] Compliance andSecurity Officers are the next approvers. This will work similar as all approvals we have seen before. Let’s exit here.The workflow gets a bit better transparent, if we look in the workflow history in Manager (How to get there, is not part ofthe exercise) you can see: Green � approved\n Red � denied\n Blue � currently to decide\nStructuring Compliance Rules\n\n• In the Identity Audit navigation pane of the Manager, expand Basic configuration data and right click Compliance\nFrameworks.\n• Select Newfrom the context menu.\n◦ Compliance framework: [Prefix] Segregation of Duties\n◦ Manager/supervisor: Rule supervisors\n◦ Description: My SoD rules\n◦ Click [Save]\n• \nClick on Assign rules in the Tasks list\n◦ Assign the previously created rule to the framework\n◦ Click [Save]\n• Right-click in the Navigation pane and select Refresh view and expand the Compliance framework. It seems to be\nthere is no assignment.\n• The reason is that this assignment happened to your rule working copy.• Find the working copy in Working copies of rules (Navigation pane) and enable the copy. You will notice now it\ncontains the rule.\nLab Exercise Complete\n\nLab-Exercise: IM-BCA-02 Attestation and Recertification\nExercise Overview\nIn this lab you build and implement an attestation policy.\nWhat You Need To Know:\n• You should have the images open and running for this lab.\nUser credentials required for this lab:\nAffected Machines IAMW01\nAD login account\nUsername IAM\\administrator\nPassword I.4Madmin\nIdentity Manager - system user\nUsername [your system user] or training\nPassword I.4Madmin\nEstimated Time To Complete This Lab: 40 minutes\nLab Exercise\nCreate New Identity (Employee)\nN���:\nIf you have already inserted an employee with your name into this environment and configured this employee with anAD account and a mailbox, skip this section. If not, please perform the necessary steps to create and provision anaccount. This employee object requires two account definitions along with an AD account in IAM and a mailbox inIAM.corp.\n\n• Start Launchpad and select Display and maintain content data.\n• Select Employees from main menu.\n• Click the Create a new object  icon in the employees Result list tool bar.\n• Enter the following data:\n◦ First name: your first name\n◦ Last name: your last name\n◦ Click the Organizational tab.\n◦ Select a value for primary department from the drop-down tree (should be a leaf node for lab simplicity).\nRemember this name, you will need it later.\n◦ Select a value for primary cost center from the drop-down tree (again this should be a leaf node). Remember this\nname, you will also need it later.\n◦ Click the Address tab.\n◦ Configure a primary location of your choice.\n◦ Click the Miscellaneous tab.◦ Note the automatically generate Central user account, you will need it later.◦ System user password: I.4Madmin\n◦ Confirmation: I.4Madmin\n◦ Click [Save]\n\n◦ To get an AD account and a mailbox you will need account definitions. Select your new employee and assign the\nfollowing account definitions.\n▪ Std. mailbox domain IAM\n▪ Std. user account domain IAM▪ Click [Save]\n◦ Start \nJobQueueInfo  and observe the processes as they complete.\nCreate a Business role\n• Select Business Roles from the Main Menu.\n• Expand Functions -> Hierarchical view  -> down to the bottom (expand each sub node. You can use [*] from the num-\npad).\n• Right click Hierarchical view and select New.\n◦ Business Role: [Prefix] Project Controller\n◦ Click [Save]\n• \nRefresh view in Navigation (right click into the box)\n• Right click the new entry and select New again.\n◦ Business Role: [Prefix] Trainees\n◦ Click [Save]\n• \nEnsure there are people assigned to the [Prefix] Project Controller/[Prefix] Trainees role. If not assign two or more.\n• Ensure the there is a manager configured for role [Prefix] Project Controller/[Prefix] Trainees and document this\nperson (this manager should not be an assigned member to this role):N���:\nPlease check in Manager / Business roles / Functions / Hierarchical view if a role [Prefix] Project Controller exist.You could have created this before with another lab. If yes, you can skip the first 5 steps and their subs.Caution: the 6th step and all below are needed in any case.\n\nAuthorize your user for Attestation Policy creation\n• In Manager select Employees and search for your employee record (created in the last task or another lab).\n• Select Assign One Identity Manager application roles from the Tasks list.\n• Assign the following application roles:\n◦ Identity & Access Governance/Attestation/Administrators◦ \nIdentity & Access Governance/Compliance & Security Officer\n◦ Click [Save]\nConfigure email sender address\n• Open Designer and login with your system user account. You can also use Lauchpad: Configure/Change system\nsettings.\n• In Designer you need to double check Configuration parameters.\n◦ Expand QER\\Attestation\\DefaultSenderAddress.◦ Value: NOREPLY@iam.corp\n◦ Click [Commit to database] and [Save].\nCreate Attestation Policies\n• Open your Web browser and start Standard Web Portal\n◦ https://IAMS03.iam.corp/IdentityManagerN���:\nTo create Attestation policies, you need the role of Chief Information Security Officer (CISO)\nN���:\nThese permissions are necessary to define attestation procedures (admin) and watch and manage attestation results(CISO).\nFurther, Attestation policies are easily to be created in the Standard Web Portal. (They can also be created in the\nManager tool, but this is not recommended.)\nN���:\nWe connected MS Exchange as email system. Because of this Identity Manager tries to send out emails. Therefore, asender address is needed. Unfortunately, this needs to be configured differently for some features. Attestation doeshave its own sender address. Let’s configure this to avoid FROZEN jobs in the Jobqueue later. Depending on yourtraining and regarding to your training environment this might be preconfigured or not.\n\n(better to use Quick Links from the documentation site)\n◦ Sign in using your employee ID and your password\n• In the web portal from the menu select Attestation/Governance Administration and click on Attestation Policy\nSettings.\n• Click [New attestation policy] on the portals right lower corner.\n• In the Create New Attestation Policy  form:\n◦ Attestation policy: [Prefix] Project Controller Trainee Members\n◦ Attestation procedure: Role memberships / Business role membership attestation\n◦ Approval policy: Attestation of business role membership by role manager\n◦ Calculation schedule: Monthly\n◦ Time required (days): 7\n◦ Compliance framework: Predefined Recertification Framework\n◦ Click on the tiny blue icon with the white plus inside in the Object selection (\n )\n▪ Condition Type: Specific roles\n▪ Select the Functions / [Prefix] Project Controller / [Prefix] Trainees container\n▪\n Click [Ok]\n• Click [Create]\nAttestation Approval\n• In Manager select Attestation from the main menu.N���:\nTo find your actual ID, you can use the person overview form in Manager. Ensure the DBQueue Processor has finishedits work before you try to logon to Manager.\nIf you get a wrong user or password warning ensure:\n• Your User Central account is correctly written\n• You inserted a System user password during creating the identity object before. If you can’t remember this just\nchange the System user password on the Miscellaneous tab of the identity object to I.4Madmin (recommended\nfor this training).\nN���:\nThe DBQueue Processor creates a scheduled process for the attestation cases. To speed this up for our lab exercise,we shall start the schedule manually.\n\n◦ Expand Basic Configuration data and select Schedules.\n◦ Double click on Monthly in the Schedules list.◦ Select Start Immediately from the Tasks list and confirm.\n• Switch back to the web portal and logoff the current user.\n• Logon to the web portal as the role manager you noted above.\n• You should immediately see Pending attestations\n• Select Pending Attestations and review the entries by using the detail section on the right.\n◦ Deny Person1\n◦ Approve Person2 and all other people maybe in this list.◦ Click [Next]\n• Note the yellow message informing about automatically deleted permissions and click on the message.• Watch the role membership was prepared to become deleted. Close the pop-up form. This allows attestors a review\nabout the consequences of the taken decisions.\n• Click [Save] and [Yes] to save changes.\n• In Manager check the appropriate Trainee role container to view the revised membership. You can watch Jobqueue to\nsee the de-provisioning. Don’t forget finally to refresh the role overview in Manager to see the changes.\nLab Exercise CompleteN���:\nThe employees responsible for the attestation are the senior managers assigned to the role we created before.\nN���:\nThe out-of-the-box behavior of the system is to automatically remove the denied employee from the Business Rolecontainer. Be aware that before you can check this, you must wait on DBQueue Processor and the job engine. The toolto check the system is JobQueueInfo.", "slidePdf": "IM-BIT_Basic_ITShop_and_Approval_Processes.pdf"}, {"id": 10, "title": "Simple Active Directory Group Attestation", "code": "IM-BCA-03", "pages": ["lab10_page092.png", "lab10_page093.png", "lab10_page094.png", "lab10_page095.png", "lab10_page096.png"], "text": "Lab Exercise: IM-BCA-03 Simple Active Directory Group\nAttestation\nExercise Overview\nIn this lab we create a simple attestation policy acting as Compliance Information and Security Officer (CISO). We also see\nhow to approve an attestation case\nWhat You Need To Know:\n• You should have the images open and running for this lab.\nUser credentials required for this lab:\nAffected Machines IAMS01, IAMS02, IAMS03, IAMW01\nAD login account\nUsername IAM\\administrator\nPassword I.4Madmin\nIdentity Manager - system user\nUsername [your system user] or training\nPassword I.4Madmin\nEstimated Time To Complete This Lab: 40 minutes\nLab Exercise\nCreate New Identity (Employee)\nN���:\nIf you have already inserted an employee with your name into this environment and configured this employee with anAD account and a mailbox, skip this section. If not, please perform the necessary steps to create and provision anaccount. This employee object requires two account definitions along with an AD account in IAM and a mailbox inIAM.corp.\n\n• Start Launchpad and select Display and maintain content data.\n• Select Employees from main menu.• Click the \nCreate a new object  icon in the employees Result list tool bar.\n• 4.     Enter the following data:\n◦ First name: your first name\n◦ Last name: your last name\n◦ Click the Organizational tab.\n◦ Select a value for primary department from the drop-down tree (should be a leaf node for lab simplicity).\nRemember this name, you will need it later.\n◦ Select a value for primary cost center from the drop-down tree (again this should be a leaf node). Remember this\nname, you will also need it later.\n◦ Click the Address tab.\n◦ Configure a primary location of your choice.\n◦ Click the Miscellaneous tab.◦ Note the automatically generate Central user account, you will need it later.◦ System user password: I.4Madmin\n◦ Confirmation I.4Madmin\n◦ Click [Save]\n\n• To get an AD account and a mailbox you will need account definitions. Select your new employee and assign the\nfollowing account definitions.\n◦ Std. mailbox domain IAM\n◦ Std. user account domain IAM◦ Click [Save]\n• Start JobQueueInfo and observe the processes as they complete.\nAuthorize your user for Attestation Policy creation\n• In Manager select Employees and search for your employee record (created in the last task or another lab).\n• Select Assign One Identity Manager application roles from the Tasks list.• Ensure the following application roles are assigned:\n◦ Identity & Access Governance/Attestation/Administrators◦ \nIdentity & Access Governance/Compliance & Security Officer\n◦ Click [Save]\nConfigure email sender addressN���:\nTo create Attestation policies, you need the role of Chief Information Security Officer (CISO). You may have done this ina previous lab. If you can remember just skip this section.\nN���:\nThese permissions are necessary to define attestation procedures (admin) and watch and manage attestation results(CISO).\nFurther, Attestation policies are easily to be created in the Standard Web Portal. (They can also be created in the\nManager tool, but this is not recommended.)\nN���:\nWe connected MS Exchange as email system. Because of this Identity Manager tries to send out emails. Therefore, asender address is needed. Unfortunately, this needs to be configured differently for some features. Attestation doeshave its own sender address. Let’s configure this to avoid FROZEN jobs in the Jobqueue later. Depending on yourtraining and regarding to your training environment this might be preconfigured or not.\n\n• Open Designer and login with your system user account. You can also use Lauchpad: Configure/Change system\nsettings.\n• In Designer you need to double check Configuration parameters.\n◦ Expand QER\\Attestation\\DefaultSenderAddress.\n◦ Value: NOREPLY@iam.corp\n◦ Click [Commit to database] and [Save].\nCreate Active Directory group\n• In Manager select Active Directory from the Main Menu.\n• Expand Groups in the Navigation pane.• Right click Groups and select New\n◦ Name: [Prefix] Proxy Internet Access\n◦ Container: IAM.corp/Users\n◦ Click [Save]\n• \nSelect Assign user accounts from the Tasks list\n• Assign two or more Active Directory accounts from a container underneath Company\nCreate Attestation Policies\n• Open your Web browser and start Standard Web Portal\n◦ https://IAMS03.iam.corp/IdentityManager\n(better to use Quick Links from the documentation site)\n◦ Sign in using your employee ID and your password\n• From the site menu select Attestation / Governance Administration• Select tab Attestation Policy Settings .\n• Click [New attestation policy] on the portals right lower corner.• In the \nCreate New Attestation Policy  form:\n◦ Attestation policy: [Prefix] Proxy group membership attestation\n◦ Attestation procedure: System entitlement memberships / System entitlement membership attestation\n◦ Approval policy: Attestation by selected approvers\n◦ Calculation schedule: Monthly\n◦ Time required (days): 7\n◦ Click [Assign] right beside the Attestors field.\n▪\n Enter last name of your created user into the search box\n▪ Click the spyglass icon right beside▪ Select your created identity▪ Click [OK]\n◦ Compliance framework: Predefined Recertification Framework◦ Click on the tiny blue icon with the white plus inside in the Object selection\n▪\n Condition Type: Specific system entitlements\n▪ Enter into the search box: [Prefix]\n▪ Click the search (spyglass) icon▪\n Select entry: [Prefix] Proxy Internet Access\n▪ Click [OK]N���:\nTo find your actual ID, you can use the person overview form in Manager. Ensure the DBQueue Processor has finishedits work before you try to logon to Manager.\n\n• Click [Create]]\nAttestation Approval\n• In Manager select Attestation from the main menu.\n◦ Expand Basic Configuration data and select Schedules.\n◦ Double click on Monthly in the Schedules list.◦ Select Start Immediately from the Tasks list.\n• Switch back to the Browser (Standard Web Portal) and select \nAttestation / My Actions  from the site menu.\n• Select Pending Attestations\n• Review the entries by using the detail section on the right.\n◦ Approve and deny members\n◦ Click [Next]\n• 5.     Click [Save] and [Yes] to save the changes\nLab Exercise CompleteN���:\nThe DBQueue Processor creates a scheduled process for the attestation cases. To speed this up for our lab exercise,we shall start the schedule manually.\nN���:\nIn a real-world scenario the attestor often will not be the person who creates the attestation policy. To simplify the labcase, it makes sense to use the same user for both.", "slidePdf": "IM-BCA_Basic_Compliance_And_Attestation.pdf"}, {"id": 11, "title": "Report Subscription", "code": "IM-BRP-01", "pages": ["lab11_page097.png", "lab11_page098.png", "lab11_page099.png", "lab11_page100.png"], "text": "Lab Exercise: Report Subscription\n(IM-BRP-01)\nExercise Overview\nIn this lab you enable mail delivery and subscribe to a report\nWhat You Need To Know\n• You must have the images open and running for this lab.\n• AD Account SRV_1IM_EX must be member of the AD group Organization Management.\nUser credentials required for this lab\nAffected Machines IAMW01\nAD login account\nUsername IAM\\administrator\nPassword I.4Madmin\nEstimated Time To Complete This Lab: 20 minutes\nLab Exercise\nPrerequisites for sending email from Identity Manager\n• Use Launchpad to launch change system settings. You should get a Designer started. Please ensure that only one\nDesigner is started on your workstation.\n• Wait for Designer to display the configuration parameter editor.• Expand and activate Common → MailNotification• Activate and configure the following parameters\n◦ AllowServerNameMismatchInCert: checked\n◦ DefaultAddress: the email address of your employee account\n◦ DefaultSender: NOREPLY@IAM.corp\n◦ SMTPPort: 25\n◦ SMTPRelay: IAMS01N���:\nBefore Identity Manager can send emails with subscribed reports, we must configure an account to send SMTP email toa MS Exchange server first. By default, Exchange does not permit anonymous SMTP traffic.\nN���:\nThe value can be copied from Manager.Typically, this is an administrator's or help desk mailbox, but we only have one mailbox enabled in our lab right now solet's use it. Please double check, that your identity has Active Directory Account and Mailbox assigned.\n\n◦ Set the value NOREPLY@IAM.corp for the following configuration parameters:\n▪ QER\\Policy\\EmailNotification\\DefaultSenderAddress\n▪ Common\\MailNotification\\DefaultSender▪ QER\\RPS\\DefaultSenderAddress\n• Select Base data from Designer main menu and select \nInstallation / Job server  from the Navigation pane.\n• Remember we do have physical Jobserver on IAMS02 and IAMS03 and there is another entry for IAMS01 (which is a\nvirtual queue). We want to send mails using IAMS03. Please configure or double check:\n◦ Configure Server function/SMTP host for IAMS03\n◦ Remove the flag Server function/SMTP host from Server IAMS02\n(there is an according Server function tab at the bottom of the form of the middle form).\n• Commit to the database and store the changes.\n• In Manager find your Active Directory and select User accounts.\n• Find the related Active Directory account to your identity.• Open the Main Data form and switch to tab Password.\n◦ Check: Password never expires\n◦ Note, Change password at next login disappeared. Ensure it is unchecked.◦\n Password: I.4Madmin\n◦ Confirmation: I.4Madmin\n◦ Click [Save]\nEnable Report for Subscription\n• Use Launchpad to open Manager.\n◦ Select your identity in Employees.◦ Select Assign One Identity Manager Application Roles from the Tasks list◦ To make the configuration of report subscription available and manageable for your user expand Identity &\nAccess Governance and assign the following Application roles\n▪ ./Report Subscription\n▪ ./Report Subscription/Administrators\n◦ Click [Save]\n◦ Select Report Subscriptions from the main menu.◦ Right click on Subscribable reports and select New from the context menu.N���:\nDefaultSender exists more than once in the configuration parameter section of Identity Manager, each for a differentpurpose. We recommend searching for “Enter email” (without double quotes) starting with Ctrl+F in the Configurationparameters window.\nN���:\nAfter installation, the only server that exists in the database (it's the DB server) gets the flag SMTP-Server automaticallyto ensure mail jobs can be sent. To simplify things, we recommend only to use one SMTP server.When user accounts are created in AD, by default, the User must change password on next logon flag is set. Thisprevents the user from logging on to services like OWA before the password is reset. We shall uncheck this flag to avoidthis issue.\nN���:\nIn Identity Manager, a report subscription can only be configured if the report is configured as available for subscriptionAND if an identity (person object) has permissions to subscribe this report.\nN���:\nEach report In Identity Manager can be subscribed. Out-of-the-box, Identity Manager includes approximately 90 reports.You may also provide a new name for the report as it appears in the list.\n\n◦ Name: [Prefix] Identity Permission Overview\n◦ Report: VI_Person_Overview_With_History\n(Caution: Please don't select VI_Persons_*…)\n◦ Click [Save]. A tab Parameters should be now available.\n◦ Select tab Parameters\n▪ Select parameter Employee and configure\nParameter type: User prompt\n▪ Select parameter Minimum Date and configure\nParameter type: User prompt\n◦ Click [Save].◦\n Select Assign to employees from the Tasks list.\n◦ Right-click in the list and assign all objects to the new report subscription.◦ Click [Save].\nSubscribe to a report\n• Open your web browser and select Standard Web Portal from Quick Links .\n◦ Logon with your employee account◦ Select Settings (right upper corner).◦ Select tab Subscriptions.\n◦ Click [Add Subscription]◦ In the list of available reports please search for your report [Prefix] Identity Permission Overview.\n▪ Click on the Display filter icon.▪ Click the dropdown box All words and select Starts with.▪ Enter your [Prefix] into the empty first field.▪ Click [Filter on]\n◦ Now select your report and click [Next]◦ Enter the following info:\n▪ Schedule: Monthly report subscriptions\n▪ Format: PDF\n▪ Employee: select [your employee account]\n▪ Please note: Minimum date is available to configure. To ensure in this environment to get enough data, we\nwill let it unconfigured, but it is available.\n◦ Click [Next]◦ We do not need additional subscribers. Click [Save]◦ Click [Close]\nTest the report subscription\n• To test the subscription, select it first.• Within the gray box on right, click on “Actions - Get report now”.\n• Open another browser window\n◦ From the Home-Site (Documentation page) select Quick Links and MS Outlook Web Access in theN���:\nThis allows all employee to subscribe to the report to display their own personal permissions overview.In a production project a report subscription would typically be assigned to a business organization, or application rolemaking the report available through a role assignment.\nN���:\nNow you may see some predefined already subscribed reports. In a production system there should be many of them.\nN���:\nThe next steps could only be performed if your test identity does have a mailbox assigned.\n\nAdministration section.\n◦ Logon using your AD user account.\n◦ Find the email with the attached pdf report file and enjoy the report.\n• Please use Manager to reconfigure this for your Active Directory account (this is the one you have created before and\nis equipped with a mailbox), we recommend to use User cannot change password and Password never expires in\nthis training environment.\nLab Exercise CompleteN���:\nWe described this above, it is possible that you cannot logon or you get prompted to change your password. This isbecause of the default configuration of a new AD user: User must change password on next logon.", "slidePdf": "IM-BRP_Basic_Report_Subscription_And_Reports.pdf"}, {"id": 12, "title": "Create and Attach Report", "code": "IM-BRP-02", "pages": ["lab12_page101.png", "lab12_page102.png", "lab12_page103.png", "lab12_page104.png", "lab12_page105.png", "lab12_page106.png", "lab12_page107.png", "lab12_page108.png", "lab12_page109.png", "lab12_page110.png", "lab12_page111.png", "lab12_page112.png", "lab12_page113.png"], "text": "Lab Exercise: Create and Attach report\n(IM-BRP-02)\nExercise Overview\nIn this lab you create and attach a custom report to the environment.\nWhat You Need To Know\n• You must have the images open and running for th is lab.\n• Additional Lab content stored in the Lab folder (\\\\IAMS10\\Training):\n◦ QDC_JobTitle_And_Members.mrt◦ QuestDemoCorp_300dpi_3cm.png\nUser credentials required for this lab\nAffected Machines IAMW01\nAD login account\nUsername IAM\\administrator\nPassword I.4Madmin\nEstimated Time To Complete This Lab: 60 minutes\nLab Exercise\nCreating a Report\n• Use Launchpad to add or modify a report. The report editor works best if you sign in with your system user account.N���:\nIdentity Manager supports development of custom report layouts. However, custom layout is not the focus of this lab.The lab is divided into three parts like any report development:\n• Definition of the data sources.\n• Integrating the data source into a layout\n• Integrating the report into a front-end\nN���:\nOn the left side of the Report Editor you should notice a number of existing reports. These existing reports can be used\n\n• Click on the new report icon on the left upper.\n◦ Name: CCC_FunctionRoles_and_members\n◦ Display name: Function Role overview\n◦ Base table: Org\n◦ Category: Common\n◦ Select the Data Sources tab\n▪\n Name: FunctionRoles\n▪ Query module: Object\n▪ Table: Org\n▪ Columns: Description, FullPath, Ident_Org, UID_Org, UID_PersonHead, UID_PersonHeadSecond\n(easiest way is to open the box and to use type ahead to find the columns. Use the space bar to assign the\ncolumn to the \nlist and click the “X” once you finished your selection).\n▪ Check the Resolve foreign key check box.\n▪ Insert the following into the Condition field (replace [Prefix] with yours):\nUID_OrgRoot in (select UID_OrgRoot from OrgRoot where\nIdent_OrgRoot='Functions')\n▪ Use the test icon (Dataset Browser) beside the Query module field (picture, Dataset browser) to check if\nyour condition returns values.as a template library for building new reports.\nN���:\nTypically in a relational database model Foreign Keys (FK's) and m:n member relations are used to generate referencesbetween data objects (or single records). Nearly everywhere the database developers use a type of unique identifier tosecurely identify their records which is mostly not human readable. Identity Manager for example is using GUID's(example: 0D7E327D-E2FA-42BC-9C65-A622C9206E1C).They are very unique and easy to create but connecting records will in a connecting table not show any human readable\ninformation (see UID above). To get a user-friendly display name of a related record typically the related table must be\nloaded as well (to get all the human readable values).The option Resolve foreign key loads to each identifier additionally a property with the display name of the relatedobject into the data set of the parent table. Such a display name can be configured in Identity Manager for each tableseparately and must be a column of the connected table. For example:[Person] → a table or object based on a table\n• uid_person (PK)\n→ UID of the current object\n• internalname*\n→ Display name of the current object and its display value (*)\n• uid_personHead (FK, [Person])\n→ Manager of the current object\n• \nFK(uid_personhead),[Person].internalname**\n→ Display name of the manager of the current object and display value of the related table object(**). This is a\nvirtual property because there is no such column in the table [Person]. The property exists only in the object modelif Resolve foreign key is checked.\n\n◦ Click [Insert] to create a new data sourceRole\n▪ Name: RoleMembers\n▪ Query module: Object\n▪ Table: PersonInOrg\n▪ Columns: UID_Org, UID_Person\n▪ Check the Resolve foreign key check box\n◦\n Click [Insert]\n▪ Name: Employees\n▪ Query module: Object\n▪ Table: Person\n▪ Columns: FirstName, LastName, UID_Department\n▪ Check the Resolve foreign key check box\n◦\n Click [Insert]\n▪ Name: Department\n▪ Parent Query: ..Employees\n▪ Query module: Object\n▪ Table: Department\n▪ Columns: FullPath, UID_Department\n◦ Click [Ok]\n• \nNow let's insert data relations into the report.\nN���:\nIt is common in a report engine to design data relationships separately and not to take predefined relations from the\ndata model. This makes the reports much more flexible because you may use self-defined relations, based on your self-\ndefined data resources.\nBefore you can start it might be you see instead the Detail pane (see picture below), a three-button selection (Basic,Standard, Professional). The answer on this selection determines how many options (details) in the Detail pane you willsee. The only valid answer is [Professional].\n\n• In the Dictionary tab (right lower side), right-click on Data Sources (top right) and select New Relation….\n◦ Name in Source: Role2Member\n◦ Name: Role2Member\n◦ Alias: Role2Member\n◦ Parent: FunctionRoles\n◦ Child: RoleMembers\n◦ Parent Columns: UID_Org\n◦ Child Columns: UID_Org\n◦ Active Relation: checked\n\n◦ Click [OK]\n• In the Dictionary tab, right-click on Data Sources and select New Relation….\n• Name in Source: Member2Person\n• Name: Member2Person\n• Alias: Member2Person\n• Parent: Employees\n• Child: RoleMembers\n• Parent Columns: UID_Person\n• Child Columns: UID_Person• Active Relation: checked\n• Click [OK]• \nIn the Dictionary tab, right-click on Data Sources and select New Relation….\n◦ Name in Source: Person2Department\n◦ Name: Person2Department\n◦ Alias: Person2Department\n◦ Parent: Department\n◦ Child: Employees\n◦ Parent Columns: UID_Department\n◦ Child Columns: UID_Department◦ Active Relation: checked◦\n Click [Ok]\n• Expand the Data Sources tree to view the added data sources and data relations (the relations are organized\nunderneath the parent data sources).\n\n• Drag and drop the FunctionRoles to the report editor pane.\n◦ In the popup window select:\n▪ Description\n▪ UID_PersonHead_Display▪ UID_PersonHeadSecond_Display▪ FullPath (FullName)\n▪ \nCheck the Header check box\nvi. Click [Ok]\n◦ Select the Preview tab at the top of the layout pane.\n◦ Notice the list of roles that appear on the screen.\n• Go back to the Edit page (labeled Page1 on the tabs)\n◦ The first row on the layout is called the Header band.\n◦ The second row on the layout is called the Data band.\n◦ Click on the Data band\n◦ Expand the Data band to make it longer (down, click first the blue gray space on right of the data band title, use\nthe bottom, middle selector of the element to expand).\n◦ Pull all the data fields, except FullPath, lower and expand the FullPath field all the way to the right side of the\nlayout.\n◦ Select the FullPath data field and set the background color to blue.\nThis is the quick way to do it. More control gives the next step.\n◦ Select the Properties tab.\n▪ Expand Brush\n\n▪ Configure color: 5,170,219\n▪ Set the Text Brush / color to white using the text color picker in the editor tool bar\nYes, this time you selected from the collection of text layout icons (another toolbar).\n▪ Font: Arial, 11pt, style=Bold\n◦ Pull the Description header field down below the FullPath field, slightly indented.\n◦\n Place the Description data field to the right of the header field and extend it to the right side of the layout.\n◦ Place the Manager header field below the Description header so they are aligned on the left side.◦ Place the PersonHead_Display data field to the right of the header field and extend it to the middle of the layout.◦ Place the Assistant Manager header field to the right of the \nPersonHead_Display  data field.\n◦ Place the PersonHeadSecond_Display  data field to the right of the header field and extend it to the right side of\nthe layout.\n◦ Rename the field labels\n(to do so, select each label with a double click and enter a new value)\n▪ PersonHead_Display: Manager\n▪ PersonHeadSecond_Display: Deputy Manager\n• Delete FullPath_Display field from the Header band.\n◦ Add a text field in the Header band (icon in the right tool bar).\n◦ Type in: Function Role Structure Overview\n◦ Recolor the text field to black writing on transparent background with\nFont: Arial, 14, style=Bold.\n(use the three\n dots to ease your life)\n◦ Add an image field to the Header band\n▪ Click the Image tool from the edit window tool column.▪ Click Open in the image popup.▪ \nSelect the IAM logo (BRP-2_IAM_TheCompany.png from the LAB folder: T:\\courses\\IdentityManager\\Labs\\IM-\nBRP-02)\n▪ Click [Ok]\n◦ Move the image so it is aligned in the upper right corner.◦ On the properties tab for the image.◦ Multiple Factor: 0.6\n◦ Arrange and resize the logo shape to the upper right and expand your header band if necessary.\n◦\n Select the title shape move it left beside the logo and increase shape and font size until it looks good.\n◦ Add a black line below the report title. This could be first time a bit tricky. Click on the shape logo first, then click\nAND HOLD the horizontal line logo and drag and drop it on your page.\n◦ Use Properties to configure the line size to 2 and the color to black if needed.\n\n◦ Your layout should look something like this.\n• From the Dictionary , drag the RoleMembers data source to the report layout (drop them below the other data source).\n◦ Select UID_Person_Display\n◦ Check the Header check box◦ Click [OK]\n• Adjust the Header and Data bands for RoleMembers so the header fields start slightly indented below the JobTitleRoles\ndata band.\n• Move the cursor to hover over the RoleMembers data band right.\n◦ Five Icons will appear on the right. \n◦ Click on the first icon. A popup will display all the data sources with RoleMembers selected.◦ Click on the second icon and select the Role2Member relation.◦ Click on the third icon and select DataFunctionRoles◦ View the report in preview mode. You should now see the assigned people displayed below each Job title role.\n• Double-click in header-band RoleMembers the label field named uid_Person_Display.\nIn the text Editor:\n◦ Select the Expression tab (on right)\n◦ Rename Text in the left window part to ...Role members◦ Expand tree in the middle to ../RoleMembers -> Role2Member/◦ Drag and drop FullPath [Full Name] into the edit window on left.◦ Separate both fields with a space.◦ Enclose the second field with brackets. It should look like this:\nRole members: \n({RoleMembers.Member2Person.Person2Department.FullPath})\n◦ Click [Ok]N���:\nWhen you first draw the line, it may be its color is white. You must view its properties to change it to black.\nN���:\nWe now must connect the two bands.\nN���:\nTo identify each name more accurately we shall now display the department info for each role member in parenthesesafter the name. We will also provide a summary line at the top of the list identifying the number of members in the list.To save space we will additionally display the list of members in two columns.\nN���:\nIt might be, that you smash up something and this will lead to a red X replacing the complete Report Editor form. If thishappens use the Report Tree tab (right lower) to select the\n\n• Click the second data band and edit the properties.\n◦ Columns: 2\n◦ Use preview again, to see that the members are now displayed in two columns.\n• Switch back to the Page 1 and double-click on the displayed field in the RoleMembers header band. The Text editor will\nopen:\n◦ Ensure Expression is selected◦ Delete the displayed text in the Editor◦ Expand Functions → Totals → Count in the middle\n▪ Drag Count():Long to the text editor\n▪ Type a space behind the inserted value\n◦ Expand Functions → Programming\n▪ Drag IIf to the edit window after the Count function.\n▪ Configure the parameters as follows\nIIF(Count()>1,\"Employees\",\"Employee\")\n▪ Add a space\n▪ Add text behind in Function roles▪ After configuring, the string should look like:\n{Count()} {IIF(Count()>1,\"employees\",\"employee\")} in Function roles\n▪ Click [Ok]\n◦ Adjust each modified field so that it is aligned with the far right of the report and slightly indented on the left.\nDataRoleMembers.DataRoleMembers_uid_person_Display element. Step to the Properties tab and use the Text\nproperty to edit or delete the value. Once this is done, save your report and restart the whole Report editor front-end.You should now see the Report editor window again. This procedure can accordingly always be used to solve this kindof problem.The preview shows members with departments in parentheses.\nIn the next step we expand the layout a bit to show how to work with integrated programming elements.\nN���:\nWe now copy and re-use content from another report.\n\n• Select any of the reports in the report list.\n◦ Select the Page Footer Band with a left click (ensure that the whole band is selected).\n◦ Copy the band (best to use right-click → copy for this action)\n• Switch to your new report\n◦ Left click the report page background (no report control, important)◦ Paste the copied footer band into the report (best to use right-click → paste for this action).\n◦ Maybe you must adjust the size of the new footer band. Ensure that the right and the left values are displayed.\n◦ View the results in the preview page.\n• Create a new change label for the report changes.\n• Save the new report to the database. (Editor Tool bar at the top of the screen.)\nAdd the report to the Manager display (Prerequisites)\n• Use Launchpad to open Designer.\n• In a first step we need a managing wrapper around the pure report we created above. Select User Interface from the\nMain Menu\n• Expand Object definitions• Select Custom objects\n• Right-click in the form on right and select New.\n◦ Icon: Structures\n◦ Table: OrgRootN���:\nIn Lab IM-SEC-01 we created a custom permissions group that now will be used to handle the Identity Managerpermission.To display the report only for the Job Title Role structure, we must also create a custom object definition before we canassign the report to the Manager front-end.\n\n◦ Condition: ident_orgroot='Functions'\n◦ Selection script: Value=$ident_orgroot$=\"Functions\"\n◦ Display name: Function roles\n◦ Object name: CCC_RPT_FunctionRoles\n◦ List Caption: CCC_RPT_FunctionRoles\n◦ Form Caption: CCC_RPT_FunctionRoles\n• Commit to database and save all changes to new Change label.\n• From the Database menu, compile the database using defaults.\nAdd the report to the Manager front-end\n• Now it's time to place the report-object in Manager.\nIn Designer / User interface\n• Expand Forms\n• Expand Form definitions.• Search for and select VI_Report (use [Ctrl]+[F] in User Interface use a double click to select)• In the Task list select Edit form definition VI_Report\n• Select Report form → VI__Report in the middle list and right-click the selected entry. There select Insert and configure\nthe new report form definition.\n• Form name: CCC_FunctionRoleMembers\n• Form definition: \nVI_Report\n• Caption: Function Role Overview\n• Description: Shows overview, structure and members of the Function role tree.\n• Icon: Report\n• Sort order: 10\n• In the configuration section, you need some XML. There is a template available can be used but needs to be heavily\nmodified. Because \nof this we suggest just to use a nearby template from another report. Please copy the Configuration\nfrom a report above or below this report entry. After inserting the value into your Configuration, it is easy to see what's to\nmodify:\n◦ You don't need 'ReportParameter' such lines can be deleted if they exist\n◦ The 'ReportName' property needs the name of your report as value. This you can get from the Report editor.N���:\nYou can't use the same Change label as created in the Report Editor before, because this means storingincompatible change types. If you try it anyways, an error message will show you this immediately.New object definitions could have scripts associated with them. Therefore, we must recompile the database.\n\n• The finished xml code should look like this:\n• Select the Object Assignment tab (bottom of the current form) → We want to be able to use the report task in\nManager, only for Function Roles\n◦ Select: QER-T-OrgRoot - 0 - Function Roles\n(could be named similar but near to this)\n• Select the Permissions group  tab → Somebody must be permitted to see the report.\n◦ Select: CCC_Dialog_And_Schema_Extensions\n• Select the Program tab → We want to use the report in Manager.\n• Select: Manager\n• Commit to database using the report change label you created in Designer steps above.\n• Compile the database.<DialogSheetDefinition FormatVersion=\"1.0\">\n <Properties>   <Property Name=\"ReportName\">CCC_FunctionRoles_and_members</Property> </Properties></DialogSheetDefinition>\nN���:\nNow we have configured the form to make the report accessible. Let's assign the object to a permissions group, a front-end dialog and a Identity Manager App.\nN���:\n\n• Open Manager  and logon using your system user account.\n• Select your person employee object (created in an earlier lab).\n• Click Assign Identity Manager application roles  from the Tasks list.\n◦ Custom → Dialog and schema extensions◦ Identity Management → Business roles◦ Identity Management → Business roles → Administrators◦ Identity Management → Employees◦ Identity Management → Employees → Administrators\n◦ Click [Save]\n• Check your success in Manager.\nStart or restart Manager.\n• Sign in with your identity (Authentication method: Employee (role based)).\n◦ Menu Database/Close Connection\n◦ Menu Database/New Connection\n▪ Authentication method: Employee (Role based)\n▪ User: [Your users central account]\n▪ Password: [Your user password]\n(May be, you forgot to set the password in previous labs, and you now can't login. Sign in again using your\nsystem user\nand step to your employee. On the Miscellaneous tab set the Central user password to I.4Madmin and try\nto login again. Using the training password is not mandatory but may help debugging your system by the\ntrainer.)\n• Select Business Roles from the main menu and select Functions\nLab Exercise CompleteYour report is based on object-based data queries.\nTo see the pure data you must have permissions on roles and employees. Therefore, we must increase the permissionset of your user.", "slidePdf": "IM-BRP_Basic_Report_Subscription_And_Reports.pdf"}, {"id": 13, "title": "Using the System Debugger", "code": "", "pages": ["lab13_page114.png", "lab13_page115.png", "lab13_page116.png"], "text": "Lab Exercise: Using the System Debugger\nExercise Overview\nIn this lab we cover how to use the System Debugger and you write your first VB.NET code. Remember writing code is\nusually the last option when customizing parts of Identity Manager. Nevertheless, in a standard Identity Management Project,\nit is common to do this. If this is your first time working with Visual Studio, this small lab should show you some basics on how\nto handle such a piece of software coding.\nWhat you need to know\n• You should have the images open and running for this lab.\nUser credentials required for this lab\nAffected Machines IAMW01\nAD login account\nUsername IAM\\administrator\nPassword I.4Madmin\nEstimated Time To Complete This Lab: 45 minutes\nLab Exercise\nWriting and Testing a Simple Script\n• Open System Debugger  from the admin workstation Start Menu (All Apps → One Identity → System debugger). If you\nget prompted to select a Visual Studio version select the most current one.\n• Press F5 to open the System Debugger dialog and connect to the data base. If the front-end want's to start in elevated\nmode, accept.\n• In System Debugger select Create New Script in the Script menu.\n• Select the option Public Sub because we don't need to return a value this time and\n◦ Name the new procedure: [Prefix]_PoorCalculator .\n• \nClick [Ok] and [Ok] again.N���:\nSystem Debugger is not a standalone tool. It is a development solution for .NET that requires a Developer Environmentbefore starting. Therefore, Visual Studio .NET is installed on the admin workstation. This solution can also work withMicrosoft Visual Studio Code or other development tools, for example SharpDevelop.\n\n• At the End of the file CustomerScripts.vb find code looking like “Public Sub [Prefix]_PoorCalculator()” and “End\nSub”.\n• Replacing the line 'Enter script code here' with the following code. We suggest typing the code into the editor just to\nget a feeling for the editor and its functions.\n• Press F5 to start System Debugger and connect to database.\n• Click on [Run] and look at the Output Window where you can see the output of the result.\n• Use menu Library/Exit (optionally you can use the “X” on upper right) to close System Debugger.\nPlease have in mind, you can only edit scripts in this solution if the System Debugger tool it's closed (no code gets\nexecuted).If it looks like you can't edit script code close this tool first.\n• Make some code changes to get other results and to modify the output string.\n◦ Change the values for var1 and var2.\n◦ Test your script again (F5).\n• After modifying the code start System Debugger to test it. Open System Debugger as described above.\n◦ Test the [Run] button on the System Debugger main form◦ Test the Run in debug method option. Step through the script using “Debug/Step into” option [F11].\n• Insert a breakpoint into the script (click into the column in front of a line number) and test without Run debug method\nagain.    Dim var1 As Integer   Dim var2 As Integer   Dim result As Integer   Dim StrResult As String   var1 = 2   var2 \nN���:\n→ Normally you work with database objects. In this simple script, connecting the database is not necessary, but cannotignored.→ The script name [Prefix]_* is not typical for a custom script. In a real-world scenario, you will use CCC_* to identifycustom scripts. In this training we must account for the fact that several people are developing a similar script which\nmakes it necessary to name the script with a personal prefix. ** PLEASE DON'T DO THIS IN A NORMAL\nPRODUCTION IAG PROJECT, YOU WILL LOSE YOUR CHANGES ON A PRODUCT UPGRADE! **→ The script execution may give you the feeling that nothing happened. Please carefully watch the Immediate Windowto find a result.\nN���:\nDebug.Print()  prints a string into the Immediate Window. You can combine strings and/or string variables with a “+”.\nFor example: “My result is: “+ StrResult.\nTry this in your code.\nN���:\nIn this exercise we want to implement a tiny calculator for +, -, *, /, ^ and ! (factorial) including basic error handling.Typically, the instructor will start the exercise (first steps) with you. Then you should try to finish the script on your own. Ifyou run in trouble use the sample listing for help. This exercise is to give you an idea how to use Visual Studio and towork with the debugger and breakpoints. In addition, you should get an idea of how to test a script.We suggest that beginners implement everything except factorial and more advanced coders use their experience to\nimplement the factorial component.\n→ There is not one correct solution. As long as the script calculates correctly and is stable, your solution is correct. Ifyou need some code samples, remember there is the internet with many examples for VB.net that are only a simple\n\n• Start implementing what you have learned, following your instructor's advice.\n• After writing the code press F5 and see what happens.• Use Run debug method and Breakpoints to debug your script\nLab Exercise Complete\nEXAMPLE Code Listings\nThis is just an example. Any other working version showing the right results, is a valid sulotion as well.\nPoor Calculator\nAdvanced Calculatorsearch away.\n   Public Sub HRA_PoorCalculator () '   INITIAL Version   'Variable   Dim var1 As Integer = 2   Dim var2 As Integer = \n   '--> Calculator for +, -, /, *, 1, !   Function HRA_PoorCalculator(var1 As Double, var2 As Double, strMode As Strin", "slidePdf": ""}, {"id": 14, "title": "People Export via Interface Script", "code": "IM-BTS-02", "pages": ["lab14_page117.png", "lab14_page118.png"], "text": "Lab Exercise: People Export via Interface Script\n(IM-BTS-02)\nExercise Overview\nThere are many ways to export data from One Identity Manager. This scripting option would only be used in exceptional\ncases in a production system, but this lab provides a good example of how to work with the Identity Manager API and the\nScript SDK based on a simple use case. How to use the API and SDK is the focus, rather than the specific use case\nexample.\nWhat you need to know\n• You should have the images open and running for this lab.\nUser credentials required for this lab\nAffected Machines IAMW01\nAD login account\nUsername IAM\\administrator\nPassword I.4Madmin\nEstimated Time To Complete This Lab: 45 minutes\nLab Exercise\nWriting a Script to Export Person Data into a CSV File\nN���:\nDepending on the programmer skills in this training audience this could be a demo (development by the instructor infront of the class) or a real development exercise. Please discuss the approach with your instructor. To copy and pastthe demo script is not realy helpful because this exercise should beside the development capabilities show three facts:\n\n• Open System Debugger and create a new script and\n◦ name it: [Prefix]_Export_Person\n◦ Script type: public sub\n• Start scripting with your instructor and then finish the script by yourself. If you need inspiration, look at the file\nHRA_Export_Personen.vb.\n• Use System Debugger as you did in the previous lab.\n• Use the following hints:\n◦ Actual time in VB: now()\n◦ Use the Identity Manager script SDK as often as possible.\n◦\n Query a single value: Session.Source.GetSingleValue(Of String)(“UID_ADSContainer”,\nstrUID_ADSContainer, ValType.String)\nor in a second step use dictionaries.\n◦ Collection objects (a hand full of data) are not created with properties (only PK and display)\n◦ Single objects are huge but get created with all properties.◦ To generate a time stamp, use an existing vb.net function from the script library containing “isodate” in its function\nname.\n• After the script is tested and functioning use [F5] to run the System Debugger again.\n◦ Make sure your script is selected.\n◦ Use the correct option from the script menu to save the script in the database.\nLab Exercise Complete→ Code development is most flexible but most expensive (time consuming) from a project perspective.\n→ Successful code development needs more additional skills than any other configuration in Identity Manager.→ dentity Manager is equipped with a verry rich featured, verry professional API can be used additional to all the fromMicrosoft available API features.All people in an IGA project should be aware of this. This makes this lab suitable and helpful for any kind of audience in\nintroduction courses! To become a coding professional, you need much more experience as only these two small scripts\nin IM-BTS-01 and IM-BTS-02.", "slidePdf": "IM-BTS_Basic_Templates_And_Scripts.pdf"}, {"id": 15, "title": "Schema Extension", "code": "IM-DSE-01", "pages": ["lab15_page119.png", "lab15_page120.png", "lab15_page121.png"], "text": "Lab Exercise: Schema Extension\n(IM-DSE-01)\nExercise Overview\nIn this lab you extend the Identity Manager schema and data flow to store additional content.\nWhat you need to know\n• You should have the images open and running for this lab.\nUser credentials required for this lab\nAffected Machines IAMW01\nAD login account\nUsername IAM\\administrator\nPassword I.4Madmin\nEstimated Time To Complete This Lab: 20 minutes\nLab Exercise\nExtend table Person\n• From Launchpad start Change & Extend → Extend the One Identity Manager Schema.\n◦ Click [Next]\n◦ Click [Next]◦ Select Extend Table◦ Click [Next]\n◦ Select table: Person\n◦ Click [Next]\n◦\n Click on the new icon to add a column\n▪ Column Name: [CCC_]UID_PrevDepartment\n(the prefix is automatic, do not retype it)\n▪\n Select: Foreign key column\n▪ From table: Department\n▪ Click [Ok]N���:\nSchema extensions must be planned carefully. Extensions cannot be automatically revoked as this can cause data losswithin the database. Manual revocation is permitted but must also be carefully planned.\n\n◦ Enter the Display name for the new column: Previous department\n◦ Click [Next]\n◦\n In the first field select CCC_Dialog_And_Schema_Extensions granting read and write permissions.\n◦ Click [Next]\n◦ Add new change label [Prefix]_WebDevelopment_Schema\n◦ Click [Next]\n◦ Click [save to file]\n◦ Click [Next]\n◦ Click [Yes] in the popup to make the changes in the database. Possibly followed by a [Next] if you see active and\ndisappearing DB calculation steps.\n◦ Click [Yes] in the next popup to compile the database.◦ After the compiler completes, wait for DBQueue Processor to finish.\n• Click [Next] and [Finish] to complete the wizard.\nData flow configuration\n• In Launchpad start the main configuration tool (Designer). If Designer is already open please reopen the connection to\nensure the new schema extension is loaded and recognized.\n• Select One Identity Manager Schema from the Main Menu.• Expand Tables/Type: Table from the navigation pane.• Select the Person table.\n• Click on Show table definition in the Tasks list\n• Select the new column: CCC_UID_PrevDepartment .\n• \nSelect the Value calculation tab in the Column properties.\n◦ Overwrites Checked\n◦ Enter the following in field Template:\n• Commit to database using a NEW change label [Prefix]_WebDevelopmentN���:\nWe must add the schema extension to a permission group to enable users or administrators to use the extension.\nN���:\nPlease remember the [Prefix]_ is your personal prefix. Even in a real project we recommend using a personal prefix fora change label to identify the developer of the feature tagged with this label. This allows the Change manager to identifythe developer later for questions.\nN���:\nThis is done for documentation purposes. It is heavily recommended to keep accurate documentation of all schemaextensions made to your IAG project. Note as well the Attach statements to an existing file option at the bottom left ofthe form.\nN���:\nThe new field we just added to the schema contains the name of a person’s previous department. We will use atemplate for populating this value.\n$UID_Department[C]:bool$ then     Value = $UID_Department[o]$   end if\nN���:\n\n• Compile the database using the default settings.\n• To get the right permissions to work with employees as a role-based authenticated person (employee) we must first\nassign some Application roles to our employee which we created earlier.\n• In Manager select Employees in the main menu and Employees in the Navigation pane.\n◦ Select [your employee] you created in an earlier lab (the one showing your name)\n◦ Select Assign One Identity Manager application roles from the Tasks list.\n◦ Ensure the following roles are assigned to [your employee]\n▪ Base roles/Administrators\n▪ Base roles/Employee Managers▪ Identity Management/Employees▪ Identity Management/Employees/Administrators▪ Click [Save]\n◦ Wait until DBQueue Processor ended the calculation by cleaning the DBQueue you can watch in Jobqueue Info.\n• Start Manager and logon using your employee. Therefore, you must use Employee (role based) authentication.\nRemember in test mode no password is needed (if you are a fast worker, it is possible to login before 9d. happened.\nPlease ensure that all calculation jobs are done).\n◦ Go to the main data page for your employee account.\n◦ You should now see a new tab in the main data called Custom.◦ Select the Organizational tab, memorize the current \nPrimary department  value and change Primary department\nto: R & D\\Engineering\\Argentina.\n◦\n And Primary cost center to 50\\50100\\50100010\n◦ Select the Address tab and change Primary location to AR - Buenos Aires - Combatiente de Malvinas 3239\n◦ Select the Custom tab and view the value of the Previous department field.\n• \nClick [Save]\nLab Exercise CompleteYou cannot use the [Prefix]_WebDevelopment_Schema change label because you must insert schema extensions\nfirst before you start inserting features based on these extensions. We heavily recommend creating at least two (ormore) transports for a maintenance window. The first transport contains only the schema extensions. The second(and/or other) transport contains all other changes.\nN���:\nNow we want to test this new template using Manager. We suggest not using Launchpad to start Manager this time.Use the Start menu instead. If Manager is already open, please close and re-open the front-end to ensure all newsoftware assemblies are loaded.\nN���:\nNow you can start booking flights because you moved your employee to Argentina. Be careful, this virtual company isnot reimbursing expenses ���.", "slidePdf": "IM-DSE_Data_Model_And_Schema_Extension.pdf"}, {"id": 16, "title": "Create a Fulfillment Process", "code": "IM-BFP-01", "pages": ["lab16_page122.png", "lab16_page123.png", "lab16_page124.png", "lab16_page125.png", "lab16_page126.png", "lab16_page127.png", "lab16_page128.png", "lab16_page129.png", "lab16_page130.png", "lab16_page131.png", "lab16_page132.png", "lab16_page133.png", "lab16_page134.png", "lab16_page135.png", "lab16_page136.png", "lab16_page137.png", "lab16_page138.png", "lab16_page139.png", "lab16_page140.png"], "text": "Lab Exercise: IM-BFP-01 Create a Fulfillment Process\nExercise Overview\nIn this lab you automate a person record export. You will create and test a short process and learn how to use the Process\nEditor. The lab covers how to use the process engine which is common for many customizations. The lab helps show the\ndifference between the scripting and the process engine allowing you to understand the effort required for each customization\nmethod.\nWhat You Need To Know\nYou should have the images open and running for this lab.\nUser credentials required for this lab\nAffected Machines IAMW01\nAD login account\nUsername IAM\\administrator\nPassword I.4Madmin\nEstimated Time To Complete This Lab: 45 minutes\nLab Exercise\nAutomation Prerequisites\n• Open SQL Server Management Studio (SSMS) and run the contents of the following file. It is in the associated lab\nfolder on you T: drive.\n◦ IM-BFP-01__Script_PersonData_for_Export.sql\nN���:\nThis displays the data that we will export on a regular schedule through a process.\n Once again, this csv\nexample could be a real-world example, but this type of export is just one type of exporting csv data and not the goldenway to solve this type of problems. In this lab we like to introduce the Process engine on an easy-to-understandexample.To export csv data in detail you can use:SQL StatementTypical for data exported once, mainly unconverted and on an admin basis. This is for project developers, not onlybecause project member shouldn't have plain SQL access to productive environments.\nVB.NET script\nUsed if the data to export needs a lot of polish and must be converted. Expensive way, because you need to develop\ncode first.Export data in the Manager or Web Portal\n\n• Use Launchpad to open Designer and logon using your system user account.\n• Open the Configuration Parameters section in Designer\n◦ Create the following configuration parameter structure (be careful the root parameter Custom already exist):\nCustom -> Export -> Person -> FilePath\n▪ Use a right click on the parent parameter to create a child parameter.\n▪\n Ensure each node in the structure is checked as enabled.\n▪ For the FilePath parameter enter a value of \\\\IAMS10\\training\\Export\\Person\n▪ For all other (structuring) parameters in the structure enter a value of 1\n◦ In parallel to the Filepath parameter insert a parameter ExportCondition\n▪\n For the ExportCondition parameter enter a value of isexternal=0\n◦ Commit to database with a new change label [Prefix]_ExportEmployee◦\n From the Database menu re-connect to the database\nDeveloping the ProcessVery easy and most user-friendly way to export csv data typically used by the business or operations.\nExport using ProcessesFast way implementing simple (or complex) exports being recurrently needed. This way can as well be used toautomate Export VB.NET scripts.\nExports using Synchronization Editor\nA more expensive way to implement a recurring export often used if associated imports exist. An implementation takes\nmore time as for example to create a process. Using this type of export, you can use the full power of theSynchronization engine.FinallyThis essay is the last chance to understand: “You are working with a solution Framework”! There are typically many\nways to reach a goal. Which way you choose is based on a business case and your experience to solve a problem by\nconsidering technically and organizational facts. This means there is often not a golden way to do something. There isalways a most suitable way for a specific situation instead. Therefore, you have always the same set of instruments:\n• Process Engine\n• Script Engine• Synchronization Engine• Direct Data Access (SQL)• Front ends\nRelax your eyes, now we start with lab again!\nN���:\nIt is not recommended to hardcode values for variable content such as server names, shares, and accounts in yourscripts because you must update the process each time these variables change. Use configuration parameters insteadof hardcoded content.If you work together with your colleagues in the same environment, one person should create these configurationparameters for all to use. After this is done, everyone must restart \nDesigner .\nN���:\nThis is done so the system recognizes the newly created configuration parameters. It must also be performed onsystems not used to create the parameters.\n\n• Select Process Orchestration from main menu and Custom process from the navigation pane.\n• Click on Create a new process (In Tasks may be minimized on right).• Select the process (shape) and configure (Process properties):\n◦ >Name: [Prefix]_Export_Person 2 CSV◦ Table: Dialogschedule\n◦ Remarks: Your name, Actual Date\n◦ Description: Exports identities to a CSV file.\n◦ Add a Pre-script for generating to speed up process generation.\nLab-option 1\nLab-option 2\n◦\n Add an Event. Select tab Events.\n▪ Click the blue Insert icon on left upper of the Events form\n▪ Click again the Insert icon of the sub-form, right beside Object event.▪ Object Event: [Prefix]_PersonExport\n▪ Click [OK]▪\n Click [OK]N���:\nIn this lab you can select one of two options.Lab-option 1: If you created a [Prefix]_Export_Person vb.net script in a lab before, we recommend automating thisscript. You can also take a template script from lab folder IM-BTS-02.Lab-option 2: Use the standard csv export process step component to automate the export which is a bit more realistic\nbut does not use results from an earlier lab.\nTechnically you learn the same, so the choice is up to you.\n'--> For higher performance of the process, calculate or load values only once\n '    esp. configuration parameters or often used variables\n Values(“ExportPath”) = connection.GetConfigParm(“Custom\\Export\\Person\\FilePath”).ToString() Values(“Condition\n'--> For higher performance of the process, calculate or load values only once ' esp. configuration parameters\nN���:\nIt is helpful to use the editor which is displayed by clicking on the small icon in the lower right corner of the input box (\n).\n→ Click on the save icon to close the form.The Pre-script generates values needed in many places generating the process steps values to be developed next. Theidea behind is, to perform a calculation, database access, etc. only once instead of for each process step or stepparameter separately. In an example we are on the way using the created configuration parameter values in manyprocess steps and process parameters which could be a database query/access for each usage.With this Pre-script we will not query the same values again and again. Instead, we are querying the values in this Pre-script and assign the values to variables can be used in the following process steps and step.You need two different Pre-Scripts because in Option 2 a time stamp variable is needed which is covered by your\nautomated VB.NET script of Option 1.\nFor this purpose of this script, you may use any table as Base object. This is typical for all processes that don't dependon data events like UPDATE, INSERT and DELETE of a specific record. Also, you must use a self-defined event. Later,you will create a schedule to raise this event. We recommend always using the same table to make identifying thescheduled processes easier (for example DialogSchedule).Next step is to create an event. Database record-based processes uses often Standard events like INSERT, UPDATE,DELETE. This means, a process will become generated on the basis of a changed record. In this case we like to run theprocess based on a schedule. Therefore, exist no associated data change and because of this we need to define a newevent, could be called later by a schedule.\n\n• Insert 4 new process steps.\n• Beginning with the first step, name your process steps:\n◦ [Step1]: [Prefix]_Export Person Data to CSV\n◦ [Step2]: [Prefix]_Check if Archive Exists\n◦ [Step3]: [Prefix]_Create Archive Folder\n◦ [Step4]: [Prefix]_Move Export Result to Archive\n• Beginning with the first step, connect your process steps together (Click and hold a parent shape bottom icon (\n) and move to the child element and release the mouse button):\n◦ [Step1]: connect to process header\n◦ [Step2]: green connected from [Step1]\n◦ [Step3]: red connected from [Step2]\n◦ [Step4]: green connected from [Step3]\n◦ [Step4]: green connected from [Step2]\n• To get a bit more structure in your process click the Folding rule (\n ) icon in the top icon bar.\n• Beginning with the first step, configure on tab General the Process task for each:\n◦ To follow Lab-option 1\n[Step1]: Script Component / ScriptExecSingle\nTo follow Lab-option 2\n[Step1]:\n Script Component / CSVExportSingle\n◦ [Step2]: File Component / Exists\n◦ [Step3]: File Component / CreatePath◦ [Step4]: File Component / Copy_UniversalN���:\nThe fastest way to develop a process is to configure the same parameter for each process step starting with the firstproperty form. This means starting over with the first step for each of the next configuration steps. This helps to ensureno parameter is missed and speeds up the process development significantly.\n\n• Beginning with the first step, configure the Description for each:\n◦ [Step1]: Export of person data subset to csv file\n◦ [Step2]: Check if archive sub-folder exists in folder export\n◦ [Step3]: Create missing archive folder in folder export\n◦ [Step4]: Move export- and log-file to archive folder\n• Select the Generation tab\n• \nBeginning with the first step, configure for each process step:\n◦ Server function: SQL processing server\n• Select the Error handling tab\n• Beginning with the first step, configure the Error Handling:\n◦ [Step1]: check: Stop on errors\n◦ [Step2]: check: Split processing\n• Select first Process Step and Parameters tab• \nSelect [Step1] and configure parameters:\nLab-option 1:\n◦ ScriptName: Value = “[prefix]_Export_Person”\n(if you use the from the lab folder imported script it's HRA_Export_Person)\n◦\n Use a double click into the grey X icons to activate ParameterValue0 and ParameterValue1.\n◦ ParameterValue0: Value=Values(“ExportPath”).tostring()◦ ParameterValue1: Value=Values(“Condition”).ToString()\nLab-option 2:\n◦\n Double click on the grey X to enable the following parameters\n▪ Header▪ LineDefinition▪ OrderBy\n▪ \nWhereClause\n◦ Configure the following parameters:\n▪ FileName: Value = string.Format(\"\n{0}\\Employees_{1}.\ncsv\",Values(\"ExportPath\").tostring(),Values(\"TimeStamp\").tostring())N���:\nThe component gives each process step a functionality like creating a path or moving a file.\nN���:\nDescriptions get displayed like process step names. To configure something helps understand what the process is doinglater in the day.\nN���:\nThe Identity Manager service is the executing instance of this specific step. AD operations for example should be doneby the Active directory queue (in this environment IAMS01) and so on. In this specific case each service could executea script or remotely access files. This means we can use every Job service in the system to execute our jobs. Wedecide to use the SQL processing server (IAMS02).\nN���:\nDuring execution process steps can fail. In this case the red ending of the process step will be used to determine thenext step to continue, and an error message is written into the associated Job service log. The Error handling tab allowto tweak this behavior a bit:-> In [Step1] we stop the process where it fails and let the operator decide what's to do. Such process steps are knownas FROZEN JOBS if they fail.\n-> In [Step2] an error message appears in the Job service log if a folder did not exist. This is truly not an error, it is a\ndecision and operators don't like to get a heart attack only because the process runs in another split.\n\n▪ ObjectType: Value=\"Person\"\n▪ Header: Value=\"Firstname;Lastname;Department;Location\"\n▪ LineDefinition:\nValue=\"$$Firstname$$;$$Lastname$$;$$FK(uid_department).fullpath$$;$$FK(uid_locality).fullpath$$\"\n◦ OrderBy: Value = \"internalname\"\n◦ WhereClause: Value = Values(\"Condition\").tostring()\n-> END of Lab Option 2\n• \nSelect [Step2] and configure Parameters:\n◦ FName: Value=string.Format(“{0}\\Archive”,Values(“ExportPath”).ToString())\n• Select [Step3] and configure Parameters:\n◦\n DirPath: Value=string.Format(“{0}\\Archive”,Values(“ExportPath”).ToString())\n• Select [Step4] and configure Parameters:\n◦\n Activate parameter FileList and Options.\n◦ DestDir: Value=string.Format(“{0}\\Archive”,Values(“ExportPath”).ToString())\n◦ SourceDir: Value=Values(“ExportPath”).ToString()◦ FileList: Value=“*.csv *.log”\n◦ Options: \nValue=“/mov”\n• Check your process and correct errors if they appear.\n◦ Click Examine process for errors\n◦ Click Compile process\n• Click on the Switch to simulation view  icon in the Designer toolbar\n◦ Click [Next] to begin stepping through the wizard.◦ Select the event (there should only be one displayed).◦ Click [Next]◦ Select one of the displayed objects (it doesn’t matter which)◦ Click [Next]\n◦ Click [Next]\n◦ Click [Next]◦ Click [Next]N���:\nFor this parameter you may use the $ notation for the column references. Because the references are contained in astring (between the double quotes), each $ reference must be masked by a second $ (i.e. $$Firstname$$)\nN���:\nTo configure the Parameters is an important part of each process design. Please have in mind that the list of parametersavailable is depending on the Process task you selected before. Changing this Process task will automatically drop allprocess step parameter configurations made before.It is recommended to look into the shipped processes to get an idea how parameter values look like. Additionally, youcan find help in Designer and in the Identity Manager manual.\nN���:\nBoth options are icons in the top icon bar.If errors are displayed, double-click on the error message to highlight the associated process step in the editor. Checkyour process step and the process step parameters to resolve the problem and re-test.The first check allows you to find all misconfigured parameters and options.The second check validates the vb.net syntax.\n\n◦ Click [Finish]\n• >Last step is to save changes. Click on Commit to Database and store the process to the database using a change\nlabel:\n◦ LabelName [Prefix]_PersonExport\n◦ Description Person data export to csv\n• Now compile your Identity Manager database (use Designer).\nCreate a Schedule\n• In Designer select Process Orchestration/Process automation from the navigation pane.\n• Right click the main form and select Add process plan .\n• Configure the process plan:\n◦ Name: [Prefix] Export Person to CSV\n◦ Event: DialogSchedule/[Prefix]_PersonExport\n◦ Description: Runs a Person sub-set export to a csv file on a half hourly schedule\n◦ Condition: Name='[Prefix]_Export Person To CSV'\n• Hit the New icon next to “Activation schedule” and configure the schedule\n◦ Name: [Prefix] Export Person To CSV◦ Enabled: checked◦ Time zone: [Select your time zone]◦ Unlimited duration checked◦ Occurs Every Minute\n◦ Repeat every 30 Minute(s)\n◦ Click “Ok”.\n• Commit changes to the database using your Change Label.• Re-select your schedule and click on the Play icon in the top icon bar.• Follow the process in Jobqueue Info and review the result in the File System.\nLab Exercise CompleteN���:\nThe process is formatted in a lighter blue indicating it is in simulation mode. In simulation mode, the parameter listshows the calculated values rather than the script information we saw while in edit mode. Have a look at all thecalculated values. Do they make sense? Calculations can be successful but the values they return will not automaticallylead to a making sense result. This is often only something a project developer can decide. You can toggle between the\ntwo modes using the corresponding icons in the Designer toolbar.\n\nLab IM-ASE-01 - HR Data Import Automation\nExercise Overview\nIn this lab you will create a recurring import using Synchronization Editor from the scratch without using any templates. This\nlab is mainly developed for students with a good basic understanding of Identity Manager.\nWhat You Need To Know:\n• You should have the images open and running for this lab.\n• You need lab folder IM-ASE-01 on your T: drive open and ready to use\nUser credentials required for this lab:\nAffected Machines IAMW01\nAD login account\nUsername IAM\\administrator\nPassword I.4Madmin\nEstimated Time To Complete This Lab:   90 minutes\nData model and interface planning\nWe like to import several data resources from external systems. To simulate these systems, we will use CSV ( Comma\nSeparated Values) files. It is only another system connector to configure in Identity Manager to access another system type.\nAll other steps will be the same.\nAuthoritative Sources\nThis import includes\n• Locations (1)• Cost centers (2)• Departments (3), (5)• Employees (4)NOTE:\nTo get this lab working several data prerequisites are needed.They will be imported at the begin of this lab and need to depend on data was imported before. Especially for Greenfieldenvironments (installation courses) several steps are necessary to generate import data. There is a bit voodoo behind,be careful.\nNevertheless, it is not necessary to understand all steps to go during the prerequisite section, but these are good\nexamples and templates how to generate data based on other data as well.\nNOTE:\nAny system connection an IGA project needs a proper and details interface and data flow planning. We can’t go throughall steps, meetings and all the research necessary. Please find in this section more a minimum summary as a real fineconcept.\n\nThe import order is given in parentheses. In case of the departments, it is necessary in step (3) to import Departments and in\nstep (5) to correct department managers depending on employees imported in step (4).\nFurther requirements\n• This import resources are authoritative, there is no way back into the connected systems. The import will always correct\nIdentity Manager data (authoritative source).\n• Each import file holds the complete set of data. Missing records needs to be deleted in Identity Manager, except person\nrecords which will be deactivated.\n• ERP-Data records can be deactivated if a flag is set in the import files.\nInterface description\n\nLab Exercise\nData Prerequisites\n• Until now, we used a simple view working with our Synchronization projects. Building such projects without templates\n(sync project from scratch) needs a more detailed view. Open Synchronization Editor and sign in with your system\nuser.\n• From the Database menu select Settings\n◦ General/Enable expert mode: activate\n◦ Click [OK]\n• \nFrom lab folder IM-ASE-01 open (double click) files:\n◦ Calc_PersonnelNumbers_for_Greenfield.ods → Libre Office - Calc\n◦ IM-ASE-01_SQL-Snippets.sql → SQL server Management Studio (SSMS)\n◦ Temp_Import_SQL_SetPersonnelnumbers.sql  → SSMS\n• In SSMS select tab IM-ASE-01_SQL-Snippets.sql and scroll down to Section: Prepare data in Greenfield.\n◦ Execute the following statement in SSMS, Result to Grid [Ctrl]+[d] mode (execute the statement using [Ctrl]+[d]\nfollowed by [Ctrl]+[e]N���:\nWe like to import several data resources from an external system. To simulate the external system, we will use a CSVfile resource. This import should become a combined import for identities (HR-Import), Departments, Cost centers andLocations (ERP-Import). Because of the nature of our foreign system (CSV) we can't use any template. We need tobuild anything from the scratch. This affects our data resources as well, especially in case to avoid deleting data whichis in the current database. Additionally, we need to enrich the existing data first.\nIn a first step we need to assume that there was an employee import before. As a primary key, personnel numbers are\nset (typical for an HR system). Let's generate as a prerequisite personnel number in Identity Manager NOT exist in aGreenfield environment (installation course).\nW������:\nThe following steps are only for Installation courses (Greenfield environments). Starting with a Full installed\nenvironment you can continue with step \"FULL INSTALLED\" (red message below).\nselect uid_person, centralaccount, internalname, PersonnelNumber from person\nwhere internalname not like '%Service%'\norder by NewID()\ngo\n\n◦ Copy the first three columns.\n• Switch to Libre Office - Calc\n◦ Paste the values into the first 3 columns of the spread sheet. Select cell A1 and click [Ctrl]+[v].\n◦ Have a look at the formula in column Update Statements and ensure it points to values in the same row.◦ Select and copy all values in column Update Statements.\n• Open Microsoft Notepad.\nPaste the values into an empty document and copy the values again (in notepad [Ctrl]+[v], [Ctrl]+[a], [Ctrl]+[c]. This is\nneeded to correct the line endings.\n• Switch to SSMS\n◦ Select tab Temp_Import_SQL_SetPersonnelnumbers.sql.\n▪ Paste all values in (copied from notepad).\n▪ Ensure the query is targeting database IAMDB.\n▪ Execute the file [Ctrl]+[e]\n◦ Switch to document IM-ASE-01_SQL-Snippets.sql\n▪ In Section: Prepare data in Greenfield execute select statement:\n▪ Check the result list. Beside some service identities each person should have a personnel number now.\n• From your lab folder open document Calc_Assign-Departmentmanager_2_Departments.sql.\n◦ Ensure the query is targeting database IAMDB.\n◦ Execute the file (Ctrl+e)◦ You can check your work using the following SQL command (part of the lab SQL snippets):\n• Close all Libre Office-Calc, notepad and SSMS and skip the next step \"Before we can...\" and it's subs. Continue with\n\"Open Manager...\".\n• Before we can start there might be some data clanking necessary. Please use Manager to correct the following values if\nnecessary.\n◦ Costcenter: S&M - Retail Sales - AU → set value Costcenter to 30350060◦ Costcenter: R&D - IT Support - IL → set value Costcenter to 50220210◦ Costcenter: R&D - IT Support - DE → set value Costcenter to 50220150◦ Costcenter: R&D - IT Support - US → set value Costcenter to 50220050\n• Open \nManager  and sign in with your system user.\n◦ Select Employees from main menu Employees.select internalname, personnelnumber from person order by 2\nN���:\nAfter having proper personnel numbers it is time to get some department managers assigned.\nselect  \n  d.departmentname, \n  h1.internalname as Manager, \n  h2.InternalName as Deputy \nfrom department d \n  join person h1 on d.uid_Personhead = h1.uid_person \n  join person h2 on d.uid_personheadsecond = h2.uid_person \nN���:\nNow it's time to export our data source files.\nW������:\nThis is the starting point in a FULL INSTALLED training environment (non-installation courses)\n\n◦ Click Export Results from the list menu icons Manager Snapshot\n◦ In the open export form, there are two buttons allow to load and store a predefined export configuration.\nClick on the open configuration dialog ( ).\n◦ Load configuration Def_Employee_Export.xml  from your lab folder (T:\\courses\\IdentityManager\\Labs\\IM-ASE-01).\nThis is a load from file action.\n◦ Click the Preview button on top of the second half of the export form and have a look at the data browser (\n).\n◦ Click the export button and export the data into a file named: Data_Employee_Import.csv.\nWe recommend to store the data in a folder on your desktop.\n◦ Repeat the same steps accordingly for Departments, Cost centers and Locations. You should end up with 4\nexports:\n▪ Cost center: Data_Costcenter_Import.csv\n▪ Department: Data_Department_Import.csv\n▪ Employee: Data_Employee_Import.csv\n▪ Location: Data_Location_Import.csv\n◦ With all files exported open file Planning_Affected_Columns.ods in Libre Office - Calc and all the above-\nmentioned csv files in Note\npad++.\n▪ Take the file header line from the spread sheet CSV-IM-Mapping according to the export and replace the\norigin header line (4 files in total).\n▪ Save and close the csv documents\n▪ Close the spread sheet\n◦ Copy these files into a folder T:\\Import\\Authoritative-Data. If this folder doesn't exist create the missing parts.\nCreate a CSV import connection using Synchronization Editor\n• Open Synchronization Editor, for example using Launchpad (Configure a new synchronization project).\n• Click [Start a new synchronization project] (the big green on your screen)\n◦ Click [Next]◦ Select CSV Connector from the list and click [Next]. Have also a look at the many connectors available (just for\ninfo).\n◦ For a CSV import we don't need a Remote connection server. Click [Next].\n◦ Select Create a new System connection if prompted and click next.\n◦ Until now there is no CSV import. Let's create a new CSV system. Select Create new CSV system and click\n[Next].\n◦ Select and open file: T:\\Import\\Authoritative-Data\\Data_Employee_import.csv.◦ In the Load CSV file form, you can keep defaults and click [Next].N���:\nEspecially step h. seams to be a bit more nonsense as usual. The idea is the following:We like to create a Synchronization project later on, as realistic as possible!In real life your csv file header will never be similar to your database column names. Additionally, some of theseexported header lines contains odd character complexing things. -> Because of this, we change the header lines!\nI���:\nIf files already exist, please delete the complete old content first.\nN���:\nAll the prerequisites lead to the following situation. There are authoritative systems delivering data via csv files andthese data is now available in T:\\imports\\Authoritative-Data. Let's assume they came from HR. In the next step we willcreate a Synchronization project using Synchronization Editor, which handles all these files at once.\nN���:\n\n• In form File structure\n◦ Increase the Number of lines in header to 1.\n◦ Keep Columns identified by Delimiter\n◦ Click [Next]\n• In from Line structure keep defaults and klick [Next]• In form Display information\n◦ Display pattern \n%First_Name% %Last_Name% (%Employee_ID%)\n• Select column Temporary_Leave_End and select Data type: DateTime\n• Select column Temporary_Leave_Start and select Data type: DateTime\n• Select column Joining_Date and select Data type: DateTime\n• Select column Leaving_Date and select Data type: DateTime\n• Select column Deactivated and select Data type: Boolean\n• Select column Important_Manager and select Data type: Boolean\n• Select column Employee_ID and activate flag Key column\n• \nClick [Next]\n• In form Define CSV system file correct the file path to: T:\\Import\\Authoritative-Data\\HR_ERP_Import.csvsys if needed\nand click [Next]\n• Add your Data_Location_Import.csv like the first one and click on link Add another CSV file .\n◦ Remember and configure all forms similar to the person import down to Display Information.◦ Display pattern: %Location%\n◦ Key column: Location\n◦ Select column Deactivated and select Data type: Boolean\n◦ Activate “Expert View”, select column Parent_Location and activate flag: \nHierarchical sort order .\n◦ Click [Next] and select link Add another CSV file again.\n• Take file Data_Costcenter_Import.csv This time we need to take care of a hierarchy.\n◦ Remember and configure all forms like the person import down to Display Information.◦ Display pattern: %Costcenter% - %Abbreviation%\n◦ Select column \nCostcenter  and activate flag Key column.\n◦ Select column Deactivated and select Data type: Boolean\n◦ Select column Parent_Costcenter and activate flag Hierarchical sort order . Yes you need to activate Expert view\nfirst)\n◦ Click [Next] and select link Add another CSV file again.\n• Take file Data_Department_Import.csv and configure similar until you reach form Display information.\n◦ Display pattern: %Abbreviation% - (%Department%)\n◦ Select column Deactivated and select Data type: Boolean\n◦ Select column Abbreviation and activate flag: Key column.\n◦\n Select column Parent_Department and activate flag: Hierarchical sort order.\n• Click [Next]\n• Click [Finish]. Now the schema gets loaded.• Click [Next]A file encoding using utf-8 works in many cases. There are people around the world making the language Invariant\nLanguage (invariant Country) a good choice. Read-only access for importing an authoritative source makes sense.\nN���:\nIn a csv file all columns contain string values per default. This should not wonder; It is a text file. You can save a lot oftime if convertible columns getting their right Datatype assigned in the connector. Nevertheless, if you can't be sureabout the data quality you can as well convert this data later by creating the mappings. Of course, assigning the datatypes earlier will minimize the work later.\nC������:\nYou have not finished the CSV file system yet. Click on the tiny link on form Create system connection… named Addanother CSV file. (If you missed this task, edit your connection and start with load CSV system file)\n\n• There will be no template available. Click [Next] having Create blank project selected.\n• In form Create synchronization project…\n◦ Display name: HR and ERP Data - Authoritative source\n◦ Scripting Language: Visual Basic .Net\n◦ Description: Import of employees, departments, locations and cost centers\n◦ Click [Next]\n◦\n Click [Finish]\n• Now let's test the data sources. In your synchronization project select Target system.• Click button [Browse…].• Click on each entry in Schema types (this means as well the already selected first entry). There should be a list of\nobjects displayed for each schema type in the Result list. You should not see any error message.\n• If an entry returns with an error message, please read the message carefully. Typically, there is either data to correct or\nyou need to upgrade your configuration. To upgrade your configuration, close the data browser and click on [Edit\nConnection]. After all is done, please don't forget to click [Update schema] to make your changes becoming truebefore you use the data browser again.\n• Click [Close] to close your Schema browser.\n• If all Schema types returns a list of entries. [Commit to database] using an appropriate change label (you have to\ncreate first, drop down the [Commit to database] box).\n◦ You like to save without data encryption ([Yes])◦ You don't want to compress your schema, because you need to configure the IM side and mappings. Take the\ndefault [No]\n• Flip down the box Connection parameters and convert parameter SystemFile to a variable.\n• Now we need to connect to the Identity Manager Database (second part of the connection). Select One Identity\nManager connection and click on [Edit connection….]\n◦ Click [Next]◦ Use a Direct database connection.◦ Click [Next]◦ The connected SQL server gets pre-configured. Click the [Test] button and answer with [OK] on a success.\nTypically, there should not be an error message but use the following data if you need to correct an error:\n▪ Server: iams02.iam.corp\n▪ \nWindows authentication: unchecked\n▪ User: svc_1im_sql\n▪ Password: I.4Madmin\n▪ Database: IAMDB\n◦ Click [Next]◦\n We currently don't use a Private key. Click [Next].\n◦ No additional options to set. But click on the \"?\" icon and read the text carefully. This info is good to know. Keep the\noption unchecked and click [Next].\n◦ Click [Finish] and if prompted click [OK].\n• Use [Browse…] to ensure you are properly connected to the database.• Flip down the box Connection parameters.\n◦ Convert parameter Server password and Server user name to a variable.\n◦ [Commit to database] using an appropriated change label\nCreate data mapping and matchingN���:\nTo create connection parameters can help you later to reuse Synchronization projects. Not very typical for a csv importof ERP and HR data but we like to show how to get variables. This task is formative but not really needed.\nN���:\nWe did the first steps and connected our target systems. Now it's time to create data mapping and data matching. Thisis what the wizard did before using standard target systems. And this is what typically eats the most amount ofdevelopment time.\n\n• In Synchronization Editor  in the currently loaded Synchronization project select Mappings.\n• Add a new mapping using the \"+\" icon underneath Mappings.\n◦ Mapping name: HR - Employees\n◦ Mapping direction: One Identity Manager\nThis import is an import of authoritative data, and it is not allowed and necessary to correct data in the CSV files.\nBecause of \nthis we set a clear Mapping direction here.\n◦ One Identity Manager Schema class: Person (all)\n◦ Target system schema class: Data_Employee_Import (all)◦ Click [OK] and click [Next]\n• \nSelect Create mapping rules dynamically based on similarity. And click [Next].\n• The slider allows you tweak the level of similarity. High (full right) means the column names of both systems need to\nmatch to 100%. Low (full left) means there could be some equal character in both names available. As the description\nsays High less mappings, less errors, Low many mappings but more errors.\n◦ Keep the default and click [Next].\n◦ Open document Planning_Affected_Columns.ods from your lab folder IM-ASE-01 and select tab CSV-IM-\nMapping. Something like this is typically part of your fine concept and it will help to double check selections.\n◦ Position the spread sheet and the wizard on your screen to allow you looking at both at the same time. This\ntimetable HR Import is needed.\n◦ As you can see there are suggestions available for:\n▪ Firstname▪ Initials▪ NameAddOn▪ Title\nAll other ideas or suggestions are not helpful. Ensure that checkmarks in column Selection are only set for the\nfields above and click [Next] and [Finish].\n• Now we need to map all other not automatically mapped fields (in middle) from the target system (csv) on right with\nIdentity Manager columns on left. Therefor we can get suggestions from our spread sheet (fine concept).\n◦ Drag Cost_center on right and drop it on Primary cost center on left. A Property Mapping Rule Conflict Wizard\nis getting started. The system knows that the values in column Cost_center are not fitting to the values in\ndatabase column Person.UID_Profitcenter and tries to help us to find a solution.\n◦ Select the first choice and click [OK].\n◦ Now we can select the column from Profitcenter need to be used (via column) in this case it is\nProfitcenter.Accountnumber.\nClick [OK] and accept the warning about uniqueness (this message tells us that we need to take care on data\nuniqueness in the data source or we will get error messages if the data is not correct).\n◦ As a result, of this selection the system is now creating a virtual property Person.VRT_UID_ProfitCenter which\ncontains the uid_profitcenter based on the accountnumber we get from our import.\n◦ Have a look at the configured values and expand Filter\nSystem filter: 1=1 Click [OK].\n◦\n Select field Cost_center  on right and notice highlighted fields Primary Costcenter  and Value resolution for\nPrimary cost center on left.N���:\nFor many standard target systems exist a template which makes an import configuration easy. You saw this in previouslabs. For a csv import or for a customer specific database such templates can't exist and because of this we need tobuild from scratch. Nevertheless, there exist a similarity wizard may help us selecting corresponding properties.Because we exported the csv data from Identity Manager previously, this wizard may reach 100% mapping accuracy\nwhich is very unrealistic, because of this we changed the header lines of our csv files (you may remember some voodoo\nabove).\nN���:\nThese columns are not marked as unique columns because of this it is necessary to set a system filter. In our examplewe know that values in these columns will be unique so we can set a condition which is always true.\n\n• From the database  menu select settings and enable switch Enable the technical view after program start.\n• Press [OK] and have a look at the left side of the Synchronization Editor. All properties are named using the technical\n(column) names now.\n• Continue the configuration we started above.\n◦ Map column Deactivated with column isinactive.\n◦ Map column Department with column using via column Department.Shortname. This works like the cost center\ncolumn above. Don't forget to set the system filter as well.\n◦ Map column Employee_ID with column PersonnelNumber.\n◦ Map column Important_Manager with column isVIP.◦ Map column \nJoining_Date  with column EntryDate.\n◦ Map column Last_name with column lastname.\n◦ Map column Leaving_Date with column exitdate.◦ Map column Location with column uid_locality using via column Locality.Ident_Locality.◦ Map column Manager with column Manager using via column \nUID_PersonHead.personnelnumber\n◦ Map column Other_name with column MiddleName.◦ Map column Temporary_Leave_End with column DeactivationEnd.◦ Map column \nTemporary_Leave_Start  with column DeactivationStart.\n◦ Map column Unit with column SubCompany .\n◦ Map column Working_Title  with column PersonnelTitle.\n• The column to identify records (the unique key or primary key) in this import is the Personnelnumber (Employee_ID) of a\nrecord. This is what we use to match a csv record with an Identity Manager record. Select the line PersonnelNumber\n← Employee_ID and click the Convert selected property mapping rule into an object matching rule icon (\n ).\nAnswer the question with [yes]. This is because we don't have uid columns gets filled by the system automatically.\nRemember we are mapping our objects using text columns. This means these values need to be mapped during the\nimport and are used additionally as matching rules which is NOT the default option (of the question).\n• Create another mapping for Department using the Navigation pane and configure like Employees. → Matching on\nAbbreviation/Shortname (Primary Key)\n• Create another mapping for Cost center using the Navigation pane and configure like Employees. → Matching on\nCostcenter/Accountnumber (PK)\n• Create another mapping for Location using the Navigation pane and configure like Employees. → Mapping on\nLocation/Ident_Locality (PK)\nCreate Configuration Workflows\n• Switch to main menu Workflows  and click the Create a new empty workflow… button (\n ).\n◦ Display name: ERP Resource importN���:As you have seen all property captions on the Identity Manager side are displayed using friendly names. For beginnersthis could be helpful but for people need to plan and develop with Identity Manager it is essential to know about thedatabase schema. Because of this we will now switch to the technical display mode\nN���:Now everybody will understand why Synchronization templates are such a great idea and building Synchronizationprojects from the scratch takes a lot of time. But hey, we need to configure database mappings and matchings forLocation, Department and Cost centers. Before we can continue. Please have a closer look into the planningspreadsheet as well.\nN���:Right now, the system knows which systems to connect and which columns/properties to use and which data to mapbetween those. In the last steps we configured rules to identify and match the same records on both sides of thesynchronization project. Before we can start we need to define which steps the synchronization need to run through andin which order. This is what's called SYNCHRONIZATION workflows (please keep them separate from fulfillmentworkflows = processes and approval workflows).\n\n◦ Description: Import of departments, costcenters, and locations\n◦ Click [Ok]\n◦\n Underneath Workflow click the Add a new step…  button (\n )\n◦ Name: Location\n◦ Mapping: ERP - Locations\n◦ Synchronization direction: One Identity Manager\n(Note: Remember there is only one way for authoritative resources)\n◦\n Exception handling: Continue on error\n(Note: In a csv import there could be odd lines. Not a good idea to break the whole import if just one line shows\nbad data).\n◦\n Select tab Processing\n◦ For set A1 we need to configure nothing because existing records with the same properties needs not to be\nhandled.\n◦ For set A2 an update of changed source properties in Identity Manager needs to be initiated. Great, this is already\npre-defined.\n◦ For set B an insert of new records in Identity manager is needed and again pre-configured.\n◦ For set C we don't want to delete records immediately. A better option is to mark them as outstanding and let the\nSynchronization admin decide what's to do.\n◦ For set C, switch box Delete to MarkAsOutstanding◦ Have a look at the other tabs (we don't need to configure), if you like.\nClick [Ok]\n• Add a workflow step for cost centers like the one created above.• Add a workflow step for departments like the one created above.• Add a workflow step for identities like the one created above.\nConfigure Startup Configuration\n• Create a Start up configuration. Select the same named entry in main menu Configuration and click the add icon.\n◦ Display name: ERP and Identity Import\n◦ Workflow: ERP resource import\n◦ Variable set: default variable set\n◦ Have a look at all other tabs but keep defaults◦ Click [Ok]◦ Click [Create schedule…] (may be you need to switch to form Start up Configurations first)\n▪ Name: ERP + Identity Synchronization\n▪ Unlimited duration: set\n▪ Occurs: Daily\n▪ Start time: 02:00\n▪ Repeat every: 1\n▪ Click [Ok]\n• \nClick [Commit to database] using your created Change label.\nTest a new Synchronization Project\n• To test and log all changes we will make during synchronization we need extended logging. Switch to One Identity\nManager connection and click Setup… .\n◦ Activate Create synchronization logN���:\nThe expert view, we configured above, allows us to see this extended view.\n• Data set A1: Represent the set of unchanged data.\n• Data set A2: Represent the set of property changes of existing records.• Data set B: Represent the set of records only existing in the source\n• Data set C: Represent the set of records only existing in the target\nNow the behavior for each sub-set of records can be configured. Because there will no changes on the source side\n(authoritative resource) all changes needs to be configured on the side of Identity Manager (the left side of the form).\n\n◦ Activate all logging options.\n(This is not a great idea for a production environment - too many log messages creating performance loss - but for\ntesting this is the right choice. We don't need to change logging on the side of our CSV connector. Nothing willhappen there.)\n• First, we will check the complete project. Switch to the tab Start page.\n• On right, there is a [Verify project] button needs to be clicked.\n• The result should look like in the picture below. If this is not the case, click on an error message and read all the\nmessage text carefully. Verry often you get es well hints to solve the problem.\n• Change and verify the configuration until you reach the goal. Your trainer will help you if necessary.\n• Now switch back to your Workflow (double-click). Here we will generate an execution plan first to test our workflow and\nsteps (\n ).\n◦ Ensure there is no error message.\n◦ Have a look at the report. Everything looks like expected.◦ Close the report\n• Switch to your Startup Configuration and click [Simulate…] and confirm with [Yes].\n◦ Because we don't want to deactivate all our identities with an empty value for Person.Exitdate and\nPerson.DeactivationStart, we create a scope first to test this for one single record. To identify the record first, open\nyour filed Data_Employee_Import.csv in folder T:\\Import\\Authoritative-Data.\n◦ Choose a record you like to test with and note the (record number = line number -1) to consider the header line\n◦ Switch to Synchronization Editor, main menu Configuration and select Target System.N���:\nStart with the first page of your Synchronization log. You should see:\n◦ Performance warning about extensive logging - great!\n◦ Messages about not executed phase 2 Synchronization steps. This means changes happens by assigning\nresources may be available after a first import run. These is not getting considered in simulations (to many\nspaces necessary or to complicated to handle during simulation). This means these changes are gittingdropped.\n◦ Executed synchronization steps for each type of objects (Location, Department, Costcenter, Person)\n◦ Executed synchronization post-processing step◦ About 9 or less Person objects to be marked as outstanding (should become deleted)\n- Why? -\nThe marked as outstanding people are not part of the HR import file. Easy to verify. This is the reason to markthem as outstanding (which allows an IGA admin later to handle (delete, recreate) them later. To exclude\nthese objects, we will create a filter to exclude them from the synchronization.\nN���:\nAs you can see there are two scopes available:\n◦ Reference Scope: This is the scope to be used to resolve object references.\n◦ Scope: This is the scope to limit objects to be handled.\nTo get a better idea what's the difference here an example: In an Active Directory you like to synchronize just one\nAD container with all of its objects. Your scope will limit the FQDN to this AD container. This AD container may\n\n◦ Click [Edit scope].\n▪ Grep the form top frame above the word condition using a left mouse click and move the top border a bit to\nthe top to get more space.\n▪ Select Data_Employee_Import in section Scope and select tab Object filter in section Condition.\n▪ Click [Add condition]▪ Click on Variable and select RowID from the list.▪ Click the tiny input box right beside RowID and select Text box and enter your Record number (noted above).\nIn case the text box is already selected you can't see it in the selection list. If not, the text box should be the\nfirst entry.\n▪ Use icon Use text mode to see the condition in clear text (\n ). The one or other might lice this input mode\nmore as the graphical way.\n◦ Switch back to Configuration/Start up configuration and run a simulation again.\nFinal Test\nLab Exercise Completecontain AD groups referencing AD accounts outside this AD container. Because of this you can for example set a\nReference scope to the whole domain.→ Result:Only objects of this AD container will be handled during synchronization, but all references of thesehandled objects can be resolved or changed properly because the reference scope allow to resolve referencescross the AD domain.\nHowever in our csv example each of the scopes can be used because we talk about a flat file but we suggest to\nuse the Scope.\nN���:\nNow your report shows 1 changed object and more as 1000 objects marked as outstanding. This is not too badbecause there will be only changes on one object (the one you selected above) and all other objects will becomeadded to the list of outstanding objects. This mark could easily be removed in Manager without further changes.In our lab we will implement some improvements first.\nN���:\nTo run a final test you can remov scope and click [Run] instead of [Simulate…] on the Start up configurationspage.You will not learn something more, but you will see the system working. It is up to you if you like to perform this.However, have in mind depending on your current configuration you may generate several outstanding objects.\nBe aware, even if you not run a synchronization now you schedule will do this like configured.", "slidePdf": "IM-BFP_Basic_Fulfillment_Processes.pdf"}, {"id": 17, "title": "Initial Project Meeting and Structure Planning", "code": "", "pages": ["lab17_page141.png"], "text": "Lab Exercise: Initial Project Meeting and Structure\nPlanning\nExercise Overview\nInteractive Group Exercise - Planning Identity Manager Deployments\nIn this lab you gain hands on experience planning Identity Manager deployments\nWhat you need to know\n◦ This is a group exercise.\n◦ Work in a team of 3-4 students.◦ Select a group leader to present your recommendations to the rest of the class.◦ Use the provided flip charts and markers to document your plan.\nEstimated Time To Complete This Lab: 30minutes\nLab Exercise\nPrepare Customer Meeting\nYou are the lead consultant on a Identity Manager deployment project for a company called Identity and Access\nManagement Inc.\nYou are about to meet with company representatives to begin the planning of the deployment. The customer\nrepresentatives include an IT Manager, the HR Manager and the Company Compliance and Security Officer (CISO).\n◦ Identify all the potential issues and questions you need to discuss with the company reps to make\nrecommendations for the way Identity Manager should be deployed and configured. Ensure you cover all aspectsof the project planning and organize you preferred meeting structure.\n◦ Chart your approach and have your group leader present your ideas to the rest of the class when it comes time to\ntake up this lab.\nLab Exercise Complete", "slidePdf": ""}, {"id": 18, "title": "Hardware Sizing and Project Scoping", "code": "IM-DPL-02", "pages": ["lab18_page142.png", "lab18_page143.png"], "text": "Lab Exercise: Hardware Sizing and Project Scoping\n(IM-DPL-02)\nExercise Overview\nInteractive Group Exercise - Planning One Identity Manager Deployments\nIn this lab you gain hands on experience planning One Identity Manager deployments.\nWhat you need to know\n◦ This is a group exercise.\n◦ Work in a team of 3-4 consultants.◦ Select a group leader to present your recommendations to the rest of the class.◦ Use the provided flip charts and markers to document your solution.◦ Please read the exercise carefully to identify all important facts.\nEstimated Time To Complete This Lab: 60 minutes\nLab Exercise\nHardware Sizing / Project Planning and Scoping\nAfter your meeting with the company representatives, you learn that the HR Manager was the initiator of the project, but\nalso has sponsor funding from the Company Compliance Officer (CISO).\nThe primary goal of the HR Manager is to automate the management of contractor and employee resources.\nResponsible managers require an interface for requesting a contractor be added to the system. Once a new contractoris approved, they are to be added to the Contractor Management System and provisioned with an AD user account.\nYou also learn that the scope of the project has expanded to provide an Administration interface for all IT Administrators\nand Managers with appropriate delegated rights based on their job function. You also learn the project now has visibility\nby the corporate CEO who may consider adding their SAP systems to the project depending on the success of this initial\nphase of the implementation.\nIAM Inc. is a company with 5000 employees and an equal number of contractors.They run an Active Directory/Exchange network with approximately:\n◦ 5300 Employee user accounts\n◦ 5700 Contractor user accounts◦ 320 Service accounts◦ An unknown number of disabled accounts◦ 1800 groups (security and distribution groups)\nThey have a single data center located at their head office where 2800 employees and 900 contractors work.\nThe Data Centre is also the location of the central Help Desk.The remaining employees and contractors are split between 5 regional offices and several small one or two person\nsales offices throughout North America.\n\nEmployees work in their native local language which could be English, French, or Spanish.\nThe customer is also running LDAP (Open DS) and several database applications, including the primary HR System\nand Contractor Management System.\nThe customer wants to define roles within Identity Manager that provide a clear separation of duties between employees\nand contractors. They also want to automate the provisioning of AD User Accounts, Groups and Distribution List\nmembership.\nThe Compliance Officer has joined the project and is providing funding to include compliance audit reporting and the\nimplementation of attestation schedules to meet their internal and regulatory compliance requirements. Contractorattestation is to be performed by each responsible manager.\nThe HR Database application is considered the authoritative source of all employee data.The Contractor Management System is used for tracking contractors in the IAM Inc. environment. This is a legacy\napplication for IAM Inc. and requires updates when contractors join the company.\nIn your group, develop an architecture design for the company's Identity Manager deployment. Make sure you identify:\n◦ Hardware Structure\n▪ The number and type of Servers required\n▪ The optimal location for each Server▪ High-level configuration information\n◦ Develop a rough project plan for the implementation, ensuring you identify key activities and milestones. If you\nmake any assumptions in your planning, make sure you include them in your solution. Divide your project into\nphases if necessary.\n◦ Your group should be prepared to present your solution when the lab is taken up for review.\nLab Exercise Complete", "slidePdf": "IM-DPL_Deployment_Planning.pdf"}];

const ID='lab_images/', PD='pdfs/', SK='olab_p', AK='olab_a', MK='olab_m';
let flt='all', prog=lj(SK)||{}, mrk=lj(MK)||{}, alab=+localStorage.getItem(AK)||null, mmode=false, tvis=false, svis=false;
function lj(k){try{return JSON.parse(localStorage.getItem(k))}catch{return null}}
function sj(k,v){localStorage.setItem(k,JSON.stringify(v))}

// Translation dict - phrases first (longer matches), then single words
const dict=[
// Long phrases
[/\bExercise Overview\b/g,"Visao Geral do Exercicio"],
[/\bWhat you need to know\b/g,"O que voce precisa saber"],
[/\bUser credentials required for this lab\b/g,"Credenciais necessarias para este lab"],
[/\bEstimated Time To Complete This Lab:\s*/g,"Tempo Estimado: "],
[/\bLab Exercise Complete\b/g,"Exercicio Concluido"],
[/\bLab Exercise\b/g,"Exercicio do Lab"],
[/\bAffected Machines\b/g,"Maquinas Afetadas"],
[/\bIn this lab\b/gi,"Neste lab"],
[/\bYou should have\b/gi,"Voce deve ter"],
[/\bYou should see\b/gi,"Voce deve ver"],
[/\bYou should now\b/gi,"Voce agora deve"],
[/\bYou need to\b/gi,"Voce precisa"],
[/\bYou need\b/gi,"Voce precisa"],
[/\bYou can also\b/gi,"Voce tambem pode"],
[/\bYou can\b/gi,"Voce pode"],
[/\bYou will\b/gi,"Voce ira"],
[/\bYou are now\b/gi,"Voce agora esta"],
[/\bYou are\b/gi,"Voce esta"],
[/\bYou may\b/gi,"Voce pode"],
[/\byou will\b/g,"voce ira"],
[/\byou can\b/g,"voce pode"],
[/\byou are\b/g,"voce esta"],
[/\byou may\b/g,"voce pode"],
[/\byou need\b/g,"voce precisa"],
[/\byou should\b/g,"voce deve"],
[/\bWait for\b/gi,"Aguarde"],
[/\bWait until\b/gi,"Aguarde ate"],
[/\bRight click\b/gi,"Clique com botao direito"],
[/\bright click\b/g,"clique com botao direito"],
[/\bDouble click\b/gi,"Clique duplo"],
[/\bdouble click\b/g,"clique duplo"],
[/\bIn order to\b/gi,"Para"],
[/\bin order to\b/g,"para"],
[/\bIn case of\b/gi,"No caso de"],
[/\bin case of\b/g,"no caso de"],
[/\bIn the\b/g,"No"],
[/\bin the\b/g,"no"],
[/\bIn a\b/g,"Em um"],
[/\bin a\b/g,"em um"],
[/\bBecause of this\b/gi,"Por causa disso"],
[/\bbecause of this\b/g,"por causa disso"],
[/\bBecause of\b/gi,"Por causa de"],
[/\bbecause of\b/g,"por causa de"],
[/\bThis is because\b/gi,"Isso ocorre porque"],
[/\bthis is because\b/g,"isso ocorre porque"],
[/\bThis is\b/g,"Isto e"],
[/\bthis is\b/g,"isto e"],
[/\bThis time\b/gi,"Desta vez"],
[/\bthis time\b/g,"desta vez"],
[/\bThis lab\b/gi,"Este lab"],
[/\bthis lab\b/g,"este lab"],
[/\bThis can be\b/gi,"Isto pode ser"],
[/\bthis can be\b/g,"isto pode ser"],
[/\bThis type of\b/gi,"Este tipo de"],
[/\bthis type of\b/g,"este tipo de"],
[/\bPlease note\b/gi,"Por favor observe"],
[/\bplease note\b/g,"por favor observe"],
[/\bPlease\b/g,"Por favor"],
[/\bplease\b/g,"por favor"],
[/\bIf necessary\b/gi,"Se necessario"],
[/\bif necessary\b/g,"se necessario"],
[/\bIf needed\b/gi,"Se necessario"],
[/\bif needed\b/g,"se necessario"],
[/\bIf there are\b/gi,"Se houver"],
[/\bif there are\b/g,"se houver"],
[/\bIf this was\b/gi,"Se isso foi"],
[/\bif this was\b/g,"se isso foi"],
[/\bThere are\b/gi,"Existem"],
[/\bthere are\b/g,"existem"],
[/\bwas installed\b/gi,"foi instalado"],
[/\bwas created\b/gi,"foi criado"],
[/\bwas set\b/gi,"foi configurado"],
[/\bwas not\b/gi,"nao foi"],
[/\bwill be\b/gi,"sera"],
[/\bwill not\b/gi,"nao ira"],
[/\bcan be\b/gi,"pode ser"],
[/\bcan also\b/gi,"tambem pode"],
[/\bshould be\b/gi,"deve ser"],
[/\bmay see\b/gi,"pode ver"],
[/\bmay need\b/gi,"pode precisar"],
[/\bhow to\b/gi,"como"],
[/\bable to\b/gi,"capaz de"],
[/\bused to\b/gi,"usado para"],
[/\bneed to\b/gi,"precisa"],
[/\bwant to\b/gi,"quer"],
[/\btry to\b/gi,"tentar"],
[/\bhas been\b/gi,"foi"],
[/\bhave been\b/gi,"foram"],
[/\bdo not\b/gi,"nao"],
[/\bdoes not\b/gi,"nao"],
[/\bdid not\b/gi,"nao"],
[/\bis not\b/gi,"nao e"],
[/\bis possible\b/gi,"e possivel"],
[/\bis only\b/gi,"e apenas"],
[/\bis like\b/gi,"e como"],
[/\bas well\b/gi,"tambem"],
[/\bas before\b/gi,"como antes"],
[/\bas follows\b/gi,"como segue"],
[/\bup and running\b/gi,"funcionando"],
[/\bstraight forward\b/gi,"direto"],
[/\bdown to the end\b/gi,"ate o final"],
[/\bfrom the\b/gi,"do"],
[/\bFrom the\b/g,"Do"],
[/\bon the\b/gi,"no"],
[/\bOn the\b/g,"No"],
[/\bfor this\b/gi,"para este"],
[/\bfor the\b/gi,"para o"],
[/\bwith your\b/gi,"com seu"],
[/\bwith the\b/gi,"com o"],
[/\bwith all\b/gi,"com todos"],
[/\bto the\b/gi,"para o"],
[/\bto start\b/gi,"para iniciar"],
[/\bto end\b/gi,"para finalizar"],
[/\bto add\b/gi,"para adicionar"],
[/\bto store\b/gi,"para armazenar"],
[/\bto login\b/gi,"para fazer login"],
[/\bto take\b/gi,"para pegar"],
[/\bto use\b/gi,"para usar"],
[/\bto grant\b/gi,"para conceder"],
[/\bto monitor\b/gi,"para monitorar"],
[/\bto simplify\b/gi,"para simplificar"],
[/\bto configure\b/gi,"para configurar"],
[/\bto verify\b/gi,"para verificar"],
[/\bto reload\b/gi,"para recarregar"],
[/\bto refresh\b/gi,"para atualizar"],
[/\bto assign\b/gi,"para atribuir"],
[/\bKeep all\b/gi,"Manter todos"],
[/\bkeep all\b/g,"manter todos"],
// Medium phrases
[/\bStep back\b/gi,"Volte"],
[/\bstep back\b/g,"volte"],
[/\bRepeat the same\b/gi,"Repita os mesmos"],
[/\brepeat the same\b/g,"repita os mesmos"],
[/\bFollow the\b/gi,"Siga as"],
[/\bfollow the\b/g,"siga as"],
[/\bfollow all\b/gi,"siga todas"],
[/\bBrowse for\b/gi,"Navegue ate"],
[/\bbrowse for\b/g,"navegue ate"],
[/\bAnswer the question\b/gi,"Responda a pergunta"],
[/\banswer the question\b/g,"responda a pergunta"],
[/\bLogon to\b/gi,"Faca logon em"],
[/\blogon to\b/g,"faca logon em"],
[/\bLogin and\b/gi,"Faca login e"],
[/\blogin and\b/g,"faca login e"],
[/\bsign in\b/gi,"fazer login"],
[/\bLog File\b/gi,"Arquivo de Log"],
[/\blog file\b/g,"arquivo de log"],
// Action verbs
[/\bClick\b/g,"Clique"],
[/\bclick\b/g,"clique"],
[/\bOpen\b/g,"Abra"],
[/\bopen\b/g,"abra"],
[/\bClose\b/g,"Feche"],
[/\bclose\b/g,"feche"],
[/\bSelect\b/g,"Selecione"],
[/\bselect\b/g,"selecione"],
[/\bStart\b/g,"Inicie"],
[/\bstart\b/g,"inicie"],
[/\bRun\b/g,"Execute"],
[/\brun\b/g,"execute"],
[/\bCreate\b/g,"Crie"],
[/\bcreate\b/g,"crie"],
[/\bSave\b/g,"Salve"],
[/\bsave\b/g,"salve"],
[/\bDefine\b/g,"Defina"],
[/\bdefine\b/g,"defina"],
[/\bAdd\b/g,"Adicione"],
[/\badd\b/g,"adicione"],
[/\bRemove\b/g,"Remova"],
[/\bremove\b/g,"remova"],
[/\bDelete\b/g,"Exclua"],
[/\bdelete\b/g,"exclua"],
[/\bSet\b/g,"Defina"],
[/\bset\b/g,"defina"],
[/\bKeep\b/g,"Mantenha"],
[/\bkeep\b/g,"mantenha"],
[/\bRepeat\b/g,"Repita"],
[/\brepeat\b/g,"repita"],
[/\bConfigure\b/g,"Configure"],
[/\bconfigure\b/g,"configure"],
[/\bInstall\b/g,"Instalar"],
[/\binstall\b/g,"instalar"],
[/\bInstalling\b/g,"Instalando"],
[/\binstalling\b/g,"instalando"],
[/\binstalled\b/g,"instalado"],
[/\bCheck\b/g,"Verifique"],
[/\bcheck\b/g,"verifique"],
[/\bChecking\b/g,"Verificando"],
[/\bchecking\b/g,"verificando"],
[/\bVerify\b/g,"Verifique"],
[/\bverify\b/g,"verifique"],
[/\bMonitor\b/g,"Monitore"],
[/\bmonitor\b/g,"monitore"],
[/\bFinish\b/g,"Finalizar"],
[/\bfinish\b/g,"finalizar"],
[/\bEnd\b/g,"Fim"],
[/\bend\b/g,"fim"],
[/\bStore\b/g,"Armazene"],
[/\bstore\b/g,"armazene"],
[/\bAssign\b/g,"Atribua"],
[/\bassign\b/g,"atribua"],
[/\bManage\b/g,"Gerencie"],
[/\bmanage\b/g,"gerencie"],
[/\bShow\b/g,"Mostrar"],
[/\bshow\b/g,"mostrar"],
[/\bPress\b/g,"Pressione"],
[/\bpress\b/g,"pressione"],
[/\bChoose\b/g,"Escolha"],
[/\bchoose\b/g,"escolha"],
[/\bEnter\b/g,"Digite"],
[/\benter\b/g,"digite"],
[/\bType\b/g,"Digite"],
[/\btype\b/g,"digite"],
[/\bEnable\b/g,"Habilite"],
[/\benable\b/g,"habilite"],
[/\bDisable\b/g,"Desabilite"],
[/\bdisable\b/g,"desabilite"],
[/\bExpand\b/g,"Expanda"],
[/\bexpand\b/g,"expanda"],
[/\bCollapse\b/g,"Recolha"],
[/\bcollapse\b/g,"recolha"],
[/\bNavigate\b/g,"Navegue"],
[/\bnavigate\b/g,"navegue"],
[/\bSearch\b/g,"Busque"],
[/\bsearch\b/g,"busque"],
[/\bFilter\b/g,"Filtre"],
[/\bfilter\b/g,"filtre"],
[/\bRefresh\b/g,"Atualize"],
[/\brefresh\b/g,"atualize"],
[/\bReload\b/g,"Recarregue"],
[/\breload\b/g,"recarregue"],
[/\bSubmit\b/g,"Envie"],
[/\bsubmit\b/g,"envie"],
[/\bApply\b/g,"Aplique"],
[/\bapply\b/g,"aplique"],
[/\bConfirm\b/g,"Confirme"],
[/\bconfirm\b/g,"confirme"],
[/\bAccept\b/g,"Aceite"],
[/\baccept\b/g,"aceite"],
[/\bReject\b/g,"Rejeite"],
[/\breject\b/g,"rejeite"],
[/\bApprove\b/g,"Aprove"],
[/\bapprove\b/g,"aprove"],
[/\bDeny\b/g,"Negue"],
[/\bdeny\b/g,"negue"],
[/\bCommit\b/g,"Confirme"],
[/\bcommit\b/g,"confirme"],
// Nouns and common words
[/\bUsername\b/g,"Usuario"],
[/\busername\b/g,"usuario"],
[/\bPassword\b/g,"Senha"],
[/\bpassword\b/g,"senha"],
[/\bpasswords\b/g,"senhas"],
[/\bserver\b/g,"servidor"],
[/\bServer\b/g,"Servidor"],
[/\bservers\b/g,"servidores"],
[/\bservice\b/g,"servico"],
[/\bService\b/g,"Servico"],
[/\bservices\b/g,"servicos"],
[/\bdatabase\b/g,"banco de dados"],
[/\bDatabase\b/g,"Banco de dados"],
[/\bconfiguration\b/g,"configuracao"],
[/\bConfiguration\b/g,"Configuracao"],
[/\bresources\b/g,"recursos"],
[/\bResources\b/g,"Recursos"],
[/\bresource\b/g,"recurso"],
[/\bResource\b/g,"Recurso"],
[/\bpermission\b/g,"permissao"],
[/\bPermission\b/g,"Permissao"],
[/\bpermissions\b/g,"permissoes"],
[/\bapplication\b/g,"aplicacao"],
[/\bApplication\b/g,"Aplicacao"],
[/\bapplications\b/g,"aplicacoes"],
[/\brole\b/g,"funcao"],
[/\bRole\b/g,"Funcao"],
[/\broles\b/g,"funcoes"],
[/\bRoles\b/g,"Funcoes"],
[/\breport\b/g,"relatorio"],
[/\bReport\b/g,"Relatorio"],
[/\breports\b/g,"relatorios"],
[/\brequest\b/g,"solicitacao"],
[/\bRequest\b/g,"Solicitacao"],
[/\brequests\b/g,"solicitacoes"],
[/\bprocess\b/g,"processo"],
[/\bProcess\b/g,"Processo"],
[/\bprocesses\b/g,"processos"],
[/\bprocessed\b/g,"processado"],
[/\bimport\b/g,"importar"],
[/\bImport\b/g,"Importar"],
[/\bexport\b/g,"exportar"],
[/\bExport\b/g,"Exportar"],
[/\bminutes\b/g,"minutos"],
[/\bNote\b/g,"Nota"],
[/\bnote\b/g,"nota"],
[/\bwizard\b/g,"assistente"],
[/\bWizard\b/g,"Assistente"],
[/\btab\b/g,"aba"],
[/\bTab\b/g,"Aba"],
[/\btabs\b/g,"abas"],
[/\bbutton\b/g,"botao"],
[/\bButton\b/g,"Botao"],
[/\bmenu\b/g,"menu"],
[/\bcontext menu\b/gi,"menu de contexto"],
[/\bfolder\b/g,"pasta"],
[/\bFolder\b/g,"Pasta"],
[/\bfile\b/g,"arquivo"],
[/\bFile\b/g,"Arquivo"],
[/\bfiles\b/g,"arquivos"],
[/\bpath\b/g,"caminho"],
[/\bPath\b/g,"Caminho"],
[/\bname\b/g,"nome"],
[/\bName\b/g,"Nome"],
[/\bvalue\b/g,"valor"],
[/\bValue\b/g,"Valor"],
[/\bvalues\b/g,"valores"],
[/\bdefault\b/g,"padrao"],
[/\bDefault\b/g,"Padrao"],
[/\bsettings\b/g,"configuracoes"],
[/\bSettings\b/g,"Configuracoes"],
[/\bproperties\b/g,"propriedades"],
[/\bProperties\b/g,"Propriedades"],
[/\bproperty\b/g,"propriedade"],
[/\bProperty\b/g,"Propriedade"],
[/\bform\b/g,"formulario"],
[/\bForm\b/g,"Formulario"],
[/\baccount\b/g,"conta"],
[/\bAccount\b/g,"Conta"],
[/\baccounts\b/g,"contas"],
[/\buser\b/g,"usuario"],
[/\bUser\b/g,"Usuario"],
[/\busers\b/g,"usuarios"],
[/\bconnection\b/g,"conexao"],
[/\bConnection\b/g,"Conexao"],
[/\bconnections\b/g,"conexoes"],
[/\binstallation\b/g,"instalacao"],
[/\bInstallation\b/g,"Instalacao"],
[/\binstaller\b/g,"instalador"],
[/\bInstaller\b/g,"Instalador"],
[/\bavailability\b/g,"disponibilidade"],
[/\bAvailability\b/g,"Disponibilidade"],
[/\bavailable\b/g,"disponivel"],
[/\bAvailable\b/g,"Disponivel"],
[/\binstructions\b/g,"instrucoes"],
[/\bInstructions\b/g,"Instrucoes"],
[/\bincludes\b/g,"inclui"],
[/\binclude\b/g,"incluir"],
[/\bsoftware\b/g,"software"],
[/\bversion\b/g,"versao"],
[/\bVersion\b/g,"Versao"],
[/\btrainer\b/g,"instrutor"],
[/\bTrainer\b/g,"Instrutor"],
[/\btraining\b/g,"treinamento"],
[/\bTraining\b/g,"Treinamento"],
[/\bcourse\b/g,"curso"],
[/\bCourse\b/g,"Curso"],
[/\benvironment\b/g,"ambiente"],
[/\bEnvironment\b/g,"Ambiente"],
[/\bdevelopment\b/g,"desenvolvimento"],
[/\bDevelopment\b/g,"Desenvolvimento"],
[/\bproduction\b/g,"producao"],
[/\bProduction\b/g,"Producao"],
[/\bsecurity\b/g,"seguranca"],
[/\bSecurity\b/g,"Seguranca"],
[/\breason\b/g,"razao"],
[/\bencryption\b/g,"criptografia"],
[/\bEncryption\b/g,"Criptografia"],
[/\bencrypted\b/g,"criptografado"],
[/\bwarning\b/g,"aviso"],
[/\bWarning\b/g,"Aviso"],
[/\berror\b/g,"erro"],
[/\bError\b/g,"Erro"],
[/\bmessage\b/g,"mensagem"],
[/\bMessage\b/g,"Mensagem"],
[/\bmessages\b/g,"mensagens"],
[/\bstatus\b/g,"status"],
[/\bhealth\b/g,"saude"],
[/\bHealth\b/g,"Saude"],
[/\bsystem\b/g,"sistema"],
[/\bSystem\b/g,"Sistema"],
[/\bchanges\b/g,"alteracoes"],
[/\bchange\b/g,"alteracao"],
[/\bscenario\b/g,"cenario"],
[/\bScenario\b/g,"Cenario"],
[/\bentitlements\b/g,"direitos"],
[/\bentitlement\b/g,"direito"],
[/\bprivileges\b/g,"privilegios"],
[/\bstandard\b/g,"padrao"],
[/\bStandard\b/g,"Padrao"],
[/\bexperts\b/g,"especialistas"],
[/\bexpert\b/g,"especialista"],
[/\bquestion\b/g,"pergunta"],
[/\bquestions\b/g,"perguntas"],
[/\bselections\b/g,"selecoes"],
[/\bselection\b/g,"selecao"],
[/\binterval\b/g,"intervalo"],
[/\bsource\b/g,"fonte"],
[/\bSource\b/g,"Fonte"],
[/\baccess\b/g,"acesso"],
[/\bAccess\b/g,"Acesso"],
[/\bcheckmark\b/g,"marca de verificacao"],
[/\bgreen\b/g,"verde"],
[/\bblue\b/g,"azul"],
[/\blines\b/g,"linhas"],
[/\bline\b/g,"linha"],
[/\bicons\b/g,"icones"],
[/\bicon\b/g,"icone"],
[/\bsuccessfully\b/g,"com sucesso"],
[/\bautomatically\b/g,"automaticamente"],
[/\bmanually\b/g,"manualmente"],
[/\bremotely\b/g,"remotamente"],
[/\bnormally\b/g,"normalmente"],
[/\btypically\b/g,"tipicamente"],
[/\bcontinuously\b/g,"continuamente"],
[/\bclosely\b/g,"de perto"],
[/\beasily\b/g,"facilmente"],
[/\bcurrently\b/g,"atualmente"],
[/\boptionally\b/g,"opcionalmente"],
[/\bearlier\b/g,"anteriormente"],
[/\balready\b/g,"ja"],
[/\bnow\b/g,"agora"],
[/\bNow\b/g,"Agora"],
[/\bthen\b/g,"entao"],
[/\bThen\b/g,"Entao"],
[/\bbefore\b/g,"antes"],
[/\bBefore\b/g,"Antes"],
[/\bafter\b/g,"depois"],
[/\bAfter\b/g,"Depois"],
[/\bduring\b/g,"durante"],
[/\bDuring\b/g,"Durante"],
[/\bbelow\b/g,"abaixo"],
[/\bBelow\b/g,"Abaixo"],
[/\babove\b/g,"acima"],
[/\bAbove\b/g,"Acima"],
[/\bnext\b/g,"proximo"],
[/\bNext\b/g,"Proximo"],
[/\bprevious\b/g,"anterior"],
[/\bPrevious\b/g,"Anterior"],
[/\bfirst\b/g,"primeiro"],
[/\bFirst\b/g,"Primeiro"],
[/\bsecond\b/g,"segundo"],
[/\blast\b/g,"ultimo"],
[/\bLast\b/g,"Ultimo"],
[/\bnew\b/g,"novo"],
[/\bNew\b/g,"Novo"],
[/\bold\b/g,"antigo"],
[/\bsame\b/g,"mesmo"],
[/\bSame\b/g,"Mesmo"],
[/\bother\b/g,"outro"],
[/\bOther\b/g,"Outro"],
[/\bboth\b/g,"ambos"],
[/\bBoth\b/g,"Ambos"],
[/\ball\b/g,"todos"],
[/\bAll\b/g,"Todos"],
[/\bany\b/g,"qualquer"],
[/\bAny\b/g,"Qualquer"],
[/\beach\b/g,"cada"],
[/\bEach\b/g,"Cada"],
[/\bevery\b/g,"cada"],
[/\bEvery\b/g,"Cada"],
[/\bsome\b/g,"alguns"],
[/\bSome\b/g,"Alguns"],
[/\bmany\b/g,"muitos"],
[/\bMany\b/g,"Muitos"],
[/\bfew\b/g,"poucos"],
[/\bFew\b/g,"Poucos"],
[/\bmore\b/g,"mais"],
[/\bMore\b/g,"Mais"],
[/\bonly\b/g,"apenas"],
[/\bOnly\b/g,"Apenas"],
[/\bstill\b/g,"ainda"],
[/\bStill\b/g,"Ainda"],
[/\balso\b/g,"tambem"],
[/\bAlso\b/g,"Tambem"],
[/\bthe\b/g,"o"],
[/\bThe\b/g,"O"],
[/\band\b/g,"e"],
[/\bAnd\b/g,"E"],
[/\bor\b/g,"ou"],
[/\bOr\b/g,"Ou"],
[/\bbut\b/g,"mas"],
[/\bBut\b/g,"Mas"],
[/\bnot\b/g,"nao"],
[/\bNot\b/g,"Nao"],
[/\bwith\b/g,"com"],
[/\bWith\b/g,"Com"],
[/\bwithout\b/g,"sem"],
[/\bWithout\b/g,"Sem"],
[/\bfor\b/g,"para"],
[/\bFor\b/g,"Para"],
[/\bfrom\b/g,"de"],
[/\bFrom\b/g,"De"],
[/\binto\b/g,"em"],
[/\bInto\b/g,"Em"],
[/\busing\b/g,"usando"],
[/\bUsing\b/g,"Usando"],
[/\blike\b/g,"como"],
[/\bLike\b/g,"Como"],
[/\babout\b/g,"sobre"],
[/\bAbout\b/g,"Sobre"],
[/\bbetween\b/g,"entre"],
[/\bBetween\b/g,"Entre"],
[/\bwhich\b/g,"qual"],
[/\bWhich\b/g,"Qual"],
[/\bwhere\b/g,"onde"],
[/\bWhere\b/g,"Onde"],
[/\bwhen\b/g,"quando"],
[/\bWhen\b/g,"Quando"],
[/\bwhat\b/g,"o que"],
[/\bWhat\b/g,"O que"],
[/\bwhy\b/g,"por que"],
[/\bWhy\b/g,"Por que"],
[/\bhow\b/g,"como"],
[/\bHow\b/g,"Como"],
[/\bthat\b/g,"que"],
[/\bThat\b/g,"Que"],
[/\bthis\b/g,"este"],
[/\bthese\b/g,"estes"],
[/\bThese\b/g,"Estes"],
[/\bthose\b/g,"aqueles"],
[/\bThose\b/g,"Aqueles"],
[/\bhere\b/g,"aqui"],
[/\bHere\b/g,"Aqui"],
[/\bthere\b/g,"la"],
[/\bThere\b/g,"La"],
[/\bwe\b/g,"nos"],
[/\bWe\b/g,"Nos"],
[/\bour\b/g,"nosso"],
[/\bOur\b/g,"Nosso"],
[/\byour\b/g,"seu"],
[/\bYour\b/g,"Seu"],
[/\bits\b/g,"seu"],
[/\btheir\b/g,"deles"],
[/\bhas\b/g,"tem"],
[/\bhave\b/g,"ter"],
[/\bhad\b/g,"tinha"],
[/\bwas\b/g,"foi"],
[/\bwere\b/g,"foram"],
[/\bare\b/g,"sao"],
[/\bis\b/g,"e"],
[/\bby\b/g,"por"],
[/\bBy\b/g,"Por"],
[/\bof\b/g,"de"],
[/\bOf\b/g,"De"],
[/\bto\b/g,"para"],
[/\bTo\b/g,"Para"],
[/\bat\b/g,"em"],
[/\bAt\b/g,"Em"],
[/\bon\b/g,"em"],
[/\bOn\b/g,"Em"],
[/\ban\b/g,"um"],
[/\bAn\b/g,"Um"],
[/\ba\b/g,"um"],
[/\bA\b/g,"Um"],
[/\bit\b/g,"ele"],
[/\bIt\b/g,"Ele"],
[/\bno\b/g,"nenhum"],
[/\bNo\b/g,"Nenhum"],
[/\byes\b/g,"sim"],
[/\bYes\b/g,"Sim"],
[/\bif\b/g,"se"],
[/\bIf\b/g,"Se"],
[/\bso\b/g,"entao"],
[/\bSo\b/g,"Entao"],
[/\btoo\b/g,"tambem"],
[/\bvery\b/g,"muito"],
[/\bjust\b/g,"apenas"],
[/\bJust\b/g,"Apenas"],
[/\bup\b/g,"cima"],
[/\bdown\b/g,"baixo"],
[/\bin\b/g,"em"],
[/\bIn\b/g,"Em"]
];

function translate(t){
  // Clean garbled chars from PDF images (N??? patterns)
  t=t.replace(/N[\uFFFD\u00EF\u00BF\u00BD\?\ufffd]{1,5}:?/g,'\u{1F4CB} [Nota/Imagem]: ');
  t=t.replace(/[\uFFFD\ufffd]+/g,' \u{1F5BC} ');
  for(const[p,r]of dict)t=t.replace(p,r);
  return t;
}

function showLab(lab){
  alab=lab.id; localStorage.setItem(AK,lab.id);
  $('ph').style.display='none'; $('pw').classList.add('vis');
  $('nt').textContent=lab.title; $('nc2').textContent=lab.code||'';
  $('ni').textContent=lab.pages.length+' pag.';
  // Slides button
  const bsl=$('bsl');
  if(lab.slidePdf){bsl.classList.remove('off');}else{bsl.classList.add('off');}
  // Render pages
  const pgc=$('pgc'); pgc.innerHTML='';
  lab.pages.forEach((f,i)=>{
    const w=ce('div','piw'); w.style.position='relative';
    const img=ce('img'); img.src=ID+f; img.loading=i<3?'eager':'lazy';
    w.appendChild(img);
    w.onclick=e=>{if(!mmode)return; const r=w.getBoundingClientRect(); addMark(lab.id,i,((e.clientX-r.left)/r.width*100).toFixed(2),((e.clientY-r.top)/r.height*100).toFixed(2));};
    pgc.appendChild(w);
  });
  setTimeout(()=>renderMarks(lab.id),100);
  if(tvis)showTrans(lab); if(svis)showSlides(lab);
  $('cp').scrollTop=0; renderList();
}

function showTrans(lab){
  const t=translate(lab.text||''); $('tbd').textContent=t;
}

function showSlides(lab){
  const bd=$('sbd'); bd.innerHTML='';
  if(!lab.slidePdf){bd.innerHTML='<p style="color:#94a3b8;font-size:0.85rem;">Nenhum material de apoio disponivel para esta lab.</p>';return;}
  const em=document.createElement('embed'); em.src=PD+lab.slidePdf; em.type='application/pdf';
  bd.appendChild(em);
}

// Markers
function addMark(lid,pi,x,y){
  if(!mrk[lid])mrk[lid]=[];
  const n=prompt('Nota para este marcador:'); if(n===null)return;
  mrk[lid].push({id:Date.now(),pi,x:+x,y:+y,n:n||''}); sj(MK,mrk); renderMarks(lid);
}
function delMark(lid,mid){mrk[lid]=(mrk[lid]||[]).filter(m=>m.id!==mid); sj(MK,mrk); renderMarks(lid);}
function renderMarks(lid){
  document.querySelectorAll('.ad,.at').forEach(e=>e.remove());
  const ws=document.querySelectorAll('.piw'); let c=1;
  (mrk[lid]||[]).forEach(m=>{
    const w=ws[m.pi]; if(!w)return;
    const d=ce('div','ad'); d.textContent=c++; d.style.left=m.x+'%'; d.style.top=m.y+'%'; d.style.position='absolute';
    d.onmouseenter=()=>{if(m.n){const t=ce('div','at'); t.textContent=m.n; t.style.left=m.x+'%'; t.style.top=m.y+'%'; t.style.position='absolute'; w.appendChild(t);}};
    d.onmouseleave=()=>w.querySelectorAll('.at').forEach(t=>t.remove());
    d.oncontextmenu=e=>{e.preventDefault(); if(confirm('Remover marcador?'))delMark(lid,m.id);};
    w.appendChild(d);
  });
}

function hl(txt,q){if(!q)return txt; const re=new RegExp('('+q.replace(/[.*+?^${}()|[\]\\]/g,'\\$&')+')','gi'); return txt.replace(re,'<b>$1</b>');}

function renderList(){
  const ll=$('ll'); ll.innerHTML='';
  const dc=LABS.filter(l=>prog[l.id]).length, pn=LABS.length-dc;
  $('pcn').textContent=dc+' / '+LABS.length;
  const pct=Math.round(dc/LABS.length*100);
  $('pfb').style.width=pct+'%'; $('ppt').textContent=pct+'% concluido';
  document.querySelectorAll('.fb').forEach(b=>{const f=b.dataset.f; if(f==='all')b.textContent='Todas ('+LABS.length+')'; if(f==='pending')b.textContent='Pendentes ('+pn+')'; if(f==='done')b.textContent='Concluidas ('+dc+')';});

  const sr=searchResults();
  if(sr){
    const hd=ce('div','sr-count'); hd.textContent='Encontrado "'+sq+'" em '+sr.length+' lab(s)'; ll.appendChild(hd);
    sr.forEach(r=>{
      const d=ce('div','sr');
      d.innerHTML='<span class="srt" data-lid="'+r.lab.id+'">Lab '+r.lab.id+': '+r.lab.title+'</span> <span style="color:#64748b">('+r.count+'x)</span><br>'+hl(r.snip,sq);
      d.querySelector('.srt').onclick=()=>showLab(r.lab);
      ll.appendChild(d);
    });
    if(!sr.length){const nd=ce('div','sr-count'); nd.textContent='Nenhum resultado encontrado.'; ll.appendChild(nd);}
    return;
  }

  LABS.forEach(lab=>{
    const dn=!!prog[lab.id];
    if(flt==='pending'&&dn)return; if(flt==='done'&&!dn)return;
    const c=ce('div','lc'+(dn?' dn':'')+(alab===lab.id?' act':''));
    const sl=!!lab.slidePdf;
    c.innerHTML='<div class="ls">'+(dn?'\u2713':lab.id)+'</div><div class="li"><div class="lt" title="'+lab.title+'">'+lab.title+'</div>'+(lab.code?'<div class="lcd">'+lab.code+'</div>':'')+'<div class="lm">'+lab.pages.length+' pag.'+(sl?' | Slides':'')+'</div></div><div class="lk" data-t="1"><svg viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="3"><polyline points="20 6 9 17 4 12"/></svg></div>';
    c.onclick=e=>{if(e.target.closest('[data-t]')){e.stopPropagation(); prog[lab.id]=!prog[lab.id]; sj(SK,prog); setTimeout(renderList,150); return;} showLab(lab);};
    ll.appendChild(c);
  });
}

function $(id){return document.getElementById(id);}
function ce(tag,cls){const e=document.createElement(tag); if(cls)e.className=cls; return e;}

// Events
$('bpt').onclick=()=>{tvis=!tvis; $('bpt').classList.toggle('on',tvis); $('tp').classList.toggle('vis',tvis); if(tvis&&alab){const l=LABS.find(x=>x.id===alab); if(l)showTrans(l);}};
$('xtb').onclick=()=>{tvis=false; $('bpt').classList.remove('on'); $('tp').classList.remove('vis');};
$('bmk').onclick=()=>{mmode=!mmode; $('bmk').classList.toggle('on',mmode); $('pw').classList.toggle('mm',mmode);};
$('bsl').onclick=()=>{svis=!svis; $('bsl').classList.toggle('on',svis); $('sp').classList.toggle('vis',svis); if(svis&&alab){const l=LABS.find(x=>x.id===alab); if(l)showSlides(l);}};
$('xsb').onclick=()=>{svis=false; $('bsl').classList.remove('on'); $('sp').classList.remove('vis');};
document.querySelectorAll('.fb').forEach(b=>b.onclick=()=>{document.querySelectorAll('.fb').forEach(x=>x.classList.remove('on')); b.classList.add('on'); flt=b.dataset.f; renderList();});
$('rbtn').onclick=()=>{if(confirm('Resetar todo o progresso?')){prog={}; sj(SK,prog); renderList();}};

// Search
let sq='';
$('sinp').oninput=e=>{sq=e.target.value.trim().toLowerCase(); renderList();};

// Login
const LU='onelab',LP='sPjAJk',LK='F309510B',LSK='olab_auth';
function checkAuth(){return localStorage.getItem(LSK)==='1';}
function initLogin(){
  if(checkAuth()){$('loginOv').classList.add('hide');return;}
  $('lBtn1').onclick=()=>{
    const u=$('lUser').value.trim(),p=$('lPass').value;
    if(u===LU&&p===LP){localStorage.setItem('olab_user',u);$('step1').classList.remove('vis');$('step2').classList.add('vis');$('lErr1').textContent='';$('lKey').focus();}
    else{$('lErr1').textContent='Usuario ou senha incorretos';}
  };
  $('lPass').onkeydown=e=>{if(e.key==='Enter')$('lBtn1').click();};
  $('lBtn2').onclick=()=>{
    if($('lKey').value.trim().toUpperCase()===LK){localStorage.setItem(LSK,'1');$('loginOv').classList.add('hide');}
    else{$('lErr2').textContent='Access Key invalida';}
  };
  $('lKey').onkeydown=e=>{if(e.key==='Enter')$('lBtn2').click();};
}
initLogin();

// Profile
if(checkAuth()){
  const un=localStorage.getItem('olab_user')||'onelab';
  $('uname').textContent=un;
  $('uav').textContent=un.charAt(0).toUpperCase();
}
$('ubtn').onclick=()=>{
  if(confirm('Deseja sair?')){
    localStorage.removeItem(LSK);
    localStorage.removeItem('olab_user');
    location.reload();
  }
};

function searchResults(){
  if(!sq||sq.length<2)return null;
  const res=[];
  LABS.forEach(lab=>{
    const t=(lab.text||'').toLowerCase();
    const ti=lab.title.toLowerCase();
    if(ti.includes(sq)||t.includes(sq)){
      let count=0,idx=0;
      while((idx=t.indexOf(sq,idx))!==-1){count++;idx+=sq.length;}
      if(ti.includes(sq))count=Math.max(count,1);
      // Get snippet
      const pos=t.indexOf(sq);
      let snip='';
      if(pos>=0){
        const s=Math.max(0,pos-40),e=Math.min(t.length,pos+sq.length+40);
        snip=(s>0?'...':'')+lab.text.substring(s,e).replace(/\n/g,' ')+(e<t.length?'...':'');
      }
      res.push({lab,count,snip});
    }
  });
  return res;
}

renderList();
if(alab){const l=LABS.find(x=>x.id===alab); if(l)showLab(l);}

</script>
</body>
</html>